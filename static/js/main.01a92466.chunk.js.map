{"version":3,"sources":["data/tonenames.js","midi/midi.js","ui/utils.js","models/models.js","data/store.js","ui/footer/footer.js","ui/toolrow/browse/browse.js","ui/toolrow/home/home.js","ui/toolrow/synth/synth.js","ui/toolrow/editor/sample/sample.js","ui/toolrow/editor/record/record.js","ui/toolrow/editor/objs/panels/template.js","ui/toolrow/editor/objs/panels/effects.js","ui/toolrow/editor/objs/panels/components.js","ui/toolrow/editor/objs/panels/instruments.js","ui/toolrow/editor/objs/panels/sources.js","ui/toolrow/editor/objs/objs.js","ui/toolrow/editor/editor.js","ui/toolrow/toolrow.js","ui/toolrow/sidebar/sidebar.js","ui/header/looptile.js","ui/header/timeline.js","ui/header/header.js","ui/mode/trackrow/mixrow.js","ui/mode/trackrow/mixrowedit.js","ui/mode/trackrow/trackrow.js","ui/mode/timeline/timeline.js","ui/mode/sequencer.js","ui/mode/button.js","ui/mode/trackrow/mixrowbars.js","ui/mode/trackrow/mixrownotes.js","ui/mode/edit.js","ui/mode/trackrow/mixrowmanagerscene.js","ui/mode/trackrow/mixrowmanagertrack.js","ui/mode/manager.js","ui/draw.js","ui/mode/dropzone.js","ui/toolrow/song/loadsave.js","App.js","registerServiceWorker.js","index.js"],"names":["toneObjNames","toLowerCase","onMIDISuccess","midiAccess","console","log","_step","_iterator","_createForOfIteratorHelper","inputs","values","s","n","done","value","onmidimessage","getMIDIMessage","err","e","f","onMIDIFailure","throttlePlayerModelRateChange","throttle","val","store","getTracksByGroup","ui","selectedGroup","forEach","track","idx","type","player","instruments","getPlayerByTrack","id","playbackRate","setModelPlaybackRate","message","command","velocity","data","length","toString","mappedVal","parseFloat","mapVal","toFixed","row","ToneObjs","find","i","obj","changePlayerRate","noteOn","noteOff","TransportChange","GroupChange","str1","hex","str","String","fromCharCode","parseInt","substr","hex_to_ascii","group","selectGroup","msg","eleButton","action","document","getElementById","click","note","viewMode","createEvent","dispatchEvent","PointerEvent","bubbles","buffer","loaded","start","selectTrack","trackInstNoteOn","stop","divGridButton","divProgress","querySelector","style","animation","trackInstNoteOff","num","in_min","in_max","out_min","out_max","applyDraggableGrid","mStartPos","origData","bFlag","bMoving","dragMoveListener","event","end","target","x","getAttribute","y","dx","dy","views","edit","mode","setAttribute","undefined","webkitTransform","transform","mixMode","elements","getElementsByClassName","fixedTop","timeline","top","replace","isNaN","diff","interact","isSet","on","Math","sqrt","pow","draggable","inertia","restrict","restriction","endOnly","elementRect","left","bottom","right","autoScroll","ignoreFrom","onmove","onstart","onend","audioBufferToWav","opt","Promise","resolve","reject","result","numChannels","numberOfChannels","sampleRate","format","float32","bitDepth","getChannelData","worker","Worker","onmessage","blob","Blob","postMessage","renderWaveform","width","height","summary","multiplier","canvas","select","append","attr","node","getContext","ctx","lineWidth","strokeStyle","beginPath","Object","toConsumableArray","Array","keys","h","moveTo","lineTo","stroke","renderSong","_x","_x2","_renderSong","apply","this","arguments","_callee","pattern","tLength","playerPart","utils_regeneratorRuntime","wrap","_context","prev","next","time","parts","getSceneLength","scene","getSongLength","Tone","_ref2","transport","bpm","settings","swing","swingSubdivision","offlineToneObjs","effects","components","sources","custom","setToneObjs","patterns","trackConns","getConnectionsByTrack","filter","c","dest","split","getPanVol","addConnection","srcType","o","src","connect","push","connections","getPatternsByTrack","destination","getAllPatterns","p","initPart","part","objPart","notes","at","mute","getNote","duration","offset","probability","humanize","r","_convolver","then","timeEnd","set","state","position","_buffer","Microphone","forceDownload","title","offline","selTrack","tObjs","prop","Function","toneClass","resultObj","oArray","item","args","key","some","trackId","srcPlayer","itemArray","tinysynths","outId","outObj","window","WebAudioTinySynth","internalcontext","useReverb","tinySynth","t","setAudioContext","send","instrument","setTransport","loopStart","loopEnd","resizeFunction","setWindowWidthHeight","innerWidth","body","clientWidth","innerHeight","clientHeight","firstPageLoad","alert","documentElement","addEventListener","_initialized","preventDefault","updateOnlineStatus","navigator","onLine","debounce","setDevice","requestMIDIAccess","sysex","newfileTree","files","Scale","names","getRandomNote","arrayNotes","scale","randOctave","floor","random","noteVal","selectedChord","Chord","randomId","metronome","initMetronome","noise","volume","oscillator","envelope","attack","decay","sustain","release","toDestination","triggerAttackRelease","cancel","recordMode","addAudioObj","name","objSelf","getMembers","properties","noArgs","sync","delAudioObj","dispose","setPropVal","signal","child","voice","currVal","queryStr","get","reduceRight","acc","currentValue","defineProperty","expand","triggerAttack","TonalNote","freq","map","bPatternsMuted","frequency","ch","getInstrumentByTypeId","channel","midi","currentTime","noteNum","component","mouseDown","triggerRelease","timeStop","connectionsEnv","getConnectionsByObjId","envs","getComponentByTypeId","sort","a","b","Region","types","model","identifier","url","maybe","string","number","self","getRegions","actions","setRegions","delete","destroy","afterCreate","beforeDestroy","Sample","regions","optional","array","getRegion","addRegion","delRegion","afterAttach","MixRow","mainSelection","editSelection","setMainSelection","setEditSelection","Track","union","literal","boolean","solo","sample","reference","region","resolution","groupIndex","mixRow","returnRegion","getPlaybackRate","getAllByTrack","delNotes","deleteNotes","setResolution","res","setGroupIndex","moveTrackUp","prevTrack","moveTrackDown","nextTrack","setGroup","toggleMute","panvol","toggleSolo","tracks","solos","toggleGroup","groups","indexOf","UIObj","setCoords","Connection","destType","numOut","numIn","offlineDest","objSrc","objDest","arraySrc","arrayDest","voices","v","disconnect","Filter","enumeration","rolloff","Q","gain","create","getParent","addToneObj","delToneObj","AutoFilter","wet","depth","baseFrequency","octaves","AutoPanner","AutoWah","sensitivity","BitCrusher","bits","Chebyshev","order","oversample","Chorus","delayTime","spread","Convolver","Distortion","distortion","FeedbackDelay","maxDelay","feedback","Freeverb","roomSize","dampening","JCReverb","MidSideEffect","Phaser","stages","PingPongDelay","maxDelayTime","PitchShift","pitch","windowSize","Reverb","preDelay","generate","StereoWidener","Tremolo","Vibrato","Effects","autofilters","autopanners","autowahs","bitcrushers","chebyshevs","choruss","convolvers","distortions","feedbackdelays","freeverbs","jcreverbs","midsideeffects","phasers","pingpongdelays","pitchshifts","reverbs","stereowideners","tremolos","vibratos","getEffectByTypeId","list","hasOwnProperty","add","defaultArgs","objectSpread","getDefaults","delConnectionsByObj","Follower","smoothing","Meter","PanVol","pan","tokens","disconnectFromPanVol","Split","Limiter","threshold","Solo","Compressor","ratio","knee","MultibandCompressor","low","mid","high","lowFrequency","highFrequency","MidSideCompressor","side","EQ3","Mono","Gate","AmplitudeEnvelope","attackCurve","decayCurve","releaseCurve","Envelope","FrequencyEnvelope","exponent","LFO","min","max","phase","amplitude","FeedbackCombFilter","resonance","LowpassCombFilter","MultibandSplit","Volume","Panner","Components","filters","followers","meters","panvols","splits","limiters","eq3s","compressors","monos","gates","envelopes","amplitudeenvelopes","frequencyenvelopes","lfos","feedbackcombfilters","lowpasscombfilters","multibandcompressors","midsidecompressors","multibandsplits","volumes","panners","isHidden","match","AMOscillator","modulationType","detune","harmonicity","FMOscillator","modulationIndex","FatOscillator","count","Oscillator","OmniOscillator","PWMOscillator","modulationFrequency","PulseOscillator","Noise","UserMedia","Sources","amoscillators","fatoscillators","fmoscillators","oscillators","omnioscillators","pwmoscillators","pulseoscillators","noises","usermedias","getSourceByTypeId","Player","loop","autostart","retrigger","reverse","fadeIn","fadeOut","addAutomation","patternId","automation","DBLoadAudioFile","fromArray","isArray","Float32Array","blobUrl","URL","createObjectURL","load","revokeObjectURL","Synth","portamento","MonoSynth","filterEnvelope","getParentId","parent","voice1","AMSynth","modulation","modulationEnvelope","FMSynth","MetalSynth","MembraneSynth","pitchDecay","PluckSynth","attackNoise","NoiseSynth","PolySynth","polyphony","DuoSynth","vibratoAmount","vibratoRate","voice0","TinySynth","tsRow","pvRow","getConnectSourceNode","toneRow","Instruments","players","amsynths","fmsynths","synths","monosynths","metalsynths","membranesynths","plucksynths","noisesynths","polysynths","duosynths","cloneDeep","Scene","muteGroups","isGroupMuted","g","getLength","setStart","setEnd","setGroupMute","getPatternsBySceneGroup","setMute","Note","getPattern","pasteNoteProps","srcNote","setPartNote","setRandomNote","setNote","setOffset","setVelocity","setDuration","setProbability","setHumanize","toggle","remove","Pattern","getNotesByBar","bar","getSortedNotesAsc","sceneNotes","toSeconds","getSortedNotesDesc","addNote","dur","vel","prob","deleteNote","deleteNotesByBar","selectedNote","selectNote","pasteNotesToBar","newTime","createRandomNotes","timeStart","toBarsBeatsSixteenths","startBar","totalBars","totalNotes","slice","k","noteTime","pastePattern","inst","setValueAtTime","computedDur","includes","objContinue","checkPrevNoteDur","deltaDur","source","toMidi","getTrack","schedule","requestAnimationFrame","objNote","prevEndDur","currEndDur","clear","splice","findIndex","AutomationValue","ListBrowser","params","getParams","addParam","selectedDir","selectedFile","selectDir","dir","selectFile","file","UISequencerView","UIButtonView","UIEditView","selectedBars","copiedBars","copiedPattern","multiNoteSelect","selectedNotes","copiedNotes","isBarSelected","isBarCopied","getNumSelectedBars","getNumCopiedBars","getNumSelectedNotes","toggleMode","setViewLength","toggleMultiNoteSelect","selectedTrack","delSelectedNotes","toggleNote","noteId","getNotesByTrack","copySelectedNotes","clearCopiedNotes","copiedNote","pasteCopiedNote","dstNote","resetSelectedNotes","selectAllNotes","clearSelectedNotes","randomizeSelectedNotes","toggleBarSelect","selectAllBars","selectedPattern","copySelectedBars","setCopiedPatternId","pasteCopiedBars","destBar","deleteSelectedBarNotes","clearSelectedBars","clearCopiedBars","randomizeSelectedBarNotes","UIManagerView","copiedTrack","safeReference","copySceneMode","setMode","copyTrack","toggleCopySceneMode","UIMainViews","sequencer","button","manager","UIToolbarMain","UIToolbarBrowser","browser1","browser2","browser3","setAction","UIToolbarEditor","selectedObj","selectObj","UIToolbarKeys","UIToolbar","main","browser","editor1","editor2","UI","toolbar","editMode","viewLength","windowHeight","windowWidth","selectedToolbar","selectedScene","selectedKey","device","showSideBar","getSelectedPatternProp","getPatternByTrackScene","getSelectedNoteVelocity","getSelectedNoteValue","getSelectedNoteDuration","getSelectedNoteOffset","getGridSizes","sceneLength","scenePx","container","calibrateSizes","setupScroll","resetGridY","gridParent","gridContainer","viewSecs","gridContainerHeight","offsetHeight","padding","prevTop","newTop","topDiff","gridX","gridY","newX","fire","getWindowSizes","selectToolbar","selection","toggleMixMode","setViewScene","toggleSettings","bChangeView","toggleViewMode","selectScene","getScene","partRender","selectPattern","prevNote","noteVals","selectKey","selectChord","chord","innerHTML","toggleEditMode","toggleRecordMode","test","userAgent","Settings","modified","Date","setScale","setKey","setSongTitle","setModified","setBPM","setSwing","setSwingSubdivision","setLoopStart","setLoopEnd","RootStore","scenes","samples","getObjsByTrackObj","concat","getObjTypeByIdTrack","getTrackBySampleRegion","sampleId","regionId","sceneId","getSceneByTime","getScenesAsc","getScenesDesc","getPrevScene","sceneList","getNextScene","getAllSamples","getNumTracks","total","numSamples","getAllRegions","numRegions","getSample","getSampleByUrlLength","getConnection","connId","getPatternsByScene","getLoopLength","refreshConnections","_DBLoadAudioFile","asyncToGenerator","models_regeneratorRuntime","mark","db","tx","objStore","idb","upgradeDB","createObjectStore","keyPath","sent","transaction","objectStore","complete","close","abrupt","_DBSaveAudioFile","_callee2","_context2","put","_DBDeleteSongById","_callee3","_context3","_DBGetAllSongs","_callee4","allSavedItems","_context4","getAll","song","DBSaveStore","bSaveSong","openRequest","indexedDB","open","onupgradeneeded","objectStoreNames","contains","onsuccess","request","getSnapshot","onerror","setSongId","DBGetAllSongs","DBLoadStore","error","applySnapshot","DBSaveAudioFile","DBDeleteSongById","_x3","DBDelete","DBDeleteRequest","deleteDatabase","addPattern","delPattern","addMasterTracks","idTrack","idPanvol","idPanvolOut","idSolo","addTrack","panvolId","playerId","duplicateTrack","newTrackId","setObjPropVal","conns","conn","snapshot","pv","baseType","tinysynth","tsCopy","delTrack","groupTracks","effect","addScene","delScene","nextScene","prevScene","shiftSceneTimes","op","swapScenes","sId1","sId2","s1","s2","start1","length2","duplicateScene","newId","newPattern","connection","delConnection","addSample","delSample","firstSceneId","swing:","swingSubDivision","FooterView","observer","_Component","_getPrototypeOf2","_this","classCallCheck","_len","_key","possibleConstructorReturn","getPrototypeOf","call","playing","toggleSlider","props","tempoMode","viewPrev","tempoChange","Number","togglePlay","stopPropagation","icon","setTimeout","releaseAll","endSlider","hideBPMFooter","inherits","createClass","prevProps","prevState","eleIcon","vDisplay","display","iconRed","react_default","createElement","className","onClick","backgroundColor","border","marginLeft","marginRight","step","onChange","onMouseUp","endSlide","onTouchEnd","Component","bBrowseMenuLoading","browsePlayer","browsePlayerStart","eleAnim","eleLoadIcon","tStart","getTime","browsePlayerStop","procBrowseItem","browserId","randId","subDir","now","folderAddAudioFile","songFolder","strName","pop","zip","JSZip","folder","JSON","stringify","promiseArray","all","generateAsync","content","saveAs","exportSong","doc","docEl","requestFullScreen","requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","msRequestFullscreen","cancelFullScreen","exitFullscreen","mozCancelFullScreen","webkitExitFullscreen","msExitFullscreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","toggleFullScreen","changeBrowseMenu","opacity","disableBrowseBtnClick","eleList","classList","eleSelected","disabled","btn","toggleBrowseBtnLoad","Row","shouldComponentUpdate","bind","assertThisInitialized","rowAnimationEnded","selectRow","ele","loadIcon","prevEleAnim","rowClick","selected","newDir","_this2","origPos","bThreshold","scrollY","savedTop","rowId","scrollTop","overflow","querySelectorAll","eleAnimDiv","tNow","tDelta","animationDelay","unset","removeEventListener","_this$props","index","text","classSelected","showLoadIcon","iconType","toLocaleTimeString","pointerEvents","_Component2","_getPrototypeOf3","_this3","_len2","_key2","btnMainClick","btnBackClick","strDir","token","btnLoadClick","eleRow","filterSection","folders","importFile","_this4","currDir","accept","multiple","importFolder","mozdirectory","webkitdirectory","directory","dist_index_esm","_ref","index_esm","itemCount","itemData","itemSize","ToolHome","color","frameBorder","allow","allowFullScreen","margin","ToolSynth","ongoingTouches","setupKeys","rows","eles","visibility","arrayOctave","copyTouch","touch","pageX","pageY","element","ongoingTouchIndexById","idToFind","cancelTouchEvent","touches","changedTouches","keyDown","dragged","bTouched","keyUp","mouseLeaveKey","mouseLeaveContainer","mouseEnterKey","touchMove","hoverKey","elementFromPoint","parentNode","dataset","setupSlider","slider","maxChords","arrayChords","noUiSlider","updateOptions","range","chordIdx","tooltips","to","from","handle","eleToolTip","scaleKey","chords","numRows","startRow","data-notes","touchAction","textAlign","onMouseDown","onTouchStart","onTouchCancel","onMouseEnter","onMouseLeave","onTouchMove","ToolSampleEditor","drawAudio","objId","WaveSurfer","responsive","waveColor","progressColor","partialRender","scrollParent","plugins","RegionsPlugin","storeSample","loadDecodedBuffer","loadBlob","ensureWaveIsReady","isReady","minZoom","getDuration","maxZoom","eleZoom","selectRegion","bSelect","enableDragSelection","toggleSelect","regionTrack","regionBuffer","backend","toArray","storeRegion","handlers","selectedRegion","progress","zoom","zoomVal","dataId","getElementsByTagName","refreshRegions","toggleSelectDisable","children","overflowX","drag","resize","disableDragSelection","playPause","isPlaying","label","waitForReady","zoomChange","zoomLevel","winWidth","verticalAlign","onInput","ToolRecord","status","init","startRecord","interval","setInterval","Timer","clearInterval","recorder","_stream","strNum","stopRecord","newFile","File","forceUpdate","toggleRecord","Recorder","_mediaStream","context","sample_ToolSampleEditor","UIEditorHeader","delObj","selectSection","section","editorId","sections","btnClickTitle","selSection","strId","editorNum","sDisplay","btnRand","btnDelete","float","zIndex","funcRandom","toggleSections","UICustomRangeControl","updateValue","bValChanged","propName","numType","typedVal","instName","objType","reverbToneObj","setRandomVal","randVal","sliderId","pips","density","UITimeControl","_Component3","_getPrototypeOf4","_this5","_len3","_key3","1","2","3","4","5","6","7","8","9","10","round","UIWaveTypeControl","_Component4","_getPrototypeOf5","_this6","_len4","_key4","UIFilterTypeControl","_Component5","_getPrototypeOf6","_this7","_len5","_key5","UICurveTypeControl","_Component6","_getPrototypeOf7","_this8","_len6","_key6","UIFilterRolloffControl","_Component7","_getPrototypeOf8","_this9","_len7","_key7","UINoiseTypeControl","_Component8","_getPrototypeOf9","_this10","_len8","_key8","UIOverSample","_Component9","_getPrototypeOf10","_this11","_len9","_key9","UIOmniOscTypeControl","_Component10","_getPrototypeOf11","_this12","_len10","_key10","getOscType","oscType","_this13","template_UIOmniOscWaveTypeControl","UIOmniOscWaveTypeControl","_Component11","_getPrototypeOf12","_this14","_len11","_key11","getWaveType","newVal","waveType","_this15","removeAttribute","UIAutoFilter","arrSections","getDisplay","template_UIEditorHeader","template_UITimeControl","template_UIWaveTypeControl","template_UICustomRangeControl","template_UIFilterTypeControl","template_UIFilterRolloffControl","UIAutoPanner","UIAutoWah","UIBitCrusher","UIChebyshev","template_UIOverSample","UIChorus","UIConvolver","UIDistortion","UIFeedbackDelay","UIFreeverb","UIJCReverb","UIPhaser","_Component12","UIPingPongDelay","_Component13","UIPitchShift","_Component14","UIReverb","_Component15","UIStereoWidener","_Component16","_this16","UITremolo","_Component17","_this17","UIVibrato","_Component18","_this18","UIFilter","UIFrequencyEnvelope","UIAmplitudeEnvelope","UIGate","UILimiter","UILFO","UICompressor","UIMultibandCompressor","UIMidSideCompressor","UIMono","UIEQ3","UIPanVol","UILowpassCombFilter","UIFeedbackCombFilter","UIMultibandSplit","UIVolume","UIPanner","UISynth","setRandomVals","template_UIOmniOscTypeControl","UIAMSynth","UIFMSynth","UIMonoSynth","MonoSynthVoice","UIMetalSynth","UIMembraneSynth","template_UICurveTypeControl","UIPluckSynth","UINoiseSynth","template_UINoiseTypeControl","UIDuoSynth","arrChildSections","selChildSection","childHeader","UITinySynth","UIOscillator","UIAMOscillator","UIFMOscillator","UIFatOscillator","UIPWMOscillator","UIPulseOscillator","UINoise","ToolObjEditor","update","effects_UIAutoFilter","effects_UIAutoPanner","effects_UIAutoWah","effects_UIBitCrusher","effects_UIChebyshev","effects_UIChorus","effects_UIConvolver","effects_UIDistortion","effects_UIFeedbackDelay","effects_UIFreeverb","effects_UIJCReverb","effects_UIPhaser","effects_UIPingPongDelay","effects_UIPitchShift","effects_UIReverb","effects_UIStereoWidener","effects_UITremolo","effects_UIVibrato","components_UIAmplitudeEnvelope","components_UICompressor","components_UIEQ3","components_UIFilter","components_UIFrequencyEnvelope","components_UILimiter","components_UILFO","components_UIGate","components_UIMono","components_UIPanVol","components_UIFeedbackCombFilter","components_UILowpassCombFilter","components_UIMultibandCompressor","components_UIMidSideCompressor","components_UIMultibandSplit","components_UIVolume","components_UIPanner","instruments_UISynth","instruments_UIAMSynth","instruments_UIFMSynth","instruments_UIMonoSynth","instruments_UIMetalSynth","instruments_UIMembraneSynth","instruments_UIPluckSynth","instruments_UINoiseSynth","instruments_UIDuoSynth","instruments_UITinySynth","sources_UIOscillator","sources_UIAMOscillator","sources_UIFMOscillator","sources_UIFatOscillator","sources_UIPWMOscillator","sources_UIPulseOscillator","sources_UINoise","ToolEditor","record_ToolRecord","objs_ToolObjEditor","ToolRow","toolRowHeight","applyResizable","handleBG","resizable","edges","allowFrom","rect","UIZoomIn","UIZoomOut","toggleTool","displayTool","tool","charAt","toUpperCase","activeTool","btns","panels","selectBrowserFile","sign","deltaY","gesturable","ds","toolBrowse","arrayBrowsers","browse_ListBrowser","songKey","songScale","songSwing","toolrow_ToggleModeIcons","editViewMode","managerMode","marginTop","home_ToolHome","editor_ToolEditor","synth_ToolSynth","ToggleModeIcons","bgVisibility","iconOpacity","showGroupIcon","iconStyleClass","groupIcons","showEditIcon","ToolSideBar","LoopTile","setupLoopTile","divLoop","songLength","textContent","arraySnap","pixelSnap","rHandleX","modifiers","restrictRect","restrictEdges","outer","restrictSize","snap","targets","snapped","inRange","snapX","quantize","updateModel","CanvasHeaderTimeline","canvasTap","tapX","x1","x2","drawScenes","clearRect","w","fillStyle","fillRect","middle","font","fillText","HeaderView","timeline_CanvasHeaderTimeline","looptile_LoopTile","MixRowView","applyTransformOffset","transformX","firstButton","MixRowButtonEdit","mixrow_MixRowButtonToggleEditViewMode","fourthButton","mixrow_MixRowButtonToggleRes","mixrow_MixRowButtonToggleGroup","cssTopGap","mixrow_MixRowButtonMute","mixrow_MixRowButtonSolo","mixrow_MixRowButtonSliderProp","mixrow_MixMeters","mixrow_MixRowSlider","MixRowButtonSliderProp","toggleStyleSelect","eleBtn","toggleMixButton","clearTimeout","timeout","MixRowButtonSolo","soloColor","MixRowSlider","arrayRes","changeSlider","bPressed","setButtonText","onPressDown","onPressUp","txt","btnId","eleSlider","sliderEle","sliderVal","MixMeters","addMeter","idSplit","idMeterL","idMeterR","meterL","meterR","idPanVol","MixRowButtonMute","muteColor","MixRowButtonToggleGroup","MixRowButtonToggleRes","toggleResolution","MixRowButtonEditDelete","toggleEditView","MixRowButtonToggleEditViewMode","toggleEditViewMode","MixRowViewEdit","backButton","selectMixButton","noteDelta","notation","offsetTime","getSlider","patternLen","stepLen","TrackRowView","canvasHeight","ensureBufferIsLoaded","waitForBuffer","initRenderWaveform","drawTrack","handleMouseUp","mStopPos","clientX","clientY","mouseHold","handleClick","handleMouseDown","hold","clickX","distance","gridOffset","clickSecs","sceneEnd","sceneStart","timeQuant","nTime","drawGridLines","drawAudioNotes","drawInstNotes","highlightTrack","currPattern","globalAlpha","viewSquares","currBar","nextBar","squareWidth","sorted","unshift","barOffset","noteWidth","offsetWidth","copied","canvasWaveformId","imgWidth","img","Image","strSVG","divCanvas","canvasWaveform","childNodes","toDataURL","removeChild","drawAudioNote","onload","setSVG","xOffset","noteOffset","widthDelta","noteTimeDelta","cutDuration","n2","n2Offset","percent","drawImage","resType","squares","resNum","selectedPatternRes","selectedPatternNotesLen","waveRedrawTimeout","isAlive","selectedNoteDuration","selectedNoteOffset","selectedNoteValue","bSelectedNote","mixView","mixrow_MixRowView","mixrowedit_MixRowViewEdit","strSelected","playhead","lblBarNum","GridTimeline","len","eleContainer","wPx","inc","labels","SequencerView","toneInst","numTracks","sizes","timeline_GridTimeline","trackrow_TrackRowView","keyValue","rowIndex","selectedNoteVelocity","GridButtonView","ButtonView","noteEdited","trackRow","selectedPatternNotes","button_GridButtonAudio","editNote","button_GridButtonInstrument","GridButtonInstrument","objs","currScene","strClass","GridButtonAudio","animationEnded","drawWave","eleCanvas","MixRowViewBars","togglePasteButton","numSelectedBars","numCopiedBars","toggleButtons","btnIds","MixRowViewNotes","numSelectedNotes","EditView","edit_EditViewGraph","edit_EditViewBars","EditViewBars","svg","updateAfterNoteRandomize","mixrownotes_MixRowViewNotes","mixrowbars_MixRowViewBars","numMeasures","numCopiedNotes","EditViewGraph","objSize","toggleDeleteButtons","mouseUp","evt","drawingLine","mousePosX","mousePosY","activateObj","touchStart","mouseMove","drawConnection","hoverObj","activeObj","elePrev","ele1","ele2","eleBG","hw","hh","y1","y2","drawX1","drawX2","drawY1","drawY2","eleDelete","onclick","btnDeleteConnection","appendChild","strTrans","trim","hWidth","hHeight","grad","createLinearGradient","addColorStop","cssCursor","cssTop","edit_EditViewObj","active","edit_EditViewConnection","edit_LFOModal","objSrcId","EditViewConnection","EditViewObj","applyObjCoords","relX","relY","absX","absY","offsetTop","setInteract","dragObj","dragEnd","styleCursor","cName","LFOModal","innerText","setTableRow","table","insertRow","cell1","insertCell","cell2","toggleWindow","modal","hasChildNodes","firstChild","objOption","constructor","line","MixRowViewManagerScene","halfTotalBars","destBarNum","MixRowViewManagerTrack","ManagerView","view","manager_ManagerViewScene","manager_ManagerViewTrack","ManagerViewTrack","cells","txtTrack","muteTrack","setTrackMuteButton","editTrack","selTrackId","mixrowmanagertrack_MixRowViewManagerTrack","overflowY","ManagerViewScene","txtScene","muteSceneGroup","setGroupMuteButton","mixrowmanagerscene_MixRowViewManagerScene","Draw","objMeterCanvas","objButtonCanvas","objEditCanvas","initPlayhead","hdrPlayhead","resetObjArray","waveform","initEditObjs","addObjEditCanvas","waveformGradient","gradient","initAddButtonObjs","rowPanVol","initMeters","cL","cR","ctxL","ctxR","gradientL","gradientR","draw","drawPlayhead","drawTrackMixMeters","drawEditViewObjs","drawButtonViewObjs","getValue","lineJoin","objMeter","_analyser","levelL","levelR","scenePos","pos","tansform","hdrPos","reqVal","cancelAnimationFrame","DropZone","endAnimation","dropzone","ondropactivate","ondragenter","relatedTarget","ondragleave","ondrop","ondropdeactivate","LoadSaveModal","selectedSongTitle","selectedSongId","bConfirm","toggleIconOpacity","enableBtnLoad","formatDate","date","monthIndex","getMonth","day","getDate","year","getFullYear","btnLoad","btnClickLoad","sessionStorage","setItem","location","reload","btnClickSave","btnClickDelete","btnConfirmDelete","yes","resetSelectedSong","inputText","placeholder","loadsave_ConfirmDialog","confirm","loadsave_LoadSaveButton","ConfirmDialog","LoadSaveButton","AppView","bFirstLoad","loadSongId","getItem","removeItem","sideBar","viewWindow","sequencer_SequencerView","edit_EditView","manager_ManagerView","sidebar_ToolSideBar","header_HeaderView","toolrow_ToolRow","footer_FooterView","draw_Draw","dropzone_DropZone","loadsave_LoadSaveModal","alt","App","App_AppView","isLocalhost","Boolean","hostname","registerValidSW","swUrl","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","ReactDOM","render","App_App","process","origin","fetch","response","headers","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.01a92466.chunk.js","sourcesContent":["export const toneObjNames = [\n    //components\n    \"Waveform\",\n    \"Compressor\",\n    \"MidSideCompressor\",\n    \"LowpassCombFilter\",\n    \"PanVol\",\n    \"Split\",\n    \"CrossFade\",\n    \"Envelope\",\n    \"Gate\",\n    \"FFT\",\n    \"MultibandSplit\",\n    \"FeedbackCombFilter\",\n    \"MultibandCompressor\",\n    \"Solo\",\n    \"Limiter\",\n    \"Mono\",\n    \"Meter\",\n    \"EQ3\",\n    \"LFO\",\n    \"Panner\",\n    \"FrequencyEnvelope\",\n    \"ScaledEnvelope\",\n    \"Analyser\",\n    \"Follower\",\n    \"AmplitudeEnvelope\",\n    \"Volume\",\n    \"Panner3D\",\n    \"Merge\",\n    \"MidSideMerge\",\n    \"Filter\",\n    \"MidSideSplit\",\n\n    //effects\n    \"Chorus\",\n    \"AutoPanner\",\n    \"AutoWah\",\n    \"PitchShift\",\n    \"StereoWidener\",\n    \"Tremolo\",\n    \"Effect\",\n    \"PingPongDelay\",\n    \"MidSideEffect\",\n    \"Convolver\",\n    \"StereoFeedbackEffect\",\n    \"Chebyshev\",\n    \"StereoEffect\",\n    \"Vibrato\",\n    \"BitCrusher\",\n    \"StereoXFeedbackEffect\",\n    \"FeedbackEffect\",\n    \"Reverb\",\n    \"Distortion\",\n    \"JCReverb\",\n    \"Freeverb\",\n    \"AutoFilter\",\n    \"FeedbackDelay\",\n    \"Phaser\",\n\n    //instruments\n    \"Instrument\",\n    \"NoiseSynth\",\n    \"Synth\",\n    \"AMSynth\",\n    \"DuoSynth\",\n    \"Sampler\",\n    \"FMSynth\",\n    \"MonoSynth\",\n    \"PluckSynth\",\n    \"MetalSynth\",\n    \"PolySynth\",\n    \"Monophonic\",\n    \"MembraneSynth\",\n\n    //sources\n    \"TickSource\",\n    \"FatOscillator\",\n    \"Players\",\n    \"OmniOscillator\",\n    \"PWMOscillator\",\n    \"Player\",\n    \"BufferSource\",\n    \"AMOscillator\",\n    \"OscillatorNode\",\n    \"UserMedia\",\n    \"GrainPlayer\",\n    \"Noise\",\n    \"Source\",\n    \"Oscillator\",\n    \"PulseOscillator\",\n    \"FMOscillator\",\n\n    //Custom\n    \"TinySynth\",\n]","// import * as Tone from \"tone\";\nimport { ToneObjs } from '../models/models.js';\nimport { store } from '../data/store.js';\nimport * as throttle from 'lodash/throttle';\nimport { hex_to_ascii, mapVal } from '../ui/utils.js';\n\nlet btDevice, btCharacteristic;\nconst serviceId = '03B80E5A-EDE8-4B33-A751-6CE34EC4C700'.toLowerCase();\nconst characteristicId = '7772E5DB-3868-4112-A1A9-F2669D106BF3'.toLowerCase();\n\n/*   testing \ndocument.addEventListener('mousedown', async() => {\n    if(!btDevice)\n        await initBLE();\n});\n*/\n\nexport function initMidi(){\n    if (navigator.requestMIDIAccess) {\n        navigator.requestMIDIAccess({ sysex: true }).then(onMIDISuccess, onMIDIFailure);\n    } else {\n        console.log('WebMIDI is not supported in this browser.');\n    }\n}\n\nfunction onMIDISuccess(midiAccess) {\n    console.log('WebMIDI enabled');\n    for (let input of midiAccess.inputs.values())\n        input.onmidimessage = getMIDIMessage;\n}\n\nfunction onMIDIFailure() {\n    console.log('Could not access your MIDI devices.');\n}\n\n\n//throttle when changing player model (redraws trackrowview)\nlet throttlePlayerModelRateChange = throttle(changePlayerModelRate, 50);\n\nfunction getMIDIMessage(message) {\n    let command, val, velocity;\n\n    //notes and controlchanges\n    if(message.data.length === 3){\n        command = message.data[0];\n        val = message.data[1];\n        velocity = message.data[2];\n    }\n    //sysex\n    else if(message.data.length === 6){\n        val = message.data[4].toString(16)\n        if(val >= 41 && val <= 44){\n            command = \"GroupChange\";\n        }\n        else{\n            command = \"TransportChange\";\n        }\n    }\n\n    switch (command) {\n        //controlchanges\n        //https://www.midi.org/specifications-old/item/table-3-control-change-messages-data-bytes-2\n        case 176:\n            if(val === 1){\n                let mappedVal = parseFloat(mapVal(velocity, 0, 127, 0, 2).toFixed(2));\n                throttlePlayerModelRateChange(mappedVal);\n                changePlayerRate(mappedVal);\n            }\n            else if(val === 2){\n                //Test parameter recording for player volume\n                //remember to mute pattern player note velocity\n\n                /*\n                let mappedVal = parseFloat(mapVal(velocity, 0, 127, -50, 10).toFixed(2));\n\n                store.getTracksByGroup(store.ui.selectedGroup).forEach((track, idx) => {\n                    if(track.type === 'audio'){\n                        let playerObj = ToneObjs.instruments.find(i => i.track === track.id && i.id.split('_')[0] === 'player').obj;\n\n                        let playerModel = store.instruments.getPlayerByTrack(track.id);\n                        let param = playerModel.automation.find(auto => auto.signal === 'volume');\n\n                        //add volume automation model\n                        if(!param){\n                            playerModel.addAutomation(track.getPatternByTrackScene(track.id, store.ui.selectedScene.id).id, 'volume');\n                        }\n\n                        if(Tone.Transport.state === 'started' && store.ui.recordMode){\n                            //add values\n                            param.addParam(mappedVal, Tone.Transport.position);              \n                            playerObj.volume.value = mappedVal;\n                        }\n                        else if(Tone.Transport.state === 'stopped'){\n                            if(param){\n                                console.log(param.getParams());\n                            }\n                        }\n                    };\n                });\n                */\n            }\n            else if(val === 3){\n                //console.log(val);\n            }\n            else if(val === 4){\n                //console.log(val);\n            }\n            break;\n        case 144:\n            noteOn(val);\n            break;\n        case 128:\n            noteOff(val);\n            break;\n        case \"TransportChange\":\n            TransportChange(message);\n            break;\n        case \"GroupChange\":\n            GroupChange(hex_to_ascii(val));\n            break\n        default:\n            break;\n    }\n}\n\nconst GroupChange = (group) => {\n    if(store.ui.selectedGroup !== group){\n        store.ui.selectGroup(group);\n    }\n}\n\nconst TransportChange = (msg) => {\n    let eleButton, action = msg.data[4];\n\n    if(action === 2){\n        eleButton = document.getElementById('btnTransportTogglePlay');\n        if(eleButton){\n            eleButton.click();\n        }\n    }\n    else if(action === 40){\n        eleButton = document.getElementById('btnTransportToggleRecord');\n        if(eleButton){\n            eleButton.click();\n        }\n    }\n}\n\nfunction changePlayerModelRate(val){\n    store.getTracksByGroup(store.ui.selectedGroup).forEach((track, idx) => {\n        if(track.type === \"audio\"){\n            let player = store.instruments.getPlayerByTrack(track.id);\n            if(player.playbackRate !== val){\n                player.setModelPlaybackRate(val);\n            }\n        }\n    });\n}\n\nfunction changePlayerRate(val){\n    store.getTracksByGroup(store.ui.selectedGroup).forEach((track, idx) => {\n        if(track.type === \"audio\"){\n            let row = ToneObjs.instruments.find(i => i.track === track.id);\n            if(row){\n                if(row.obj){\n                    row.obj.playbackRate = val;\n                }\n            }\n        }\n    });\n}\n\nconst noteOn = (note) => {\n    store.getTracksByGroup(store.ui.selectedGroup).forEach((track, idx) => {\n        if(note-60 === idx){\n            if(track.type === \"audio\"){\n                // button view gridbutton mouse down\n                if(store.ui.viewMode === 'button' && store.ui.selectedGroup === track.group){\n                    let eleButton = document.getElementById('divGridButton_' + track.id);\n                    if(eleButton){\n                        if(document.createEvent){\n                            eleButton.dispatchEvent(new PointerEvent(\"pointerdown\", {\n                                bubbles: true,\n                            }));\n                        }\n                    }\n                }\n                // other views\n                else{\n                    let row = ToneObjs.instruments.find(i => i.track === track.id);\n                    if(row){\n                        if(row.obj){\n                            if(row.obj.buffer.loaded){\n                                row.obj.start();\n                            }\n                        }\n                    }\n                }\n                \n                store.ui.selectTrack(track.id);\n            }\n            // instrument tracks\n            else if(track.type === 'instrument'){\n                ToneObjs.trackInstNoteOn(track.id, ['C3']);\n            }\n        }\n        //turn off all other audio tracks\n        else{\n            if(track.type === \"audio\"){\n                let row = ToneObjs.instruments.find(i => i.track === track.id);\n                if(row){\n                    if(row.obj){\n                        if(row.obj.buffer.loaded){\n                            row.obj.stop();\n                            \n                            //stop gridbutton animations\n                            if(store.ui.viewMode === 'button'){\n                                let divGridButton = document.getElementById('divGridButton_' + track.id);\n\n                                if(divGridButton){\n                                    let divProgress = divGridButton.querySelector('.divGridButtonProgress');\n                                    \n                                    if(divProgress){\n                                        divProgress.style.animation = 'none';\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    })\n}\n\nconst noteOff = (note) => {\n    store.getTracksByGroup(store.ui.selectedGroup).forEach((track, idx) => {\n        if(note-60 === idx){\n            if(track.type === 'instrument'){\n                ToneObjs.trackInstNoteOff(track.id, ['C3']);\n            }\n        }\n    });\n}\n\n/*******************************\n * BLE \n *******************************/\n\n\nexport async function initBLE(){\n    await requestDevice();\n    await connectDeviceAndCacheCharacteristics();\n}\n\nasync function requestDevice() {\n    console.log('Requesting any Bluetooth Device...');\n    btDevice = await navigator.bluetooth.requestDevice({\n        filters: [{\n                services: [serviceId]\n            }]\n        });\n    btDevice.addEventListener('gattserverdisconnected', onDisconnected);\n}\n\n\nasync function connectDeviceAndCacheCharacteristics() {\n    if (btDevice.gatt.connected && btCharacteristic) {\n      return;\n    }\n  \n    try{\n        console.log('Connecting to GATT Server...');\n        const server = await btDevice.gatt.connect();\n    \n        console.log('Getting BLE MIDI Service...');\n        const service = await server.getPrimaryService(serviceId);\n    \n        console.log('Getting BLE MIDI Characteristic...');\n        btCharacteristic = await service.getCharacteristic(characteristicId);\n\n        //this particular sequence turns notifications on for android chrome\n        //this is not the standard, but it works.  maybe device code that's wrong\n        //\n        //notifications currently do not turn on for chrome on os x (only this computer?)\n        //\n        //note: make sure arduino scheduler for midi read is turned off along with \n        //handlers for noteon and noteoff\n        btCharacteristic.addEventListener('characteristicvaluechanged', handleValueChange);\n        \n        try{\n            await btCharacteristic.readValue();\n        }\n        catch(error){\n            console.log(error);\n        }\n\n        console.log('Starting BLE MIDI Notifications...');\n        await btCharacteristic.startNotifications();\n        console.log('MIDI BLE Notifications started')\n    }\n    catch(error){\n        console.log(error);\n    }\n}\n\nasync function onDisconnected() {\n    console.log('> Bluetooth Device disconnected');\n    try {\n        await connectDeviceAndCacheCharacteristics()\n    } catch(error) {\n        console.log('Argh! ' + error);\n    }\n}\n\nfunction handleValueChange(event) {\n    //console.log(event);\n\n    if(event.target.value){\n        let action = event.target.value.getUint8(2);\n        let note = event.target.value.getUint8(3);\n        let velocity = event.target.value.getUint8(4);\n        let msg = { data: [action, note, velocity]};\n\n        getMIDIMessage(msg);\n    }\n}","\nimport { store } from '../data/store.js';\nimport interact from 'interactjs';\nimport * as Tone from \"tone\";\nimport Microphone from 'recorder-js/src/microphone.js';\nimport { toneObjNames } from '../data/tonenames.js';\nimport { ToneObjs } from '../models/models.js';\nimport { select } from 'd3-selection';\nimport { saveAs } from 'file-saver';\nimport { Scale, Chord } from 'tonal';\nimport JSZip from 'jszip';\nimport newfileTree from '../data/newfiletree.json';\nimport { initMidi } from \"../midi/midi.js\";\nimport * as debounce from 'lodash/debounce';\n\n\nexport function hex_to_ascii(str1){\n\tlet hex  = str1.toString();\n\tlet str = '';\n\tfor (let n = 0; n < hex.length; n += 2) {\n\t\tstr += String.fromCharCode(parseInt(hex.substr(n, 2), 16));\n\t}\n\treturn str;\n}\n\nexport function mapVal (num, in_min, in_max, out_min, out_max) {\n  return (num - in_min) * (out_max - out_min) / (in_max - in_min) + out_min;\n}\n\nexport function toggleFullScreen() {\n  let doc = window.document;\n  let docEl = doc.documentElement;\n\n  let requestFullScreen = docEl.requestFullscreen || docEl.mozRequestFullScreen || docEl.webkitRequestFullScreen || docEl.msRequestFullscreen;\n  let cancelFullScreen = doc.exitFullscreen || doc.mozCancelFullScreen || doc.webkitExitFullscreen || doc.msExitFullscreen;\n\n  if (!doc.fullscreenElement && !doc.mozFullScreenElement && !doc.webkitFullscreenElement && !doc.msFullscreenElement) {\n    requestFullScreen.call(docEl);\n  }\n  else {\n    cancelFullScreen.call(doc);\n  }\n\n  store.ui.calibrateSizes();\n}\n\nexport function applyDraggableGrid() {\n  let mStartPos = {}, origData = {};\n  let bFlag = false, bMoving = false;\n\n  if(!interact.isSet(document.querySelector('body'))){\n    interact(document.querySelector('body'))\n      .on('down', e => {\n        mStartPos = { x: e.x, y: e.y };\n      })\n      .on('move', e => {\n        if(mStartPos && bMoving){\n          let mDragDist = Math.sqrt(Math.pow(e.x - mStartPos.x, 2) + Math.pow(e.y - mStartPos.y, 2) | 0).toFixed(3);\n          if(mDragDist > 60)\n            bFlag = true;\n        }\n      });\n  }\n\n  interact('#gridContainer')\n    .draggable({\n      inertia: true,\n      restrict: {\n        restriction: \"parent\",\n        endOnly: true,\n        elementRect: { top: 0, left: 0, bottom: 1, right: 1 }\n      },\n      autoScroll: false,\n      ignoreFrom: '.track-rowmix',\n      onmove: e => {\n        dragMoveListener(e)\n      },\n      onstart: e => {\n        origData.x = parseFloat(e.target.getAttribute('data-x')) || 0;\n        origData.y = parseFloat(e.target.getAttribute('data-y')) || 0;\n        bMoving = true;\n      },\n      onend: e => {\n        dragMoveListener(e, true);\n\n        bMoving = false;\n        bFlag = false;\n        mStartPos = undefined;\n      }\n    })\n\n  function dragMoveListener(event, end) {\n    let target = event.target;\n\n    let x = parseFloat(target.getAttribute('data-x')) || 0;\n    let y = parseFloat(target.getAttribute('data-y')) || 0;\n\n    if(event.dx)\n      x += event.dx;\n    if(event.dy && (store.ui.viewMode === \"sequencer\" || (store.ui.viewMode === \"edit\" && store.ui.views.edit.mode === \"bar\")))\n      y += event.dy;\n\n    target.setAttribute('data-x', x);\n    target.setAttribute('data-y', y);\n\n    //interact.fire called manually\n    if(event.dx === undefined && event.dy === undefined)\n      bFlag = true;\n\n    if(bFlag){\n      target.style.webkitTransform = target.style.transform = 'translate(' + x + 'px, ' + y + 'px)';\n\n      //sequencer mixmode or all other views\n      if(store.ui.mixMode || store.ui.viewMode === 'button' || store.ui.viewMode === 'edit'){\n        //all views except edit bars view\n        if(store.ui.viewMode !== 'edit' || (store.ui.viewMode === 'edit' && store.ui.views.edit.mode !== 'bar')){\n          let elements = document.getElementsByClassName('track-rowmix');\n          if (elements.length > 0) {\n            for (let i = 0; i < elements.length; i++){\n              elements[i].style.webkitTransform = elements[i].style.transform = 'translate(' + (x * -1) + 'px)';\n            }\n          }\n        }\n      }\n\n      //keep timeline in position\n      let fixedTop = 40;\n      if(store.ui.viewMode === 'edit' && store.ui.views.edit.mode === 'bar')\n        fixedTop = 80;\n      \n      let timeline = document.getElementById(\"divGridTimeline\");\n      if (timeline) {\n        let top = parseInt(document.getElementById('gridParent').style.top.replace('px', ''), 10);\n\n        if (!isNaN(top)) {\n          if (top === fixedTop) {\n            timeline.style.webkitTransform = timeline.style.transform = 'translateY(' + (y * -1) + 'px)';\n          }\n          else {\n            let diff = fixedTop - top - y;\n            timeline.style.webkitTransform = timeline.style.transform = 'translateY(' + diff + 'px)';\n          }\n        } else {\n          timeline.style.webkitTransform = timeline.style.transform = 'translateY(' + (y * -1) + 'px)';\n        }\n      }\n    \n    }\n    else if(end && !bFlag){\n      target.setAttribute('data-x', origData.x);\n      target.setAttribute('data-y', origData.y);\n    }\n  }\n}\n\n/*========================================= */\n\n//async causes audiopop in chrome?\nexport function audioBufferToWav(buffer, opt) {\n  return new Promise(function (resolve, reject) {\n    opt = opt || {}\n\n    let numChannels = buffer.numberOfChannels\n    let sampleRate = buffer.sampleRate\n    let format = opt.float32 ? 3 : 1\n    let bitDepth = format === 3 ? 32 : 16\n\n    let result;\n    if (numChannels === 2) {\n      result = [buffer.getChannelData(0), buffer.getChannelData(1)];\n    } else {\n      result = buffer.getChannelData(0)\n    }\n\n    let worker = new Worker(process.env.PUBLIC_URL + \"/Worker_RenderBuffer.js\");\n\n    worker.onmessage = function (e) {\n      let blob = new Blob([e.data], { type: \"audio/wav\" });\n      resolve(blob);\n    };\n\n    worker.postMessage({ result: result, format: format, sampleRate: sampleRate, numChannels: numChannels, bitDepth: bitDepth });\n  });\n}\n\nexport function renderWaveform(data, id, width, height) {\n  return new Promise(function (resolve, reject) {\n    let worker = new Worker(process.env.PUBLIC_URL + \"/Worker_DrawBuffer.js\");\n\n    worker.onmessage = function (e) {\n      let summary = e.data, multiplier = height;\n      let canvas = select(id).append(\"canvas\").attr(\"width\", width).attr(\"height\", height);\n      \n      if(canvas){\n        if(canvas.node()){\n          if(canvas.node().getContext(\"2d\")){\n            let ctx = canvas.node().getContext(\"2d\");\n            ctx.lineWidth = 1.5;\n            ctx.strokeStyle = '#ff6000';\n            \n            ctx.beginPath();\n            [...Array(summary.length).keys()].forEach(i => {\n              let h = multiplier * (summary[i][1] - summary[i][0]);\n              let y = (height / 2) - h;\n\n              ctx.moveTo(i, y);\n              ctx.lineTo(i, y + (h * 2));\n            });\n            ctx.stroke();\n          }\n        }\n      }\n\n      resolve();\n    }\n\n    worker.postMessage({ buffer: data, width: width });\n  })\n}\n\nexport async function renderSong(track, pattern){\n  console.time('renderSong');\n\n  let tLength, player, playerPart;\n  if(pattern){\n    player = ToneObjs.parts.find(row => row.id === pattern.id).player;\n    playerPart = ToneObjs.parts.find(row => row.id === pattern.id).playerPart;\n    tLength = store.getSceneLength(pattern.scene.id);\n  }\n  else{\n    tLength = store.getSongLength();\n  }\n\n  await Tone.Offline(({ transport }) => {\n\n      transport.bpm.value = store.settings.bpm;\n      transport.swing = store.settings.swing;\n      transport.swingSubdivision = store.settings.swingSubdivision;\n\n      let offlineToneObjs = {\n          instruments: [],\n          effects: [],\n          components: [],\n          sources: [],\n          parts: [],\n          custom: []\n      }\n\n      setToneObjs(store, offlineToneObjs, track);\n      \n      let patterns = [];\n      if(track){\n        if(pattern){\n          //all track connections except ones going to track panvol and split/meters\n          let trackConns = store.getConnectionsByTrack(track.id).filter(c => c.dest.split('_')[1] !== 'split' && c.dest.split('_')[1] !== 'meter');\n\n          trackConns.filter(c => c.dest !== c.track.getPanVol.id).forEach(c => c.addConnection(offlineToneObjs));\n\n          //trackObj -> master instead of track panvol\n          trackConns.filter(c => c.dest === c.track.getPanVol.id).forEach(c => {\n                                            offlineToneObjs[c.srcType + 's'].find(o => o.id === c.src).obj.connect(Tone.Destination) \n                                          });\n                                          \n          patterns.push(pattern);\n        }\n        else{\n          //ALL track connections\n          store.connections.filter(c => (c.track.id === track.id || c.track.id === 'track_master'\n                                      //master group connections\n                                      || (c.track.group === track.group && c.track.type === 'master'))\n                                      && c.dest.split('_')[1] !== 'split' && c.dest.split('_')[1] !== 'meter')\n                                          .forEach(c => c.addConnection(offlineToneObjs));\n          \n          patterns = store.getPatternsByTrack(track.id);\n        }\n      }\n      else{\n        store.connections.forEach(c => c.addConnection(offlineToneObjs, Tone.getContext().destination))\n        patterns = store.getAllPatterns;\n      }\n      \n      patterns.forEach(p => {\n          offlineToneObjs.parts.push({\n              id: p.id,\n              track: p.track.id\n          })\n\n          p.initPart(offlineToneObjs);\n\n          let part = offlineToneObjs.parts.find(objPart => objPart.id === p.id);\n          p.notes.forEach(n => {\n              let event = part.obj.at(n.time, { \"mute\": n.mute, \"note\": n.getNote, \"duration\": n.duration, \"velocity\": n.velocity, \"offset\": n.offset, \"time\": n.time});\n              event.probability = n.probability;\n              event.humanize = n.humanize;\n          })\n      })\n\n      /* set reverb buffers */\n      offlineToneObjs.effects.filter(r => r.id.split('_')[0] === 'reverb').forEach(row => { \n        row.obj._convolver.buffer = ToneObjs.effects.find(o => o.id === row.id).obj._convolver.buffer;\n      });\n\n      if(pattern){\n        transport.start(undefined, pattern.scene.start);\n      }\n      else\n        transport.start()\n      \n  }, tLength).then(function(buffer){\n      console.timeEnd('renderSong')\n      if(pattern){\n        ToneObjs.parts.find(row => row.id === pattern.id).obj.mute = true;\n\n        console.log('setting buffer and starting player')\n        player.buffer.set(buffer);\n        playerPart.mute = false;\n        if(Tone.Transport.state === \"started\"){\n          if(Tone.Time(Tone.Transport.position) >= Tone.Time(pattern.scene.start) && Tone.Time(Tone.Transport.position) < Tone.Time(pattern.scene.end))\n            player.start(undefined, Tone.Time(Tone.Transport.position) - Tone.Time(pattern.scene.start));\n        }\n      }\n      else {\n        audioBufferToWav(buffer._buffer).then(blob => {\n            Microphone.forceDownload(blob, store.settings.title + '.wav');\n        });\n      }\n  })\n}\n\nexport function setToneObjs(data, offline, selTrack){\n  let tObjs; \n\n  if(offline)\n    tObjs = offline;\n  else\n    tObjs = ToneObjs;\n\n  Object.keys(tObjs).filter(prop => !(tObjs[prop] instanceof Function)).forEach(toneClass => {\n    if(toneClass !== \"parts\" && toneClass !== \"custom\" && toneClass !== \"metronome\"){\n      let resultObj = data[toneClass];\n\n      Object.keys(resultObj).forEach(oArray => {\n        if(resultObj[oArray].length && oArray !== 'splits' && oArray !== 'meters'){\n          let itemArray;\n          if(selTrack){\n            itemArray = resultObj[oArray].filter(o => o.track.id === selTrack.id \n                              || (o.track.group === selTrack.group && o.track.type === 'master') \n                              || o.track.id === 'track_master')\n          }\n          else{\n            itemArray = resultObj[oArray];\n          }\n                            \n          itemArray.forEach(item => {\n            let args = {};\n          \n            Object.keys(item).forEach(key => {\n              if(key !== 'track' && key !== 'id' && key !== 'ui')\n                args[key] = item[key];\n            })\n\n            let type = item.id.split('_')[0];\n            if(type === 'mix')\n                type = item.id.split('_')[1];\n            else if(type === \"tinysynth\" && toneClass === \"components\")\n                type = item.id.split('_')[1];\n            \n\n            if(type !== \"tinysynth\"){\n              toneObjNames.some(function(title){\n                  if(title.toLowerCase() === type){\n                      type = title;\n                      return true;\n                  }\n                  return false;\n              })\n\n              let trackId = item.track;\n              if(offline)\n                  trackId = item.track.id\n              \n              if(type === \"Synth\" || type === \"AMSynth\" || type === \"DuoSynth\" || type === \"Sampler\" || type === \"FMSynth\" || type === \"MonoSynth\")\n                  tObjs.instruments.push({ id: item.id, track: trackId, obj: new Tone.PolySynth(8, Tone[type]).set(args) });\n              else\n                  tObjs[toneClass].push({ id: item.id, track: trackId, obj: new Tone[type](args) });\n              \n              //set player buffer during render\n              if(offline && type === \"Player\"){\n                  let srcPlayer = ToneObjs.instruments.find(i => i.id === item.id).obj;\n                  tObjs.instruments.find(p => p.id === item.id).obj.buffer = srcPlayer.buffer;\n              }\n            }\n          })\n        }\n      })\n    }\n    else if(toneClass === \"custom\"){\n      let itemArray = data.instruments.tinysynths;\n      if(selTrack)\n        itemArray = itemArray.filter(o => o.track.id === selTrack.id);\n      \n      itemArray.forEach(function(row){                               \n        let outId = 'tinysynth_panvol_' + row.id.split('_')[1];\n        let outObj = tObjs.components.find(c => c.id === outId).obj;\n\n        let trackId = row.track;\n        if(offline)\n            trackId = row.track.id\n        \n        tObjs.custom.push({id: row.id, track: trackId, obj: new window.WebAudioTinySynth({internalcontext:0, useReverb:0})})\n\n        let tinySynth = tObjs.custom.find(t => t.id === row.id).obj;\n        Tone.connect(tinySynth.setAudioContext(Tone.context), outObj);\n        tinySynth.send([0xc0, row.instrument]); \n      })\n    }\n  })\n}\n\n\nexport const exportSong = () => {\n  const folderAddAudioFile = (resolve, reject, id, songFolder) => {\n    store.DBLoadAudioFile(id).then(result => {\n  \n      if(result){\n        if(result.data){\n          let buffer = new Tone.Buffer();\n      \n          let strName = id.replace(\"sample_/\",\"\");\n          if([\"region\", \"sample\"].includes(strName.split('_')[0]) && strName.split('.').pop() !== \"wav\")\n            strName = id + '.wav';\n              \n          if (Array.isArray(result.data) || result.data instanceof Float32Array) {\n            buffer.fromArray(result.data);\n            audioBufferToWav(buffer.get()).then(blob => {\n              songFolder.file(strName, blob);\n              buffer.dispose();\n              resolve(true);\n            });\n          }\n          else{\n            let blobUrl = window.URL.createObjectURL(result.data);\n            buffer.load(blobUrl).then(() => {\n              audioBufferToWav(buffer.get()).then(blob => {\n                songFolder.file(strName, blob);\n                window.URL.revokeObjectURL(blobUrl);\n                buffer.dispose();\n                resolve(true);\n              });\n            });\n          }\n        }\n        else{\n          reject('no audio data found in DB')\n        }\n      }\n      else{\n        reject('no id found in DB')\n       }\n    })\n  }\n\n  let zip = new JSZip();\n\n  let songFolder = zip.folder(store.settings.title);\n  songFolder.file(\"song.json\", JSON.stringify(store));\n\n  let promiseArray = [];\n  store.getAllSamples.forEach(s => {\n      promiseArray.push(new Promise((resolve, reject) => { folderAddAudioFile(resolve, reject, s.id, songFolder) } ))\n      \n      s.regions.forEach(r => {\n          promiseArray.push(new Promise((resolve, reject) => { folderAddAudioFile(resolve, reject, r.id, songFolder) } ))\n      })\n  })\n\n  Promise.all(promiseArray).then(() => { \n      zip.generateAsync({type:'blob'}).then(content => {\n          saveAs(content, store.settings.title + '.zip')\n      });\n  });\n}\n\nexport const saveSong = () => {\n  store.DBGetAllSongs().then(list => {\n    if(list.find(song => song.id === store.id)){\n      store.settings.setModified(Date.now());\n      store.DBSaveStore(true);\n    } else {\n      //show popup if not saved yet\n      store.ui.toolbar.browser.setAction('Save');\n    }\n  })\n}\n\nexport const setTransport = (settings) => {\n  if(!settings){\n    settings = store.settings;\n  }\n\n  Tone.Transport.position = settings.position;\n  Tone.Transport.bpm.value = settings.bpm;\n  Tone.Transport.swing = settings.swing;\n  Tone.Transport.swingSubdivision = settings.swingSubdivision;\n  Tone.Transport.loopStart = settings.loopStart;\n  Tone.Transport.loopEnd = settings.loopEnd;\n}\n\n\nexport const resizeFunction = () => {\n  store.ui.setWindowWidthHeight(window.innerWidth || document.body.clientWidth,\n    window.innerHeight || document.body.clientHeight);\n};\n\n\nexport const firstPageLoad = () => {\n  if(!Tone.supported){\n    alert(\"Sorry, but this app is not supported by your browser.  Please update to a better option.\"); \n  }\n\n  // not sure how reliable Tone.start() in mount is for all cases... so use this too\n  document.documentElement.addEventListener('mousedown', () => {\n    if(Tone.context._initialized){\n      if(Tone.context.state !== 'running')\n        Tone.start();\n    }\n  })\n\n  //disable right click menu - this fixes the touch hold menu on some touch screens\n  document.addEventListener('contextmenu', e => e.preventDefault());\n\n  //online offline event handlers\n  window.addEventListener('load', () => {\n    function updateOnlineStatus(event){\n      if (navigator.onLine) {\n        //console.log('online');\n      } else {\n        //console.log('offline');\n      }\n    }\n    window.addEventListener('online', updateOnlineStatus);\n    window.addEventListener('offline', updateOnlineStatus);\n  });\n\n  //tab/window in background\n  document.addEventListener('visibilitychange', function(){\n    //console.log('hidden: ' + document.hidden);\n  });\n\n  //resize\n  window.addEventListener('resize', debounce(resizeFunction, 75));\n  resizeFunction();\n\n  //set transport and device\n  setTransport();\n  store.ui.setDevice();\n\n  initMidi();\n\n  //add scales to browser JSON\n  newfileTree['/Song/Scale'].files.push.apply(newfileTree['/Song/Scale'].files, Scale.names());\n\n  /*  enable persistent storage\n  if (navigator.storage && navigator.storage.persist)\n    navigator.storage.persist().then(function(persistent) {\n      if (persistent)\n        console.log(\"Storage will not be cleared except by explicit user action\");\n      else\n        console.log(\"Storage may be cleared by the UA under storage pressure.\");\n    });\n  */\n}\n\nexport const getRandomNote = () => {\n  const minOctave = 0, maxOctave = 7;\n  const arrayNotes = Scale.notes(store.settings.key, store.settings.scale)\n\n  const randOctave = Math.floor(Math.random() * (maxOctave - minOctave + 1) ) + minOctave;\n  const randNote = arrayNotes[Math.floor(Math.random() * (arrayNotes.length - 0))];\n\n  let noteVal = [randNote + randOctave];\n\n  if(store.ui.selectedChord !== undefined)\n      noteVal = Chord.notes(noteVal[0], store.ui.selectedChord);\n\n  return noteVal;\n}\n\n\n// convert string prop1.prop2.prop3 and value to object\nexport const expand = (str, val = {}) => {\n  return str.split('.').reduceRight((acc, currentValue) => {\n    return { [currentValue]: acc }\n  }, val)\n}","//Copyright 2018-2019 Timothy Boie\n\nimport { types, getParent, destroy, getMembers, applySnapshot, getSnapshot } from \"mobx-state-tree\";\nimport * as Tone from \"tone\";\nimport * as idb from 'idb';\nimport { Note as TonalNote } from \"tonal\";\nimport { store } from \"../data/store.js\";\n//import { UndoManager } from \"mst-middlewares\";\nimport * as cloneDeep from 'lodash/cloneDeep';\nimport { setToneObjs, renderSong, getRandomNote, setTransport, expand } from '../ui/utils.js';\nimport interact from 'interactjs';\n\n/*******************************************\nTODO: move to separate files. \nlots of circular dependencies here.  see MST types.late();\n********************************************/\n\nexport const randomId = () => Math.random().toString(36).substr(2, 5);\n\nexport const ToneObjs = {\n    instruments: [],\n    effects: [],\n    components: [],\n    sources: [],\n    parts: [],\n    custom: [],\n    metronome: undefined,\n\n    initMetronome(){\n        if(!ToneObjs.metronome){\n            let noise = new Tone.Synth({\n                volume: 10,\n                oscillator: {\n                    type  : 'square'\n                },\n                envelope: {\n                    attack: 0.001 ,\n                    decay: 0.05,\n                    sustain: 0.05,\n                    release: 0.05,\n                }\n            }).toDestination();\n\n            ToneObjs.metronome = new Tone.Loop(time => {\n                let beat = parseInt(Tone.Transport.position.split(':')[1], 10);\n\n                if(beat === 0)\n                    noise.triggerAttackRelease('C6', '0.001s', time);\n                else\n                    noise.triggerAttackRelease('C5', '0.001s', time);\n                \n            }, '0:1');\n\n            // Tone throws an error if trying to schedule before timeline pos 0\n            ToneObjs.metronome.cancel(0);\n            ToneObjs.metronome.start(-1 * Tone.Time('1:0:0'));\n\n            ToneObjs.metronome.mute = !store.ui.recordMode; \n        }\n    },\n\n    //instruments, effects, components, sources\n    addAudioObj(name, objSelf, type) {\n        type = type + 's';\n        \n        let p = getMembers(objSelf).properties;\n        delete p.id;\n        delete p.track;\n        delete p.ui;\n\n        let args = {}, noArgs = true;\n        Object.keys(p).forEach(key => {\n            args[key] = objSelf[key];\n            noArgs = false;\n        });\n\n        if(noArgs)\n            args = undefined;\n\n        if(type === \"instruments\" && name !== \"Player\" && name !== \"NoiseSynth\" && name !== \"PluckSynth\" && name !== \"MembraneSynth\" && name !== \"MetalSynth\"){\n            if(!ToneObjs[type].find(row => row.id === objSelf.id)){\n                ToneObjs[type].push({ id: objSelf.id, track: objSelf.track.id, obj: new Tone.PolySynth(Tone[name]).set(args) });\n            }\n        }\n        else{\n            if(!ToneObjs[type].find(row => row.id === objSelf.id)){\n                let id = objSelf.id.split('_')[0];\n                if(id === 'lfo' || id === 'autofilter' || id === 'autopanner' || id === 'tremolo'){\n                    ToneObjs[type].push({ id: objSelf.id, track: objSelf.track.id, obj: new Tone[name](args).start('0:0:0') });\n                    ToneObjs[type].find(o => o.id === objSelf.id).obj.sync();\n                }\n                else{\n                    ToneObjs[type].push({ id: objSelf.id, track: objSelf.track.id, obj: new Tone[name](args) });\n                }\n            }\n        }\n    },\n    \n    delAudioObj(id, type){\n        type = type + 's';\n        let row = ToneObjs[type].find(e => e.id === id);\n        if(row){\n            if(row.obj){\n                row.obj.dispose();\n                ToneObjs[type] = ToneObjs[type].filter(e => e.id !== id);\n            }\n        }\n    },\n\n    //set audio obj prop\n    setPropVal: (id, type, prop, val, signal, child, voice) => {\n        let obj, name = id.split('_')[0];\n\n        if(type === \"instrument\" && name === \"tinysynth\")\n            obj = ToneObjs['custom'].find(row => row.id === id).obj;\n        else\n            obj = ToneObjs[type + 's'].find(row => row.id === id).obj;\n        \n        if(obj){\n            //polysynths\n            if(type === \"instrument\" && name !== \"player\" && name !== \"noisesynth\" && name !== \"plucksynth\" && name !== \"membranesynth\" && name !== \"metalsynth\" && name !== \"tinysynth\"){\n                let currVal, queryStr;\n\n                if(voice){\n                    if(child){\n                        currVal = obj.get()[voice][child][prop];\n                        queryStr = voice + '.' + child + '.' + prop;\n                    } \n                    else{\n                        currVal = obj.get()[voice][prop];\n                        queryStr = voice + '.' + prop;\n                    }\n                }\n                else if(child){\n                    currVal = obj.get()[child][prop];\n                    queryStr = child + '.' + prop;\n                }\n                else{\n                    currVal = obj.get()[prop]\n                    queryStr = prop;\n                }\n\n                if(currVal !== val){\n                    obj.set(expand(queryStr, val));\n                }\n            }\n            //all other objs\n            else{\n                if(child){\n                    obj = obj[child];\n                }\n                \n                if(signal){\n                    if(obj[prop].value !== val){\n                        obj[prop].value = val;\n                    }\n                }\n                else{\n                    if(obj[prop] !== val){\n                        obj[prop] = val;\n                    }\n                }\n            }\n        }\n    },\n    trackInstNoteOn: (trackId, notes) => {\n        ToneObjs.instruments.filter(o => o.track === trackId).forEach(row => {\n            if(row.obj){\n                let type = row.id.split('_')[0];\n        \n                if(type === 'noisesynth'){\n                    row.obj.triggerAttack();\n                }\n                else if(type === 'plucksynth' || type === 'membranesynth' || type === 'metalsynth'){\n                    row.obj.triggerAttack(TonalNote.freq(notes[0]));\n                }\n                else if(type !== 'player'){\n                    row.obj.triggerAttack(notes.map(n => TonalNote.freq(n)));\n                }\n            }\n        });\n    \n          //mute pattern on keypress for monophonic \n        let bPatternsMuted = false;\n        ToneObjs.sources.filter(o => o.track === trackId).forEach(row => {\n            if(!bPatternsMuted){\n                ToneObjs.parts.filter(p => p.track === trackId).forEach(o => {\n                    if(!o.obj.mute)\n                        o.obj.mute = true;\n                    });\n                bPatternsMuted = true;\n            }\n    \n            if(row.obj){\n                if(row.id.split('_')[0] !== 'noise')\n                    row.obj.frequency.value = TonalNote.freq(notes[0]);\n    \n                row.obj.start();\n            }\n        });\n    \n        ToneObjs.custom.filter(o => o.track === trackId).forEach(row => {\n            if(row.obj){\n                let ch = store.instruments.getInstrumentByTypeId(\"tinysynth\", row.id).channel;\n    \n                if(!store.ui.selectedChord){\n                    let noteNum = TonalNote.midi(notes[0]); //C4 is 60\n                    row.obj.send([0x90 + ch, noteNum, 100], Tone.context.currentTime)\n                }\n                else{\n                    notes.forEach(n => {\n                        let midi = TonalNote.midi(n)\n                        if(midi)\n                            row.obj.send([0x90 + ch, midi, 100], Tone.context.currentTime)\n                    })\n                }\n            }\n        });\n\n        ToneObjs.components.filter(o => o.track === trackId && o.id.split('_')[0] === 'amplitudeenvelope').forEach(component => {\n            component.obj.triggerAttack();      \n        })\n    },\n\n    trackInstNoteOff: (trackId, notes, mouseDown) => {\n        ToneObjs.instruments.filter(o => o.track === trackId).forEach(row => {\n            if(row.obj){\n              let type = row.id.split('_')[0];\n    \n              if(type === \"metalsynth\" || type === \"membranesynth\" || type === \"noisesynth\"){\n                row.obj.triggerRelease();\n              }\n              else if(type !== \"player\" && type !== \"plucksynth\"){\n                //row.obj.releaseAll();\n                row.obj.triggerRelease(notes.map(n => TonalNote.freq(n)));\n              }\n            }\n        });\n          \n        ToneObjs.sources.filter(o => o.track === trackId).forEach(row => {\n            if(row.obj){\n                let timeStop = Tone.now();\n                const connectionsEnv = store.getConnectionsByObjId(row.id).filter(c => c.dest.split('_')[0] === 'amplitudeenvelope');\n\n                //if connected to amplitude envelope, stop note at end of longest envelope release\n                if(connectionsEnv.length > 0){\n                    let envs = [];\n                    connectionsEnv.forEach(c => envs.push(store.components.getComponentByTypeId('amplitudeenvelope', c.dest)));\n                    timeStop += envs.sort((a, b) => b.release - a.release)[0].release;\n                }\n\n                row.obj.stop(timeStop);\n            }\n        });\n    \n          //now unmute patterns that were muted on press\n        if(!mouseDown){\n            ToneObjs.parts.filter(p => p.track === trackId).forEach(o => {\n              if(o.obj.mute)\n                o.obj.mute = false; \n            });\n        }\n    \n        ToneObjs.custom.filter(o => o.track === trackId).forEach(row => {\n            if(row.obj){ \n                let ch = store.instruments.getInstrumentByTypeId(\"tinysynth\", row.id).channel;\n    \n                if(!store.ui.selectedChord){\n                    let noteNum = TonalNote.midi(notes[0]); //C4 is 60\n                    row.obj.send([0x80 + ch, noteNum, 0], Tone.context.currentTime)\n                }\n                else{\n                    notes.forEach(n => {\n                        let midi = TonalNote.midi(n)\n                        if(midi)\n                            row.obj.send([0x80 + ch, midi, 0], Tone.context.currentTime)\n                    })\n                }\n            }\n        });\n\n        ToneObjs.components.filter(o => o.track === trackId && o.id.split('_')[0] === 'amplitudeenvelope').forEach(component => {\n            component.obj.triggerRelease();     \n        })\n    }\n}\n\n\nconst Region = types.model(\"Region\", {\n    id: types.identifier, //wavesurfer region id\n    url: types.maybe(types.string), //aka filename\n    start: types.maybe(types.number),\n    end: types.maybe(types.number)\n}).views(self => ({\n    get getRegions() {\n        return { start: self.start, end: self.end }\n    }\n})).actions(self => ({\n    setRegions(start, end) {\n        self.start = start;\n        self.end = end;\n    },\n    delete() {\n        destroy(self);\n    },\n    afterCreate() {},\n    beforeDestroy() {}\n}));\n\n\nconst Sample = types.model(\"Sample\", {\n    id: types.identifier,\n    url: types.maybe(types.string),\n    length: types.maybe(types.number),\n    duration: types.maybe(types.number),\n    regions: types.optional(types.array(Region), [])\n}).views(self => ({\n    getRegion(id) {\n        return self.regions.find(r => r.id === id);\n    }\n})).actions(self => {\n    function addRegion(id, url, start, end) {\n        self.regions.push({ id: id, url: url, start: start, end: end })\n    }\n    function delRegion(id) {\n        destroy(self.getRegion(id));\n    }\n    function afterAttach(){} \n    function afterCreate(){}\n    function beforeDestroy(){}\n\n    return { addRegion, delRegion, beforeDestroy, afterAttach, afterCreate }\n});\n\n\nconst MixRow = types.model(\"TrackMixRow\", {\n    mainSelection: types.optional(types.string, \"Vol\"),\n    editSelection: types.optional(types.string, \"Dur\")\n}).views(self => ({\n\n})).actions(self => ({\n    setMainSelection(val){\n        self.mainSelection = val;\n    },\n    setEditSelection(val){\n        self.editSelection = val;\n    }\n}));\n\n\nconst Track = types.model(\"Track\", {\n    id: types.identifier,\n    type: types.union(types.literal(\"audio\"), types.literal(\"instrument\"), types.literal(\"master\")),\n    mute: types.optional(types.boolean, false),\n    solo: types.optional(types.boolean, false),\n    sample: types.maybe(types.reference(Sample)),\n    region: types.maybe(types.reference(Region)),\n    group: types.maybe(types.union(types.literal(\"A\"), types.literal(\"B\"), types.literal(\"C\"), types.literal(\"D\"), types.literal(\"M\"))),\n    resolution: types.optional(types.string, \"16n\"),\n    groupIndex: types.maybe(types.number),\n    mixRow: MixRow\n}).views(self => ({\n    get returnRegion(){\n        let r = self.region;\n        if(r)\n            r = self.region.getRegions;\n\n        return r;\n    },\n    get getPlaybackRate(){\n        if(self.type === \"audio\"){\n          let player = store.instruments.getPlayerByTrack(self.id);\n          if(player)\n            return player.playbackRate;\n          else\n            return 1;\n        }\n        else\n          return 1;\n    },\n    get getPanVol(){\n        let panvol;\n        if(self.type === \"master\" && self.group !== \"M\")\n            panvol = store.components.getComponentByTypeId('panvol','panvol_' + self.group + '_out');\n        else\n            panvol = store.components.getAllByTrack(self.id).find(c => c.id.split('_')[0] === 'panvol');\n\n        return panvol;\n    }\n})).actions(self => {\n    function delNotes(){\n        store.getPatternsByTrack(self.id).forEach(p => p.deleteNotes());\n    }\n    function toggleMute(val) {\n        if(val === undefined)\n            self.mute = !self.mute;\n        else\n            self.mute = val;\n\n        let panvol = self.getPanVol;\n        if(panvol)\n            panvol.setPropVal('mute', self.mute);\n    }\n    function toggleSolo() {\n        self.solo = !self.solo;\n\n        let tracks = store.getTracksByGroup(self.group);\n\n        if(self.type === 'master'){\n            //all master tracks except for grande master\n            tracks = store.getTracksByGroup('M').filter(t => t.group !== 'M');\n            store.components.solos.find(s => s.track.id === self.id).setPropVal('solo', self.solo);\n        }\n\n        if(tracks.some(t => { return t.solo })){\n            tracks.forEach(t => {\n                if(!t.mute && !t.solo)\n                    t.toggleMute();\n                else if(t.mute && t.solo)\n                    t.toggleMute();\n            })\n        } else{\n            tracks.forEach(t => {\n                if(t.mute)\n                    t.toggleMute();\n            })\n        }\n    }\n    function setResolution(res){\n        self.resolution = res;\n        store.getPatternsByTrack(self.id).forEach(p => {\n            if(p.resolution !== res){\n                p.setResolution(res);\n            }\n        })\n    }\n    function setGroup(group){\n        self.group = group;\n    }\n    function setGroupIndex(num){\n        self.groupIndex = num;\n    }\n    function toggleGroup(){\n        const groups = ['A','B','C','D'];\n        const idx = groups.indexOf(self.group);\n\n        //shift current group indexes\n        store.getTracksByGroup(self.group).filter(t => t.groupIndex > self.groupIndex).forEach(t => t.setGroupIndex(t.groupIndex - 1));\n        //switch group\n        idx === groups.length - 1 ? self.setGroup(groups[0]) : self.setGroup(groups[idx + 1]);\n        //set group index to last\n        self.groupIndex = store.getTracksByGroup(self.group).length - 1;\n    }\n    function moveTrackUp(){\n        if(self.groupIndex > 0){\n            let prevTrack = store.getTracksByGroup(self.group).find(t => t.groupIndex === (self.groupIndex - 1));\n            if(prevTrack){\n                prevTrack.setGroupIndex(self.groupIndex);\n                self.groupIndex -= 1;\n            }\n        }\n    }\n    function moveTrackDown(){\n        if(self.groupIndex < (store.getTracksByGroup(self.group).length - 1)){\n            let nextTrack = store.getTracksByGroup(self.group).find(t => t.groupIndex === (self.groupIndex + 1));\n            if(nextTrack){\n                nextTrack.setGroupIndex(self.groupIndex);\n                self.groupIndex += 1;\n            }\n        }\n    }\n    function afterCreate(){}\n    function afterAttach(){}\n\n    return { afterCreate, afterAttach, delNotes, setResolution, setGroupIndex, moveTrackUp, moveTrackDown, setGroup, toggleMute, toggleSolo, toggleGroup }\n});\n\nconst UIObj = types.model(\"UIObj\", {\n    x: types.maybe(types.number),\n    y: types.maybe(types.number)\n    //  title, color?\n}).views(self => ({\n\n})).actions(self => ({\n    setCoords(x, y) {\n        self.x = x;\n        self.y = y;\n    }\n}))\n\nconst Connection = types.model(\"Connection\", {\n    id: types.identifier,\n    track: types.reference(Track),\n    src: types.maybe(types.string), // STRINGS not references\n    dest: types.maybe(types.string), // STRINGS not references\n    srcType: types.maybe(types.string), //component, instrument, etc..\n    destType: types.maybe(types.string),\n    numOut: types.optional(types.number, 0),\n    numIn: types.optional(types.number, 0),\n    signal: types.maybe(types.string)\n}).actions(self => ({\n    addConnection(offline, offlineDest) {\n        let objSrc, objDest;\n\n        if(self.src.split('_')[0] === 'tinysynth' && self.srcType !== 'component')\n            self.srcType = 'component';\n        \n        let arraySrc = ToneObjs[self.srcType + \"s\"];\n        let arrayDest = ToneObjs[self.destType + \"s\"];\n\n        if(offline){\n            arraySrc = offline[self.srcType + \"s\"];\n            arrayDest = offline[self.destType + \"s\"];\n        }\n\n        if (self.src !== \"master\" && self.dest !== \"master\") {\n            objSrc = arraySrc.find(i => i.id === self.src).obj;\n            objDest = arrayDest.find(i => i.id === self.dest).obj;\n\n            if(self.signal){\n                let name = self.dest.split('_')[0];\n                if(self.signal !== 'detune' && self.destType === \"instrument\" && name !== \"player\" && name !== \"noisesynth\" && name !== \"plucksynth\" && name !== \"membranesynth\" && name !== \"metalsynth\" && name !== \"tinysynth\"){\n                    objDest.voices.forEach(v => {\n                        objSrc.connect(v[self.signal]);\n                    })\n                }\n                else{\n                    objSrc.connect(objDest[self.signal]);\n                }\n            }\n            else{\n                objSrc.connect(objDest, self.numOut, self.numIn);\n            }\n        }\n        else if(self.dest === \"master\") {\n            objSrc = arraySrc.find(i => i.id === self.src).obj;\n            if(offline){\n                objSrc.connect(offlineDest, self.numOut, self.numIn);\n            }\n            else{\n                objSrc.connect(Tone.Destination, self.numOut, self.numIn);\n            }\n        }\n        else if(self.src === \"master\"){\n            objDest = arrayDest.find(i => i.id === self.dest).obj;\n            if(offline){\n                offlineDest.connect(objDest, self.numOut, self.numIn);\n            }\n            else{\n                Tone.Destination.connect(objDest, self.numOut, self.numIn);\n            }\n        }\n    },\n    afterAttach() {\n        self.addConnection();\n    },\n    beforeDestroy() {\n        let objSrc, objDest;\n        let arraySrc = ToneObjs[self.srcType + \"s\"];\n        let arrayDest = ToneObjs[self.destType + \"s\"];\n\n        if (self.src !== \"master\" && self.dest !== \"master\") {\n            objSrc = arraySrc.find(i => i.id === self.src).obj;\n            objDest = arrayDest.find(i => i.id === self.dest).obj;\n\n            if(self.signal){\n                let name = self.dest.split('_')[0];\n                if(self.signal !== 'detune' && self.destType === \"instrument\" && name !== \"player\" && name !== \"noisesynth\" && name !== \"plucksynth\" && name !== \"membranesynth\" && name !== \"metalsynth\" && name !== \"tinysynth\"){\n                    objDest.voices.forEach(v => {\n                        objSrc.disconnect(v[self.signal]);\n                    })\n                }\n                else{\n                    objSrc.disconnect(objDest[self.signal]);\n                }\n            }\n            else{\n                objSrc.disconnect(objDest, self.numOut, self.numIn);\n            }\n        }\n        else if(self.dest === \"master\") {\n            objSrc = arraySrc.find(i => i.id === self.src).obj;\n            objSrc.disconnect(Tone.Destination, self.numOut, self.numIn);\n        }\n        else if(self.src === \"master\"){\n            objDest = arrayDest.find(i => i.id === self.dest).obj;\n            Tone.Destination.disconnect(objDest, self.numOut, self.numIn);\n        }\n    }\n}));\n\n\nconst Filter = types.model(\"Filter\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    type: types.optional(types.enumeration(\"filter\", [\"lowpass\", \"highpass\", \"bandpass\", \"lowshelf\", \"highshelf\", \"notch\", \"allpass\", \"peaking\"]), \"lowpass\"),\n    frequency: types.optional(types.union(types.number, types.string), 350),\n    rolloff: types.optional(types.number, -12),\n    Q: types.optional(types.number, 1),\n    gain: types.optional(types.number, 0),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate(){\n    },\n    afterAttach() {\n        if (!self.ui && self.track !== undefined)\n            self.ui = UIObj.create();\n\n        if (self.track !== undefined)\n            getParent(self, 2).addToneObj(\"Filter\", self);\n    },\n    beforeDestroy() {\n        if (self.track !== undefined)\n            getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst AutoFilter = types.model(\"AutoFilter\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    frequency: types.optional(types.union(types.number, types.string), \"8n\"),\n    type: types.optional(types.enumeration(\"wave\", [\"sine\", \"triangle\", \"sawtooth\", \"square\", \"custom\"]), \"sine\"),\n    depth: types.optional(types.number, 1),\n    baseFrequency: types.optional(types.union(types.number, types.string), 200),\n    octaves: types.optional(types.number, 2.6),\n    filter: Filter,\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        if(child)\n            self[child][prop] = val;\n        else\n            self[prop] = val;\n\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"AutoFilter\", self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst AutoPanner = types.model(\"AutoPanner\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    frequency: types.optional(types.union(types.number, types.string), \"8n\"),\n    type: types.optional(types.enumeration(\"wave\", [\"sine\", \"triangle\", \"sawtooth\", \"square\"]), \"sine\"),\n    depth: types.optional(types.number, 1),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"AutoPanner\", self)\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst AutoWah = types.model(\"AutoWah\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    baseFrequency: types.optional(types.union(types.number, types.string), 100),\n    octaves: types.optional(types.number, 6),\n    sensitivity: types.optional(types.number, 0),\n    Q: types.optional(types.number, 2),\n    gain: types.optional(types.number, 2),\n    //follower: Follower\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"AutoWah\", self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst BitCrusher = types.model(\"BitCrusher\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    bits: types.optional(types.number, 4),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"BitCrusher\", self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\n\nconst Chebyshev = types.model(\"Chebyshev\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    order: types.optional(types.number, 1),\n    oversample: types.optional(types.enumeration(\"oversample\", [\"none\", \"2x\", \"4x\"]), \"none\"),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"Chebyshev\", self)\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst Chorus = types.model(\"Chorus\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    frequency: types.optional(types.union(types.number, types.string), 1.5),\n    delayTime: types.optional(types.number, 3.5),\n    depth: types.optional(types.number, 0.7),\n    type: types.optional(types.enumeration(\"wave\", [\"sine\", \"triangle\", \"sawtooth\", \"square\"]), \"sine\"),\n    spread: types.optional(types.number, 180),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"Chorus\", self)\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst Convolver = types.model(\"Convolver\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    url: types.optional(types.string, \"\"), //TODO: deal with sample?\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"Convolver\", self)\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst Distortion = types.model(\"Distortion\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    distortion: types.optional(types.number, 0.8),\n    oversample: types.optional(types.enumeration(\"oversample\", [\"none\", \"2x\", \"4x\"]), \"none\"),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"Distortion\", self)\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst FeedbackDelay = types.model(\"FeedbackDelay\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    delayTime: types.optional(types.string, \"8n\"),\n    maxDelay: types.optional(types.number, 1), //can't be changed, see Tone.Delay docs\n    feedback: types.optional(types.number, 0.5),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"FeedbackDelay\", self)\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst Freeverb = types.model(\"Freeverb\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    roomSize: types.optional(types.number, 0.7),\n    dampening: types.optional(types.number, 3000),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"Freeverb\", self)\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst JCReverb = types.model(\"JCReverb\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    roomSize: types.optional(types.number, 0.5),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"JCReverb\", self)\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst MidSideEffect = types.model(\"MidSideEffect\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"MidSideEffect\", self)\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst Phaser = types.model(\"Phaser\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    frequency: types.optional(types.union(types.number, types.string), 0.5),\n    octaves: types.optional(types.number, 3),\n    stages: types.optional(types.number, 10),\n    Q: types.optional(types.number, 10),\n    baseFrequency: types.optional(types.union(types.number, types.string), 350),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"Phaser\", self)\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst PingPongDelay = types.model(\"PingPongDelay\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    delayTime: types.optional(types.string, \"8n\"),\n    maxDelayTime: types.optional(types.string, \"1\"),\n    feedback: types.optional(types.number, 0.5),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"PingPongDelay\", self)\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst PitchShift = types.model(\"PitchShift\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    pitch: types.optional(types.number, 0),\n    //The window size corresponds roughly to the sample length in a looping sampler. \n    //Smaller values are desirable for a less noticeable delay time of the pitch shifted signal, \n    //  but larger values will result in smoother pitch shifting for larger intervals. \n    //A nominal range of 0.03 to 0.1 is recommended.\n    windowSize: types.optional(types.number, 0.1),\n    delayTime: types.optional(types.string, \"0\"),\n    feedback: types.optional(types.number, 0),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"PitchShift\", self)\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst Reverb = types.model(\"Reverb\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    decay: types.optional(types.number, 1.5),\n    preDelay: types.optional(types.number, 0.01),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"Reverb\", self);\n\n        ToneObjs.effects.find(o => o.id === self.id).obj.generate().then(() => {\n            //console.log('reverb generate finished')\n        });  \n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst StereoWidener = types.model(\"StereoWidener\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    width: types.optional(types.number, 0.5),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"StereoWidener\", self)\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst Tremolo = types.model(\"Tremolo\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    frequency: types.optional(types.union(types.number, types.string), 10),\n    type: types.optional(types.enumeration(\"wave\", [\"sine\", \"triangle\", \"sawtooth\", \"square\", \"custom\"]), \"sine\"),\n    depth: types.optional(types.number, 0.5),\n    spread: types.optional(types.number, 180),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"Tremolo\", self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst Vibrato = types.model(\"Vibrato\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    wet: types.optional(types.number, 1),\n\n    maxDelay: types.optional(types.number, 0.005),\n    frequency: types.optional(types.union(types.number, types.string), 5),\n    depth: types.optional(types.number, 0.1),\n    type: types.optional(types.enumeration(\"wave\", [\"sine\", \"triangle\", \"sawtooth\", \"square\", \"custom\"]), \"sine\"),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'effect', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"Vibrato\", self)\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst Effects = types.model(\"Effects\", {\n    autofilters: types.maybe(types.array(AutoFilter)),\n    autopanners: types.maybe(types.array(AutoPanner)),\n    autowahs: types.maybe(types.array(AutoWah)),\n    bitcrushers: types.maybe(types.array(BitCrusher)),\n    chebyshevs: types.maybe(types.array(Chebyshev)),\n    choruss: types.maybe(types.array(Chorus)), //plural chorus\n    convolvers: types.maybe(types.array(Convolver)),\n    distortions: types.maybe(types.array(Distortion)),\n    feedbackdelays: types.maybe(types.array(FeedbackDelay)),\n    freeverbs: types.maybe(types.array(Freeverb)),\n    jcreverbs: types.maybe(types.array(JCReverb)),\n    midsideeffects: types.maybe(types.array(MidSideEffect)),\n    phasers: types.maybe(types.array(Phaser)),\n    pingpongdelays: types.maybe(types.array(PingPongDelay)),\n    pitchshifts: types.maybe(types.array(PitchShift)),\n    reverbs: types.maybe(types.array(Reverb)),\n    stereowideners: types.maybe(types.array(StereoWidener)),\n    tremolos: types.maybe(types.array(Tremolo)),\n    vibratos: types.maybe(types.array(Vibrato))\n}).views(self => ({\n    getEffectByTypeId(type, id) {\n        return self[type + 's'].find(item => item.id === id);\n    },\n    getAllByTrack(trackId) {\n        let p = getMembers(self).properties;\n        let list = [];\n        for (let key in p) {\n            if (p.hasOwnProperty(key)) {\n                self[key].filter(o => o.track.id === trackId).forEach(function (item) {\n                    list.push(item);\n                })\n            }\n        }\n        return list;\n    }\n})).actions(self => ({\n    add(type, args) {\n        //this broke on package.json updates\n        //self[type + 's'].push(args);\n\n        switch (type) {\n            case \"autofilter\":\n                if(!args.oscillator){\n                    let defaultArgs = {...Tone.AutoFilter.getDefaults().filter};\n                    defaultArgs.id = 'filter_' + randomId();\n                    args.filter = Filter.create(defaultArgs);\n                }\n                self[type + 's'].push(AutoFilter.create(args));\n                break;\n            case \"autopanner\":\n                self[type + 's'].push(AutoPanner.create(args));\n                break;\n            case \"autowah\":\n                self[type + 's'].push(AutoWah.create(args));\n                break;\n            case \"bitcrusher\":\n                self[type + 's'].push(BitCrusher.create(args));\n                break;\n            case \"chebyshev\":\n                self[type + 's'].push(Chebyshev.create(args));\n                break;\n            case \"chorus\":\n                self[type + 's'].push(Chorus.create(args));\n                break;\n            case \"convolver\":\n                self[type + 's'].push(Convolver.create(args));\n                break;\n            case \"distortion\":\n                self[type + 's'].push(Distortion.create(args));\n                break;\n            case \"feedbackdelay\":\n                self[type + 's'].push(FeedbackDelay.create(args));\n                break;\n            case \"freeverb\":\n                self[type + 's'].push(Freeverb.create(args));\n                break;\n            case \"jcreverb\":\n                self[type + 's'].push(JCReverb.create(args));\n                break;\n            case \"midsideeffect\":\n                self[type + 's'].push(MidSideEffect.create(args));\n                break;\n            case \"phaser\":\n                self[type + 's'].push(Phaser.create(args));\n                break;\n            case \"pingpongdelay\":\n                self[type + 's'].push(PingPongDelay.create(args));\n                break;\n            case \"pitchshift\":\n                self[type + 's'].push(PitchShift.create(args));\n                break;\n            case \"reverb\":\n                self[type + 's'].push(Reverb.create(args));\n                break;\n            case \"stereowidener\":\n                self[type + 's'].push(StereoWidener.create(args));\n                break;\n            case \"tremolo\":\n                self[type + 's'].push(Tremolo.create(args));\n                break;\n            case \"vibrato\":\n                self[type + 's'].push(Vibrato.create(args));\n                break;\n            default:\n                break;\n        }\n    },\n    delete(type, id) {\n        destroy(self.getEffectByTypeId(type, id));\n    },\n    addToneObj(name, objSelf) {\n       ToneObjs.addAudioObj(name, objSelf, 'effect');\n    },\n    delToneObj(id) {\n        store.delConnectionsByObj(id);\n        ToneObjs.delAudioObj(id, 'effect');\n    }\n}))\n\n//*************************************************/\n\n\nconst Follower = types.model(\"Follower\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    \n    smoothing: types.optional(types.number, 0.05)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"Follower\", self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst Meter = types.model(\"Meter\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    smoothing: types.optional(types.number, 0.8)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('Meter', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst PanVol = types.model(\"PanVol\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    pan: types.optional(types.number, 0),\n    volume: types.optional(types.number, 0),\n    mute: types.optional(types.boolean, false),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"PanVol\", self);\n    },\n    beforeDestroy() {\n        let tokens = self.id.split('_');\n        if(tokens[0] === \"tinysynth\"){\n            let ts = store.instruments.getInstrumentByTypeId('tinysynth', 'tinysynth_' + tokens[2]);\n            ts.disconnectFromPanVol();\n        }\n\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst Split = types.model(\"Split\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track))\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('Split', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst Limiter = types.model(\"Limiter\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    threshold: types.optional(types.number, -12),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('Limiter', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst Solo = types.model(\"Solo\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    solo: types.optional(types.boolean, false),\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('Solo', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst Compressor = types.model(\"Compressor\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    ratio: types.optional(types.number, 12),\n    threshold: types.optional(types.number, -24),\n    release: types.optional(types.number, 0.25),\n    attack: types.optional(types.number, 0.003),\n    knee: types.optional(types.number, 30),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        if (self.track !== undefined)\n            getParent(self, 2).addToneObj('Compressor', self);\n    },\n    beforeDestroy() {\n        if (self.track !== undefined)\n            getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst MultibandCompressor = types.model(\"MultibandCompressor\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    low: Compressor,\n    mid: Compressor,\n    high: Compressor,\n\n    lowFrequency: types.optional(types.number, 250),\n    highFrequency: types.optional(types.number, 2000),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        if(child)\n            self[child][prop] = val;\n        else\n            self[prop] = val;\n        \n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('MultibandCompressor', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst MidSideCompressor = types.model(\"MidSideCompressor\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    mid: Compressor,\n    side: Compressor,\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        if(child)\n            self[child][prop] = val;\n        else\n            self[prop] = val;\n        \n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('MidSideCompressor', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst EQ3 = types.model(\"EQ3\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    low: types.optional(types.number, 0),\n    mid: types.optional(types.number, 0),\n    high: types.optional(types.number, 0),\n    lowFrequency: types.optional(types.union(types.number, types.string), 400),\n    highFrequency: types.optional(types.union(types.number, types.string), 2500),\n    Q: types.optional(types.number, 1),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('EQ3', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst Mono = types.model(\"Mono\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('Mono', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst Gate = types.model(\"Gate\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    attack: types.optional(types.number, 0.1),\n    release: types.optional(types.number, 0.1),\n    threshold: types.optional(types.number, -40),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('Gate', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst AmplitudeEnvelope = types.model(\"AmplitudeEnvelope\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    attack: types.optional(types.number, 0.1),\n\tdecay: types.optional(types.number, 0.2),\n\tsustain: types.optional(types.number, 1),\n    release: types.optional(types.number, 0.8),\n\n    attackCurve: types.optional(types.union(types.string, types.array(types.number)), \"linear\"), //linear exponential sine cosine bounce ripple step\n    decayCurve: types.optional(types.union(types.string, types.array(types.number)), \"exponential\"), \n    releaseCurve: types.optional(types.union(types.string, types.array(types.number)), \"exponential\"), \n    \n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n\n    },\n    afterAttach() {\n        if (!self.ui && self.track !== undefined)\n            self.ui = UIObj.create();\n\n        if(self.track !== undefined)\n            getParent(self, 2).addToneObj('AmplitudeEnvelope', self);\n    },\n    beforeDestroy() {\n        if(self.track !== undefined)\n            getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst Envelope = types.model(\"Envelope\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    attack: types.optional(types.number, 0.01),\n\tdecay: types.optional(types.number, 0.1),\n\tsustain: types.optional(types.number, 0.5),\n    release: types.optional(types.number, 1),\n    \n    attackCurve: types.optional(types.union(types.string, types.array(types.number)), \"linear\"), //linear exponential sine cosine bounce ripple step\n    decayCurve: types.optional(types.union(types.string, types.array(types.number)), \"exponential\"), \n    releaseCurve: types.optional(types.union(types.string, types.array(types.number)), \"exponential\"), \n    \n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    //TODO: check if part of synth instruments\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui && self.track !== undefined)\n            self.ui = UIObj.create();\n\n    },\n    afterAttach() {\n        if(self.track !== undefined)\n            getParent(self, 2).addToneObj('Envelope', self);\n    },\n    beforeDestroy() {\n        if(self.track !== undefined)\n            getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst FrequencyEnvelope = types.model(\"FrequencyEnvelope\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    //need these?\n    attack: types.optional(types.number, 0.1),\n\tdecay: types.optional(types.number, 0.2),\n\tsustain: types.optional(types.number, 1),\n    release: types.optional(types.number, 0.8),\n\n    baseFrequency: types.optional(types.union(types.number, types.string), 200),\n    octaves: types.optional(types.number, 4),\n    exponent: types.optional(types.number, 2),\n\n    attackCurve: types.optional(types.union(types.string, types.array(types.number)), \"linear\"), //linear exponential sine cosine bounce ripple step\n    decayCurve: types.optional(types.union(types.string, types.array(types.number)), \"exponential\"), \n    releaseCurve: types.optional(types.union(types.string, types.array(types.number)), \"exponential\"), \n    \n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    //TODO: check if part of synth instruments\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        \n    },\n    afterAttach() {\n        if (!self.ui && self.track !== undefined)\n            self.ui = UIObj.create();\n\n        if(self.track !== undefined)\n            getParent(self, 2).addToneObj('FrequencyEnvelope', self);\n    },\n    beforeDestroy() {\n        if(self.track !== undefined)\n            getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst LFO = types.model(\"LFO\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    type: types.optional(types.string, \"sine\"),\n    min: types.optional(types.number, 0),\n    max: types.optional(types.number, 1),\n    phase: types.optional(types.number, 0),\n    frequency: types.optional(types.string, \"4n\"),\n    amplitude: types.optional(types.number, 1),\n    //units: Tone.Type.Default\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('LFO', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst FeedbackCombFilter = types.model(\"FeedbackCombFilter\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    delayTime: types.optional(types.union(types.number, types.string), 0.1),\n    resonance: types.optional(types.number, 0.1),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('FeedbackCombFilter', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst LowpassCombFilter = types.model(\"LowpassCombFilter\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    delayTime: types.optional(types.union(types.number, types.string), 0.1),\n    resonance: types.optional(types.number, 0.1),\n    dampening: types.optional(types.number, 3000),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('LowpassCombFilter', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst MultibandSplit = types.model(\"MultibandSplit\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    lowFrequency: types.optional(types.number, 400),\n    highFrequency: types.optional(types.number, 2500),\n    Q: types.optional(types.number, 1),\n    low: Filter,\n    mid: Filter,\n    high: Filter,\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('MultibandSplit', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst Volume = types.model(\"Volume\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    volume: types.optional(types.number, 0),\n    mute: types.optional(types.boolean, false),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('Volume', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst Panner = types.model(\"Panner\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    pan: types.optional(types.number, 0),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'component', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj(\"Panner\", self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst Components = types.model(\"Components\", {\n    filters: types.maybe(types.array(Filter)),\n    followers: types.maybe(types.array(Follower)),\n    meters: types.maybe(types.array(Meter)),\n    panvols: types.maybe(types.array(PanVol)),\n    splits: types.maybe(types.array(Split)),\n    limiters: types.maybe(types.array(Limiter)),\n    solos: types.maybe(types.array(Solo)),\n    eq3s: types.maybe(types.array(EQ3)),\n    compressors: types.maybe(types.array(Compressor)),\n    monos: types.maybe(types.array(Mono)),\n    gates: types.maybe(types.array(Gate)),\n    envelopes: types.maybe(types.array(Envelope)),\n    amplitudeenvelopes: types.maybe(types.array(AmplitudeEnvelope)),\n    frequencyenvelopes: types.maybe(types.array(FrequencyEnvelope)),\n    lfos: types.maybe(types.array(LFO)),\n    feedbackcombfilters: types.maybe(types.maybe(types.array(FeedbackCombFilter))),\n    lowpasscombfilters: types.maybe(types.maybe(types.array(LowpassCombFilter))),\n    multibandcompressors: types.maybe(types.array(MultibandCompressor)),\n    midsidecompressors: types.maybe(types.array(MidSideCompressor)),\n    multibandsplits: types.maybe(types.array(MultibandSplit)),\n    volumes: types.maybe(types.array(Volume)),\n    panners: types.maybe(types.array(Panner)),\n}).views(self => ({\n    isHidden(id){\n        let count = (id.match(/_/g) || []).length;\n        if(count >= 2)\n            return true;\n        else\n            return false;\n    },\n    getComponentByTypeId(type, id) {\n        return self[type + 's'].find(item => item.id === id);\n    },\n    getAllByTrack(trackId) {\n        let p = getMembers(self).properties;\n        let list = [];\n        for (let key in p) {\n            if (p.hasOwnProperty(key)) {\n                self[key].filter(o => o.track.id === trackId).forEach(function (item) {\n                    list.push(item);\n                })\n            }\n        }\n        return list;\n    }\n})).actions(self => ({\n    add(type, args) {\n        //this broke during package.json update...\n        //self[type + 's'].push(args)\n\n        switch (type) {\n            case \"filter\":\n                self[type + 's'].push(Filter.create(args));\n                break;\n            case \"follower\":\n                self[type + 's'].push(Follower.create(args));\n                break;\n            case \"meter\":\n                self[type + 's'].push(Meter.create(args));\n                break;\n            case \"panvol\":\n                self[type + 's'].push(PanVol.create(args));\n                break;\n            case \"split\":\n                self[type + 's'].push(Split.create(args));\n                break;\n            case \"limiter\":\n                self[type + 's'].push(Limiter.create(args));\n                break;\n            case \"solo\":\n                self[type + 's'].push(Solo.create(args));\n                break;\n            case \"eq3\":\n                self[type + 's'].push(EQ3.create(args));\n                break;\n            case \"compressor\":\n                self[type + 's'].push(Compressor.create(args));\n                break;\n            case \"mono\":\n                self[type + 's'].push(Mono.create(args));\n                break;\n            case \"gate\":\n                self[type + 's'].push(Gate.create(args));\n                break;\n            case \"envelope\":\n                self[type + 's'].push(Envelope.create(args));\n                break;\n            case \"amplitudeenvelope\":\n                self[type + 's'].push(AmplitudeEnvelope.create(args));\n                break;\n            case \"frequencyenvelope\":\n                self[type + 's'].push(FrequencyEnvelope.create(args));\n                break;\n            case \"lfo\":\n                self[type + 's'].push(LFO.create(args));\n                break;\n            case \"feedbackcombfilter\":\n                self[type + 's'].push(FeedbackCombFilter.create(args));\n                break;\n            case \"lowpasscombfilter\":\n                self[type + 's'].push(LowpassCombFilter.create(args));\n                break;\n            case \"multibandcompressor\":\n                if(!args.low){\n                    let defaultArgs = {...Tone.Compressor.getDefaults()};\n                    defaultArgs.id = 'compressor_' + randomId();\n                    args.low = Compressor.create(defaultArgs);\n                }\n                if(!args.mid){\n                    let defaultArgs = {...Tone.Compressor.getDefaults()};\n                    defaultArgs.id = 'compressor_' + randomId();\n                    args.mid = Compressor.create(defaultArgs);\n                }\n                if(!args.high){\n                    let defaultArgs = {...Tone.Compressor.getDefaults()};\n                    defaultArgs.id = 'compressor_' + randomId();\n                    args.high = Compressor.create(defaultArgs);\n                }\n                self[type + 's'].push(MultibandCompressor.create(args));\n                break;\n            case \"midsidecompressor\":\n                if(!args.mid){\n                    let defaultArgs = {...Tone.Compressor.getDefaults()};\n                    defaultArgs.id = 'compressor_' + randomId();\n                    args.mid = Compressor.create(defaultArgs);\n                }\n                if(!args.side){\n                    let defaultArgs = {...Tone.Compressor.getDefaults()};\n                    defaultArgs.id = 'compressor_' + randomId();\n                    args.side = Compressor.create(defaultArgs);\n                }\n                self[type + 's'].push(MidSideCompressor.create(args));\n                break;\n            case \"multibandsplit\":\n                if(!args.low){\n                    let defaultArgs = {...Tone.Filter.getDefaults()};\n                    defaultArgs.id = 'filter_' + randomId();\n                    args.low = Filter.create(defaultArgs);\n                }\n                if(!args.mid){\n                    let defaultArgs = {...Tone.Filter.getDefaults()};\n                    defaultArgs.id = 'filter_' + randomId();\n                    args.mid = Filter.create(defaultArgs);\n                }\n                if(!args.high){\n                    let defaultArgs = {...Tone.Filter.getDefaults()};\n                    defaultArgs.id = 'filter_' + randomId();\n                    args.high = Filter.create(defaultArgs);\n                }\n                self[type + 's'].push(MultibandSplit.create(args));\n                break;\n            case \"volume\":\n                self[type + 's'].push(Volume.create(args));\n                break;\n            case \"panner\":\n                self[type + 's'].push(Panner.create(args));\n                break;\n            default:\n                break;\n        }\n    },\n    delete(type, id) {\n        destroy(self.getComponentByTypeId(type, id));\n    },\n    addToneObj(name, objSelf) {\n        ToneObjs.addAudioObj(name, objSelf, 'component');\n    },\n    delToneObj(id) {\n        store.delConnectionsByObj(id);\n        ToneObjs.delAudioObj(id, 'component');\n    }\n}))\n\nconst AMOscillator = types.model(\"AMOscillator\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    frequency: types.optional(types.union(types.number, types.string), 440), //both number and string\n    type: types.optional(types.string, \"sine\"), //partials can also be used ex) \"sine4\"\n    modulationType: types.optional(types.string, \"square\"), //partials can also be used ex) \"sine4\"\n    detune: types.optional(types.number, 0),\n    phase: types.optional(types.number, 0),\n    harmonicity: types.optional(types.number, 1),\n    volume: types.optional(types.number, 0),\n    //partials: types.optional(types.array(types.number), []),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    //check if part of synth instrument and use the ToneObj\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'source', prop, val, signal, child);\n    },\n    afterCreate() {},\n    afterAttach() {\n        if (!self.ui && self.track !== undefined)\n            self.ui = UIObj.create();\n\n        if(self.track !== undefined){\n            getParent(self, 2).addToneObj('AMOscillator', self);\n        }\n    },\n    beforeDestroy() {\n        if(self.track !== undefined)\n            getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst FMOscillator = types.model(\"FMOscillator\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    frequency: types.optional(types.union(types.number, types.string), 440), //both number and string\n    type: types.optional(types.string, \"sine\"), //partials can also be used ex) \"sine4\"\n    modulationType: types.optional(types.string, \"square\"), //partials can also be used ex) \"sine4\"\n    modulationIndex: types.optional(types.number, 2),\n    detune: types.optional(types.number, 0),\n    phase: types.optional(types.number, 0),\n    harmonicity: types.optional(types.number, 1),\n    volume: types.optional(types.number, 0),\n    //partials: types.optional(types.array(types.number), []),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    //check if part of synth instrument and use the ToneObj\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'source', prop, val, signal, child);\n    },\n    afterCreate() {},\n    afterAttach() {\n        if (!self.ui && self.track !== undefined)\n            self.ui = UIObj.create();\n\n        if(self.track !== undefined){\n            getParent(self, 2).addToneObj('FMOscillator', self);\n        }\n    },\n    beforeDestroy() {\n        if(self.track !== undefined)\n            getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst FatOscillator = types.model(\"FatOscillator\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    type: types.optional(types.string, \"sawtooth\"), //partials can also be used ex) \"sine4\"\n    frequency: types.optional(types.union(types.number, types.string), 440), //both number and string\n    detune: types.optional(types.number, 0),\n    phase: types.optional(types.number, 0),\n    spread: types.optional(types.number, 20),\n    count: types.optional(types.number, 3),\n    volume: types.optional(types.number, 0),\n    //partials: types.optional(types.array(types.number), []),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    //check if part of synth instrument and use the ToneObj\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'source', prop, val, signal, child);\n    },\n    afterCreate() {},\n    afterAttach() {\n        if (!self.ui && self.track !== undefined)\n            self.ui = UIObj.create();\n\n        if(self.track !== undefined){\n            getParent(self, 2).addToneObj('FatOscillator', self);\n        }\n    },\n    beforeDestroy() {\n        if(self.track !== undefined)\n            getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\n\nconst Oscillator = types.model(\"Oscillator\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    type: types.optional(types.string, \"sine\"), //partials can also be used ex) \"sine4\"\n    frequency: types.optional(types.union(types.number, types.string), 440), //TODO: types.custom for string and number since \"C4\" and 440 can be used\n    detune: types.optional(types.number, 0),\n    phase: types.optional(types.number, 0),\n    volume: types.optional(types.number, 0),\n    //partials: types.optional(types.array(types.number), []),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    //check if part of synth instrument and use the ToneObj\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'source', prop, val, signal, child);\n    },\n    afterCreate() {\n  \n    },\n    afterAttach() {\n        if (!self.ui && self.track !== undefined)\n            self.ui = UIObj.create();\n\n        if(self.track !== undefined){\n            getParent(self, 2).addToneObj('Oscillator', self);\n        }\n    },\n    beforeDestroy() {\n        if(self.track !== undefined)\n            getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\n/*\nTone.OmniOscillator aggregates Tone.Oscillator, Tone.PulseOscillator, Tone.PWMOscillator, Tone.FMOscillator, Tone.AMOscillator, and Tone.FatOscillator into one class. \nThe oscillator class can be changed by setting the type. omniOsc.type = \"pwm\" will set it to the Tone.PWMOscillator. \nPrefixing any of the basic types (“sine”, “square4”, etc.) with “fm”, “am”, or “fat” will use the FMOscillator, AMOscillator or FatOscillator respectively. \nFor example: omniOsc.type = \"fatsawtooth\" will create set the oscillator to a FatOscillator of type “sawtooth”.\n*/\nconst OmniOscillator = types.model(\"OmniOscillator\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    type: types.optional(types.string, \"sine\"), //partials can also be used ex) \"sine4\"\n    frequency: types.optional(types.union(types.number, types.string), 440), //both number and string\n    detune: types.optional(types.number, 0),\n    phase: types.optional(types.number, 0),\n    volume: types.optional(types.number, 0),\n    //harmonicity ?\n    //partials: types.optional(types.array(types.number), []),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    //check if part of synth instrument and use the ToneObj\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'source', prop, val, signal, child);\n    },\n    afterCreate() {},\n    afterAttach() {\n        if (!self.ui && self.track !== undefined)\n            self.ui = UIObj.create();\n        \n        if(self.track !== undefined){\n            getParent(self, 2).addToneObj('OmniOscillator', self);\n        }\n    },\n    beforeDestroy() {\n        if(self.track !== undefined)\n            getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\nconst PWMOscillator = types.model(\"PWMOscillator\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    type: types.optional(types.string, \"sine\"), //partials can also be used ex) \"sine4\"\n    frequency: types.optional(types.union(types.number, types.string), 440), //both number and string\n    detune: types.optional(types.number, 0),\n    phase: types.optional(types.number, 0),\n    modulationFrequency: types.optional(types.union(types.number, types.string), 0.4), //both string and number (frequency)\n    volume: types.optional(types.number, 0),\n    //harmonicity //no harmonicity for PWM\n    //partials: types.optional(types.array(types.number), []), //no partials for PWM\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    //check if part of synth instrument and use the ToneObj\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'source', prop, val, signal, child);\n    },\n    afterCreate() {},\n    afterAttach() {\n        if (!self.ui && self.track !== undefined)\n            self.ui = UIObj.create();\n\n        if(self.track !== undefined){\n            getParent(self, 2).addToneObj('PWMOscillator', self);\n        }\n    },\n    beforeDestroy() {\n        if(self.track !== undefined)\n            getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\n\nconst PulseOscillator = types.model(\"PulseOscillator\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    type: types.optional(types.string, \"sine\"), //partials can also be used ex) \"sine4\"\n    frequency: types.optional(types.union(types.number, types.string), 440), //both number and string\n    detune: types.optional(types.number, 0),\n    phase: types.optional(types.number, 0),\n    width: types.optional(types.number, 0.2),\n    volume: types.optional(types.number, 0),\n    //partials: types.optional(types.array(types.number), []),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    //check if part of synth instrument and use the ToneObj\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'source', prop, val, signal, child);\n    },\n    afterCreate() {},\n    afterAttach() {\n        if (!self.ui && self.track !== undefined)\n            self.ui = UIObj.create();\n\n        if(self.track !== undefined){\n            getParent(self, 2).addToneObj('PulseOscillator', self);\n        }\n    },\n    beforeDestroy() {\n        if(self.track !== undefined)\n            getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\n\nconst Noise = types.model(\"Noise\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    type: types.optional(types.string, \"white\"), //white pink brown\n    playbackRate: types.optional(types.number, 1),\n    volume: types.optional(types.number, 0),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    //check if part of synth instrument and use the ToneObj\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'source', prop, val, signal, child);\n    },\n    afterCreate() {\n    },\n    afterAttach() {\n        if (!self.ui && self.track !== undefined)\n            self.ui = UIObj.create();\n\n        if(self.track !== undefined)\n            getParent(self, 2).addToneObj('Noise', self);\n\n    },\n    beforeDestroy() {\n        if(self.track !== undefined)\n            getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\n/*\nvar motu = new Tone.UserMedia();\n//opening the input asks the user to activate their mic\nmotu.open().then(function(){\n\t//promise resolves when input is available\n});\n*/\nconst UserMedia = types.model(\"UserMedia\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    type: types.optional(types.number, 0), \n    mute: types.optional(types.boolean, false),\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n\n})).actions(self => ({\n    //check if part of synth instrument and use the ToneObj\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'source', prop, val, signal, child);\n    },\n    afterCreate() {\n        self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('UserMedia', self);\n\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id)\n    }\n}));\n\n\n\nconst Sources = types.model(\"Sources\", {\n    amoscillators: types.maybe(types.array(AMOscillator)),\n    fatoscillators: types.maybe(types.array(FatOscillator)),\n    fmoscillators: types.maybe(types.array(FMOscillator)),\n    oscillators: types.maybe(types.array(Oscillator)),\n    omnioscillators: types.maybe(types.array(OmniOscillator)),\n    pwmoscillators: types.maybe(types.array(PWMOscillator)),\n    pulseoscillators: types.maybe(types.array(PulseOscillator)),\n    noises: types.maybe(types.array(Noise)),\n    usermedias: types.maybe(types.array(UserMedia))\n}).views(self => ({\n    getSourceByTypeId(type, id) {\n        return self[type + 's'].find(item => item.id === id);\n    },\n    getAllByTrack(trackId) {\n        let p = getMembers(self).properties;\n        let list = [];\n        for (let key in p) {\n            if (p.hasOwnProperty(key)) {\n                self[key].filter(o => o.track.id === trackId).forEach(function (item) {\n                    list.push(item);\n                })\n            }\n        }\n        return list;\n    }\n})).actions(self => ({\n    add(type, args) {\n        //this broke during package.json update....\n        //self[type + 's'].push(args);\n\n        switch (type) {\n            case \"amoscillator\":\n                self[type + 's'].push(AMOscillator.create(args));\n                break;\n            case \"fatoscillator\":\n                self[type + 's'].push(FatOscillator.create(args));\n                break\n            case \"fmoscillator\":\n                self[type + 's'].push(FMOscillator.create(args));\n                break\n            case \"oscillator\":\n                self[type + 's'].push(Oscillator.create(args));\n                break;\n            case \"omnioscillator\":\n                self[type + 's'].push(OmniOscillator.create(args));\n                break;\n            case \"pwmoscillator\":\n                self[type + 's'].push(PWMOscillator.create(args));\n                break;\n            case \"pulseoscillator\":\n                self[type + 's'].push(PulseOscillator.create(args));\n                break;\n            case \"noise\":\n                self[type + 's'].push(Noise.create(args));\n                break;\n            case \"usermedia\":\n                self[type + 's'].push(UserMedia.create(args));\n                break;\n            default:\n                break;\n        }\n    },\n    delete(type, id) {\n        destroy(self.getSourceByTypeId(type, id));\n    },\n    addToneObj(name, objSelf) {\n       ToneObjs.addAudioObj(name, objSelf, 'source');\n    },\n    delToneObj(id) {\n        store.delConnectionsByObj(id);\n        ToneObjs.delAudioObj(id, 'source');\n    }\n}));\n\n\nconst Player = types.model(\"Player\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n    sample: types.maybe(types.reference(Sample)),\n    region: types.maybe(types.reference(Region)),\n\n    url: types.maybe(types.string),\n    //onload  : types.maybe(types.null) , //hm\n    playbackRate: types.optional(types.number, 1),\n    loop: types.optional(types.boolean, false),\n    autostart: types.optional(types.boolean, false),\n    loopStart: types.optional(types.number, 0),\n    loopEnd: types.optional(types.number, 0),\n    retrigger: types.optional(types.boolean, false),\n    reverse: types.optional(types.boolean, false),\n    fadeIn: types.optional(types.number, 0),\n    fadeOut: types.optional(types.number, 0),\n    volume: types.optional(types.number, 0),\n\n    ui: types.maybe(UIObj),\n    //automation: types.array(types.late(() => Automation))\n}).actions(self => ({\n    addAutomation(patternId, signal){\n        self.automation.push({pattern: patternId, signal: signal})\n    },\n    setModelPlaybackRate(val){\n        self.playbackRate = val;\n    },\n    setPropVal(prop, val, signal, child) {\n        self[prop] = val;\n        ToneObjs.setPropVal(self.id, 'instrument', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('Player', self);\n\n        let player = ToneObjs.instruments.find(o => o.id === self.id).obj;\n\n        if (self.region) {\n            store.DBLoadAudioFile(self.region.id).then(result => {\n                player.buffer.fromArray(result.data);\n            });\n        }\n        else {\n            store.DBLoadAudioFile(self.sample.id).then(result => {\n                if(result){\n                    if(result.data){\n                        if (Array.isArray(result.data) || result.data instanceof Float32Array) {            \n                            player.buffer.fromArray(result.data);\n                        }\n                        else{\n                            let blobUrl = window.URL.createObjectURL(result.data);\n                            player.load(blobUrl).then(() => {\n                                window.URL.revokeObjectURL(blobUrl);\n                            });\n                        }\n                    }\n                  }\n            });\n        }\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\n\nconst Synth = types.model(\"Synth\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    oscillator: OmniOscillator,\n    envelope: AmplitudeEnvelope,\n    portamento: types.optional(types.number, 0),\n    volume: types.optional(types.number, 0),\n\n    ui: types.maybe(UIObj)\n}).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        if(child)\n            self[child][prop] = val;\n        else\n            self[prop] = val;\n        \n        ToneObjs.setPropVal(self.id, 'instrument', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('Synth', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\n\nconst MonoSynth = types.model(\"MonoSynth\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    //frequency: types.optional(types.union(types.number, types.string), 'C4'), //this should be custom type allowing numbers/strings (freq/note)\n    detune: types.optional(types.number, 0),\n    oscillator: OmniOscillator, //square default\n    filter: Filter, //Q: 6 , type: lowpass ,rolloff: -24\n    envelope: AmplitudeEnvelope, //attack: 0.005 , decay: 0.1 , sustain: 0.9 , release: 1\n    filterEnvelope: FrequencyEnvelope, //attack: 0.06 ,decay: 0.2 ,sustain: 0.5 ,release: 2 ,baseFrequency: 200 ,octaves: 7 , exponent: 2\n    portamento: types.optional(types.number, 0),\n    volume: types.optional(types.number, -8), //... 0 is going to blow my eardrums\n\n    ui: types.maybe(UIObj)\n}).views(self => ({\n    get getParentId(){\n        return getParent(self, 1).id;\n    }\n})).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        if(self.getParentId){\n            let parent = getParent(self, 1);\n            if(parent.id.split('_')[0] === \"duosynth\"){\n                let voice = \"voice0\";\n                if(parent.voice1.id === self.id)\n                    voice = \"voice1\";\n\n                if(child)\n                    self[child][prop] = val;\n                else\n                    self[prop] = val;\n\n                ToneObjs.setPropVal(parent.id, 'instrument', prop, val, signal, child, voice);\n            }\n        }\n        else{\n            if(child)\n                self[child][prop] = val;\n            else\n                self[prop] = val;\n\n            ToneObjs.setPropVal(self.id, 'instrument', prop, val, signal, child);\n        }\n    },\n    afterCreate() {\n\n    },\n    afterAttach() {\n        if (!self.ui && self.track !== undefined)\n            self.ui = UIObj.create();\n\n        if(self.track !== undefined)\n            getParent(self, 2).addToneObj('MonoSynth', self);\n    },\n    beforeDestroy() {\n        if(self.track !== undefined)\n            getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst AMSynth = types.model(\"AMSynth\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    harmonicity: types.optional(types.number, 3),\n    detune: types.optional(types.number, 0),\n    oscillator : OmniOscillator , //sine default\n    envelope : AmplitudeEnvelope,\n    modulation: OmniOscillator, //type:square\n    modulationEnvelope : AmplitudeEnvelope,//({attack: 0.5 ,decay: 0 ,sustain: 1 ,release: 0.5}),\n    portamento: types.optional(types.number, 0),\n    volume: types.optional(types.number, 0),\n\n    ui: types.maybe(UIObj)\n}).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        if(child)\n            self[child][prop] = val;\n        else\n            self[prop] = val;\n\n        ToneObjs.setPropVal(self.id, 'instrument', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('AMSynth', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst FMSynth = types.model(\"FMSynth\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    harmonicity: types.optional(types.number, 3) ,\n    modulationIndex: types.optional(types.number, 10) ,\n    detune: types.optional(types.number, 0),\n    oscillator: OmniOscillator , //sine default\n    envelope: AmplitudeEnvelope,\n    modulation: OmniOscillator, //set to square\n    modulationEnvelope: AmplitudeEnvelope,//({attack: 0.5 ,decay: 0 ,sustain: 1 ,release: 0.5}),\n    portamento: types.optional(types.number, 0),\n    volume: types.optional(types.number, 0),\n\n    ui: types.maybe(UIObj)\n}).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        if(child)\n            self[child][prop] = val;\n        else\n            self[prop] = val;\n\n        ToneObjs.setPropVal(self.id, 'instrument', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('FMSynth', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst MetalSynth = types.model(\"MetalSynth\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    frequency: types.optional(types.union(types.number, types.string), 200),\n    envelope: AmplitudeEnvelope, // {\"attack\" : 0.001, \"decay\" : 1.4, \"release\" : 0.2}\n    harmonicity: types.optional(types.number, 5.1),\n    modulationIndex: types.optional(types.number, 32),\n    resonance: types.optional(types.number, 4000),\n    octaves: types.optional(types.number, 1.5),\n    volume: types.optional(types.number, 0),\n\n    ui: types.maybe(UIObj)\n}).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        if(child)\n            self[child][prop] = val;\n        else\n            self[prop] = val;\n\n        ToneObjs.setPropVal(self.id, 'instrument', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('MetalSynth', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst MembraneSynth = types.model(\"MembraneSynth\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    pitchDecay: types.optional(types.number, 0.05),\n    octaves: types.optional(types.number, 10),\n    oscillator: OmniOscillator,\n    envelope: AmplitudeEnvelope,\n    volume: types.optional(types.number, 0),\n\n    ui: types.maybe(UIObj)\n}).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        if(child)\n            self[child][prop] = val;\n        else\n            self[prop] = val;\n        \n        ToneObjs.setPropVal(self.id, 'instrument', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('MembraneSynth', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst PluckSynth = types.model(\"PluckSynth\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    attackNoise: types.optional(types.number, 1),\n\tdampening: types.optional(types.union(types.number, types.string), 4000),\n    resonance: types.optional(types.number, 0.7),\n    volume: types.optional(types.number, 0),\n\n    ui: types.maybe(UIObj)\n}).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        if(child)\n            self[child][prop] = val;\n        else\n            self[prop] = val;\n\n        ToneObjs.setPropVal(self.id, 'instrument', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('PluckSynth', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst NoiseSynth = types.model(\"NoiseSynth\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    noise: Noise,\n    envelope: AmplitudeEnvelope,\n    volume: types.optional(types.number, 0),\n\n    ui: types.maybe(UIObj)\n}).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        if(child)\n            self[child][prop] = val;\n        else\n            self[prop] = val;\n        \n        ToneObjs.setPropVal(self.id, 'instrument', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('NoiseSynth', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\n//not currently being used\nconst PolySynth = types.model(\"PolySynth\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    polyphony: types.optional(types.number, 4),\n    detune: types.optional(types.number, 0),\n    voice: types.optional(types.string, \"Synth\"), //convert to obj Tone.Synth Tone[\"Synth\"]\n    volume: types.optional(types.number, 0),\n\n    ui: types.maybe(UIObj)\n}).actions(self => ({\n    setPropVal(prop, val, signal, child) {},\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('PolySynth', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst DuoSynth = types.model(\"DuoSynth\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    vibratoAmount: types.optional(types.number, 0.5),\n\tvibratoRate: types.optional(types.union(types.number, types.string), 5),\n    harmonicity: types.optional(types.number, 1.5),\n    voice0: MonoSynth,\n    voice1: MonoSynth,\n    volume: types.optional(types.number, 0),\n    \n    ui: types.maybe(UIObj)\n}).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        if(child)\n            self[child][prop] = val;\n        else\n            self[prop] = val;\n\n        ToneObjs.setPropVal(self.id, 'instrument', prop, val, signal, child);\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        getParent(self, 2).addToneObj('DuoSynth', self);\n    },\n    beforeDestroy() {\n        getParent(self, 2).delToneObj(self.id);\n    }\n}));\n\nconst TinySynth = types.model(\"TinySynth\", {\n    id: types.identifier,\n    track: types.maybe(types.reference(Track)),\n\n    panvol: types.maybe(types.reference(PanVol)),\n\n    channel: types.optional(types.number, 0), //0-15  9=drums\n    instrument: types.optional(types.number, 0),\n    \n    ui: types.maybe(UIObj)\n}).actions(self => ({\n    setPropVal(prop, val, signal, child) {\n        if(prop === \"instrument\"){\n            self[prop] = val;\n            ToneObjs.custom.find(o => o.id === self.id).obj.send([0xc0, val]);\n        }\n        else if(prop === \"channel\"){\n            self[prop] = val;\n        }\n    },\n    disconnectFromPanVol(){\n        let tokens = self.id.split('_');\n        let tsRow = ToneObjs.custom.find(o => o.id === self.id);\n        let pvRow = ToneObjs.components.find(o => o.id === 'tinysynth_panvol_' + tokens[1]);\n        if(tsRow && pvRow){\n            if(tsRow.obj && pvRow.obj){\n                //disconnect standard audionode from tone node\n                Tone.disconnect(tsRow.obj.getConnectSourceNode(), pvRow.obj);\n            }\n        }\n    },\n    afterCreate() {\n        if (!self.ui)\n            self.ui = UIObj.create();\n    },\n    afterAttach() {\n        let outId = 'tinysynth_panvol_' + self.id.split('_')[1];\n\n        if(!self.panvol){\n            store.components.add('panvol', {id: outId, track: self.track.id});\n            self.panvol = outId;\n        }\n\n        let outObj = ToneObjs.components.find(c => c.id === outId).obj;\n\n        if(!ToneObjs.custom.find(row => row.id === self.id)){\n            ToneObjs.custom.push({id: self.id, track: self.track.id, obj: new window.WebAudioTinySynth({internalcontext:0, useReverb:0})})\n            \n            let tinySynth = ToneObjs.custom.find(t => t.id === self.id).obj;\n            \n            Tone.connect(tinySynth.setAudioContext(Tone.context), outObj);\n            tinySynth.send([0xc0, self.instrument]);\n        }\n    },\n    beforeDestroy() {\n        self.disconnectFromPanVol();\n        let toneRow = ToneObjs.custom.find(o => o.id === self.id);\n        toneRow.obj.destroy();\n        toneRow.obj = null;\n        delete toneRow.obj;\n        ToneObjs.custom = ToneObjs.custom.filter(o => o.id !== self.id);\n    }\n}));\n\n\nconst Instruments = types.model(\"Instruments\", {\n    players: types.maybe(types.array(Player)),\n    amsynths: types.maybe(types.array(AMSynth)),\n    fmsynths: types.maybe(types.array(FMSynth)),\n    synths: types.maybe(types.array(Synth)),\n    monosynths: types.maybe(types.array(MonoSynth)),\n    metalsynths: types.maybe(types.array(MetalSynth)),\n    membranesynths: types.maybe(types.array(MembraneSynth)),\n    plucksynths: types.maybe(types.array(PluckSynth)),\n    noisesynths: types.maybe(types.array(NoiseSynth)),\n    polysynths: types.maybe(types.array(PolySynth)),\n    duosynths: types.maybe(types.array(DuoSynth)),\n    tinysynths: types.maybe(types.array(TinySynth))\n}).views(self => ({\n    getInstrumentByTypeId(type, id) {\n        return self[type + 's'].find(item => item.id === id);\n    },\n    //audio track has 1 player\n    getPlayerByTrack(trackId) {\n        return self.players.find(p => p.track.id === trackId)\n    },\n    getAllByTrack(trackId) {\n        let p = getMembers(self).properties;\n        let list = [];\n        for (let key in p) {\n            if (p.hasOwnProperty(key)) {\n                self[key].filter(o => o.track.id === trackId).forEach(function (item) {\n                    list.push(item);\n                })\n            }\n        }\n        return list;\n    }\n})).actions(self => ({\n    add(type, args) {\n        //this broke during package.json update....\n        //self[type + 's'].push(args);\n\n        switch (type) {\n            case \"player\":\n                self[type + 's'].push(Player.create(args));\n                break;\n            case \"synth\":\n                if(!args.oscillator){\n                    let defaultArgs = {...Tone.Synth.getDefaults().oscillator};\n                    defaultArgs.id = 'omnioscillator_' + randomId();\n                    args.oscillator = OmniOscillator.create(defaultArgs);\n                }\n                if(!args.envelope){\n                    let defaultArgs = {...Tone.Synth.getDefaults().envelope};\n                    defaultArgs.id = 'amplitudeenvelope_' + randomId();\n                    args.envelope = AmplitudeEnvelope.create(defaultArgs);\n                }\n                self[type + 's'].push(Synth.create(args));\n                break;\n            case \"amsynth\":\n                if(!args.oscillator){\n                    let defaultArgs = {...Tone.AMSynth.getDefaults().oscillator};\n                    defaultArgs.id = 'omnioscillator_' + randomId();\n                    args.oscillator = OmniOscillator.create(defaultArgs)\n                }\n                if(!args.envelope){\n                    let defaultArgs = {...Tone.AMSynth.getDefaults().envelope};\n                    defaultArgs.id = 'amplitudeenvelope_' + randomId();\n                    args.envelope = AmplitudeEnvelope.create(defaultArgs);\n                }\n                if(!args.modulation){\n                    let defaultArgs = {...Tone.AMSynth.getDefaults().modulation};\n                    defaultArgs.id = 'omnioscillator_' + randomId();\n                    args.modulation = OmniOscillator.create(defaultArgs);\n                }\n                if(!args.modulationEnvelope){\n                    let defaultArgs = {...Tone.AMSynth.getDefaults().modulationEnvelope};\n                    defaultArgs.id = 'amplitudeenvelope_' + randomId();\n                    args.modulationEnvelope = AmplitudeEnvelope.create(defaultArgs);\n                }\n                self[type + 's'].push(AMSynth.create(args));\n                break;\n            case \"fmsynth\":\n                if(!args.oscillator){\n                    let defaultArgs = {...Tone.FMSynth.getDefaults().oscillator};\n                    defaultArgs.id = 'omnioscillator_' + randomId();\n                    args.oscillator = OmniOscillator.create(defaultArgs)\n                }\n                if(!args.envelope){\n                    let defaultArgs = {...Tone.FMSynth.getDefaults().envelope};\n                    defaultArgs.id = 'amplitudeenvelope_' + randomId();\n                    args.envelope = AmplitudeEnvelope.create(defaultArgs);\n                }\n                if(!args.modulation){\n                    let defaultArgs = {...Tone.FMSynth.getDefaults().modulation};\n                    defaultArgs.id = 'omnioscillator_' + randomId();\n                    args.modulation = OmniOscillator.create(defaultArgs);\n                }\n                if(!args.modulationEnvelope){\n                    let defaultArgs = {...Tone.FMSynth.getDefaults().modulationEnvelope};\n                    defaultArgs.id = 'amplitudeenvelope_' + randomId();\n                    args.modulationEnvelope = AmplitudeEnvelope.create(defaultArgs);\n                }\n                self[type + 's'].push(FMSynth.create(args));\n                break;\n            case \"monosynth\":\n                if(!args.oscillator){\n                    let defaultArgs = {...Tone.MonoSynth.getDefaults().oscillator};\n                    defaultArgs.id = 'omnioscillator_' + randomId();\n                    args.oscillator = OmniOscillator.create(defaultArgs)\n                }\n                if(!args.filter){\n                    let defaultArgs = {...Tone.MonoSynth.getDefaults().filter};\n                    defaultArgs.id = 'filter_' + randomId();\n                    args.filter = Filter.create(defaultArgs)\n                }\n                if(!args.envelope){\n                    let defaultArgs = {...Tone.MonoSynth.getDefaults().envelope};\n                    defaultArgs.id = 'amplitudeenvelope_' + randomId();\n                    args.envelope = AmplitudeEnvelope.create(defaultArgs);\n                }\n                if(!args.filterEnvelope){\n                    let defaultArgs = {...Tone.MonoSynth.getDefaults().filterEnvelope};\n                    defaultArgs.id = 'frequencyenvelope_' + randomId();\n                    args.filterEnvelope = FrequencyEnvelope.create(defaultArgs);\n                }\n                self[type + 's'].push(MonoSynth.create(args));\n                break;\n            case \"metalsynth\":\n                if(!args.envelope){\n                    let defaultArgs = {...Tone.MetalSynth.getDefaults().envelope};\n                    defaultArgs.id = 'amplitudeenvelope_' + randomId();\n                    args.envelope = AmplitudeEnvelope.create(defaultArgs)\n                }\n                self[type + 's'].push(MetalSynth.create(args));\n                break;\n            case \"membranesynth\":\n                if(!args.oscillator){\n                    let defaultArgs = {...Tone.MembraneSynth.getDefaults().oscillator};\n                    defaultArgs.id = 'omnioscillator_' + randomId();\n                    args.oscillator = OmniOscillator.create(defaultArgs)\n                }\n                if(!args.envelope){\n                    let defaultArgs = {...Tone.MembraneSynth.getDefaults().envelope};\n                    defaultArgs.id = 'amplitudeenvelope_' + randomId();\n                    args.envelope = AmplitudeEnvelope.create(defaultArgs)\n                }\n                self[type + 's'].push(MembraneSynth.create(args));\n                break;\n            case \"plucksynth\":\n                self[type + 's'].push(PluckSynth.create(args));\n                break;\n            case \"noisesynth\":\n                if(!args.noise){\n                    let defaultArgs = {...Tone.NoiseSynth.getDefaults().noise};\n                    defaultArgs.id = 'noise_' + randomId();\n                    args.noise = Noise.create(defaultArgs)\n                }\n                if(!args.envelope){\n                    let defaultArgs = {...Tone.NoiseSynth.getDefaults().envelope};\n                    defaultArgs.id = 'amplitudeenvelope_' + randomId();\n                    args.envelope = AmplitudeEnvelope.create(defaultArgs)\n                }\n                self[type + 's'].push(NoiseSynth.create(args));\n                break;\n            case \"polysynth\":\n                self[type + 's'].push(PolySynth.create(args));\n                break;\n            case \"duosynth\":\n                if(!args.voice0){\n                    let defaultArgs = cloneDeep(Tone.DuoSynth.getDefaults().voice0);\n                    defaultArgs.id = 'monosynth_' + randomId();\n\n                    defaultArgs.oscillator.id = 'omnioscillator_' + randomId();\n                    defaultArgs.oscillator = OmniOscillator.create(defaultArgs.oscillator)\n\n                    //no filter defined in duosynth defaults\n                    if(!defaultArgs.filter)\n                        defaultArgs.filter = {...Tone.MonoSynth.getDefaults().filter};\n\n                    defaultArgs.filter.id = 'filter_' + randomId();\n                    defaultArgs.filter = Filter.create(defaultArgs.filter)\n                    \n                    defaultArgs.envelope.id = 'amplitudeenvelope_' + randomId();\n                    defaultArgs.envelope = AmplitudeEnvelope.create(defaultArgs.envelope);\n                    \n                    defaultArgs.filterEnvelope.id = 'frequencyenvelope_' + randomId();\n                    defaultArgs.filterEnvelope = FrequencyEnvelope.create(defaultArgs.filterEnvelope);\n                    \n                    args.voice0 = MonoSynth.create(defaultArgs)\n                }\n                if(!args.voice1){\n                    let defaultArgs = cloneDeep(Tone.DuoSynth.getDefaults().voice1);\n                    defaultArgs.id = 'monosynth_' + randomId();\n\n                    defaultArgs.oscillator.id = 'omnioscillator_' + randomId();\n                    defaultArgs.oscillator = OmniOscillator.create(defaultArgs.oscillator)\n                    \n                    //no filter in defaults quick fix\n                    if(!defaultArgs.filter)\n                        defaultArgs.filter = {...Tone.MonoSynth.getDefaults().filter};\n                    \n                    defaultArgs.filter.id = 'filter_' + randomId();\n                    defaultArgs.filter = Filter.create(defaultArgs.filter)\n                    \n                    defaultArgs.envelope.id = 'amplitudeenvelope_' + randomId();\n                    defaultArgs.envelope = AmplitudeEnvelope.create(defaultArgs.envelope);\n                    \n                    defaultArgs.filterEnvelope.id = 'frequencyenvelope_' + randomId();\n                    defaultArgs.filterEnvelope = FrequencyEnvelope.create(defaultArgs.filterEnvelope);\n\n                    args.voice1 = MonoSynth.create(defaultArgs)\n                }\n                \n                self[type + 's'].push(DuoSynth.create(args));\n                break;\n            case \"tinysynth\":\n                self[type + 's'].push(TinySynth.create(args))\n                break;\n            default:\n                break;\n        }\n    },\n    delete(type, id){\n        destroy(self.getInstrumentByTypeId(type, id));\n    },\n    addToneObj(name, objSelf){\n       ToneObjs.addAudioObj(name, objSelf, 'instrument');\n    },\n    delToneObj(id){\n        store.delConnectionsByObj(id);\n        ToneObjs.delAudioObj(id, 'instrument');\n    },\n}));\n\nconst Scene = types.model(\"Scene\", {\n    id: types.identifier,\n    start: types.string,\n    end: types.string,\n    muteGroups: types.array(types.string)\n}).views(self => ({\n    isGroupMuted(group){\n        return self.muteGroups.find(g => g === group);\n    },\n    get getLength(){\n        return store.getSceneLength(self.id);\n    }\n})).actions(self => ({\n    setStart(time) {\n        self.start = time;\n    },\n    setEnd(time) {\n        self.end = time;\n    },\n    setGroupMute(group, mute){\n        if(self.muteGroups.find(g => g === group)){\n            self.muteGroups = self.muteGroups.filter(g => g !== group)\n        }\n        else{\n            self.muteGroups.push(group);\n        }\n\n        store.getPatternsBySceneGroup(self.id, group).forEach(p => {\n            p.setMute(mute);\n        })\n    }\n}));\n\nconst Note = types.model(\"Note\", {\n    id: types.identifier,\n    time: types.string,\n    mute: types.optional(types.boolean, false),\n    note: types.maybe(types.union(types.array(types.number), types.array(types.string))), //freq and string..\n    duration: types.maybe(types.union(types.number, types.string)), //audio tracks use % .. insts use quantized time for now\n    velocity: types.optional(types.number, 1),\n    probability: types.optional(types.number, 1),\n    //playbackRate: types.maybe(types.number),\n    //humanize: types.optional(types.union(types.boolean, types.string, types.number), false),\n    offset: types.optional(types.number, 0), // % of quantized position\n}).views(self => ({\n    get getPattern(){\n        return getParent(self, 2);\n    },\n    get getNote(){\n        if(self.note !== undefined)\n            return self.note.map(n => n)\n        else\n            return undefined\n    }\n})).actions(self => ({\n    pasteNoteProps(srcNote){\n        for(const prop in srcNote){\n            if(prop !== 'id' && prop !== 'time'){\n                if(prop === 'note')\n                    self[prop] = srcNote.getNote;\n                else\n                    self[prop] = srcNote[prop];\n            }\n        }\n\n        if(self.id.split('_')[1] !== 'copy')\n            self.setPartNote();\n    },\n    setRandomNote(){\n        self.note = getRandomNote();\n        self.setPartNote();\n    },\n    setNote(note){\n        self.note = note;\n        self.setPartNote();\n    },\n    setOffset(val){\n        self.offset = val;\n        self.setPartNote();\n    },\n    setVelocity(val){\n        self.velocity = val;\n        self.setPartNote();\n    },\n    setDuration(val){\n        self.duration = val;\n        self.setPartNote();\n    },\n    setProbability(val){\n        self.probability = val;\n        self.setPartNote();\n    },\n    setHumanize(val){\n        self.humanize = val;\n        self.setPartNote();\n    },\n    toggle() {\n        self.mute = !self.mute;\n        self.setPartNote();\n    },\n    setPartNote(){\n        let part = ToneObjs.parts.find(p => p.id === getParent(self, 2).id);\n        let event = part.obj.at(self.time, { \"mute\": self.mute, \"note\": self.getNote, \"duration\": self.duration, \"velocity\": self.velocity, \"offset\": self.offset, \"time\": self.time});\n        event.probability = self.probability;\n        event.humanize = self.humanize;\n    },\n    afterAttach() {\n        //editview copiedNotes are not added to Tone Part\n        if(self.id.split('_')[1] !== 'copy')\n            self.setPartNote();\n    },\n    beforeDestroy() {\n        if(self.id.split('_')[1] !== 'copy'){\n            let part = ToneObjs.parts.find(p => p.id === getParent(self, 2).id);\n            part.obj.remove(self.time);\n        }\n    }\n}));\n\nconst Pattern = types.model(\"Pattern\", {\n    id: types.identifier,\n    resolution: types.optional(types.string, '16n'),\n    track: types.reference(Track),\n    scene: types.reference(Scene),\n    notes: types.maybe(types.array(Note)),\n    mute: types.optional(types.boolean, false)\n}).views(self => ({\n    getNote(time) {\n        return self.notes.find(n => n.time === time);\n    },\n    getNotesByBar(bar){\n        return self.notes.filter(n => Tone.Time(n.time) >= Tone.Time((bar - 1) + ':0:0') && Tone.Time(n.time) < Tone.Time(bar + ':0:0'))\n    },\n    get getSortedNotesAsc() {\n        let sceneNotes = [];\n        self.notes.forEach(function (note) {\n            if (Tone.Time(note.time) < Tone.Time(store.getSceneLength(self.scene.id)))\n                sceneNotes.push(note);\n        })\n\n        return sceneNotes.sort(function (a, b) {\n            return Tone.Time(a.time).toSeconds() - Tone.Time(b.time).toSeconds();\n        });\n    },\n    get getSortedNotesDesc() {\n        let sceneNotes = [];\n        self.notes.forEach(function (note) {\n            if (Tone.Time(note.time) < Tone.Time(store.getSceneLength(self.scene.id)))\n                sceneNotes.push(note);\n        })\n\n        return sceneNotes.sort(function (a, b) {\n            return Tone.Time(b.time).toSeconds() - Tone.Time(a.time).toSeconds();\n        });\n    },\n    get getLength(){\n        return store.getSceneLength(self.scene.id);\n    }\n})).actions(self => {\n    function addNote(time, mute, val, dur, vel, prob, offset) {\n        let values;\n\n        if(val){\n          values = val.map(n => n)\n        }\n\n        self.notes.push(Note.create({ id: 'note_' + randomId(), time: time, mute: mute, note: values, duration: dur, velocity: vel, probability: prob, offset: offset}));\n    }\n    function deleteNote(note){\n        destroy(note);\n    }\n    function setResolution(val) {\n        self.resolution = val;\n    }\n    function setMute(val) {\n        self.mute = val;\n        ToneObjs.parts.find(p => p.id === self.id).obj.mute = val;\n    }\n    function deleteNotes(){\n        if(store.ui.selectedNote)\n            store.ui.selectNote(undefined);\n        \n        self.getSortedNotesAsc.forEach(note => {\n            destroy(note);\n        })\n    }\n    function deleteNotesByBar(bar){\n        if(store.ui.selectedNote)\n            store.ui.selectNote(undefined);\n        \n        self.getNotesByBar(bar).forEach(n => self.deleteNote(n));\n    }\n    function pasteNotesToBar(notes, bar){\n        bar -= 1;\n        notes.forEach(n => {\n            let newTime = bar + ':' + n.time.split(':')[1] + ':' + n.time.split(':')[2];\n            self.addNote(newTime, n.mute, n.note, n.duration, n.velocity, n.probability, n.offset);\n        })\n    }\n    function pastePattern(src){\n        self.resolution = src.resolution;\n        \n        self.deleteNotes();\n        \n        //use snapshot instead?\n        src.notes.forEach(function(note){\n            self.notes.push(Note.create({\n                    id: 'note_' + randomId(),\n                    time: note.time,\n                    mute: note.mute,\n                    note: note.getNote,\n                    duration: note.duration,\n                    velocity: note.velocity,\n                    probability: note.probability,\n                    humanize: note.humanize,\n                    offset: note.offset\n                })\n            )\n        })\n    }\n    function createRandomNotes(bar){\n        let timeStart = '0:0:0', timeEnd = Tone.Time(self.getLength).toBarsBeatsSixteenths();\n\n        if(bar){\n            timeStart = (bar - 1) + ':0:0';\n            timeEnd = bar + ':0:0';\n        }\n        \n        const startBar = parseInt(timeStart.split(':')[0], 10);\n        const totalBars = parseInt(timeEnd.split(':')[0], 10) - startBar;\n        const totalNotes = totalBars * self.resolution.slice(0, -1);\n\n        for(let i=0; i<totalBars; i++){\n            for(let k=0; k<totalNotes; k++){\n                const noteTime = Tone.Time(Tone.Time((i + startBar) + ':0:0') + (Tone.Time((self.resolution)) * k)).toBarsBeatsSixteenths();\n                self.addNote(noteTime, false, getRandomNote(), self.resolution);\n            }\n        }\n    }\n    function initPart(offline) {\n        let tObjs = ToneObjs;\n\n        if(offline){\n            tObjs = offline;\n        }\n\n        let part = tObjs.parts.find(p => p.id === self.id);\n        \n        //check this when scene time changes\n        if(!offline){\n            if(!part.player)\n                part.player = new Tone.Player().connect(ToneObjs.components.find(c => c.id === self.track.getPanVol.id).obj);\n\n            if(!part.playerPart)\n                part.playerPart = new Tone.Part((time, note) => { part.player.start(time); });\n            \n            part.playerPart.start(self.scene.start).stop(self.scene.end);\n            part.playerPart.mute = true;\n            part.playerPart.at('0:0:0', 'C3')\n        }\n        \n        part.obj = new Tone.Part(function (time, value) {\n\n            //empty inst notes are ignored\n            //audio notes are always undefined FYI\n            if(value.note)\n                if(value.note.length === 1) \n                    if(value.note[0] === '')\n                        return;\n            \n\n            let offset = Tone.Time(self.resolution) * value.offset;\n\n            //convert to freq for notes like F##3 that Tone doesn't support\n            if(value.note){\n                for(let i=0; i<value.note.length; i++){\n                    if(isNaN(value.note[i])){\n                        value.note[i] = TonalNote.freq(value.note[i]);\n                    }\n                }\n            }\n\n            //get prev note if duration exceeds current note's\n            function checkPrevNoteDur(){\n                let deltaDur, objNote;\n                let result = self.getSortedNotesDesc.filter(n => Tone.Time(n.time) < Tone.Time(value.time)).some(note => {\n                        if(note.note){\n                            if(note.note[0]){\n                                //no need for offset\n                                let prevEndDur = Tone.Time(note.time) + Tone.Time(note.duration);\n                                let currEndDur = Tone.Time(value.time) + Tone.Time(value.duration);\n                                if(prevEndDur > currEndDur){ \n                                    deltaDur = Tone.Time(prevEndDur) - Tone.Time(currEndDur);\n                                    objNote = note;\n                                    return true;\n                                }\n                            }\n                        }\n                        return false;\n                    })\n\n                if(result)\n                    return {note: objNote, deltaDur: deltaDur}\n                else\n                    return false;\n            }\n\n            tObjs.instruments.filter(inst => inst.track === part.track).forEach(function (instrument) {\n                let type = instrument.id.split('_')[0];\n                if (!value.mute){\n                    if(type === 'player'){\n                        instrument.obj.stop(time + offset); //stop current play at next note\n                        instrument.obj.volume.setValueAtTime(value.velocity, time + offset)\n                        instrument.obj.start(time + offset);\n                        \n                        if(value.duration < 1){\n                            let computedDur = instrument.obj.buffer.duration / instrument.obj.playbackRate;\n                            computedDur *= value.duration;\n                            computedDur += offset;\n                            instrument.obj.stop(time + computedDur)\n                        }\n                    }\n                    // monosynth\n                    else if(['metalsynth', 'plucksynth', 'membranesynth'].includes(type)){\n                        if(value.note !== undefined){\n                            instrument.obj.triggerAttack(value.note[0], time + offset, value.velocity);\n                            instrument.obj.triggerRelease(time + Tone.Time(value.duration));\n                            \n                            // check if previous note overlaps and play it after current note ends\n                            let objContinue = checkPrevNoteDur();\n                            if(objContinue){\n                                instrument.obj.triggerAttack(objContinue.note.getNote[0], time + Tone.Time(value.duration), objContinue.note.velocity);\n                                instrument.obj.triggerRelease(time + Tone.Time(value.duration) + objContinue.deltaDur);\n                            }\n                        }\n                    }\n                    // polysynth\n                    else if([\"synth\", \"monosynth\", \"amsynth\", \"fmsynth\", \"duosynth\"].includes(type)){\n                        if(value.note !== undefined){\n                            instrument.obj.triggerAttackRelease(value.note, Tone.Time(value.duration), time + offset, value.velocity);\n                        }\n                    }\n                    // noisesynth\n                    else if(type === \"noisesynth\"){\n                        if(value.note !== undefined){\n                            instrument.obj.triggerAttackRelease(Tone.Time(value.duration), time + offset, value.velocity);\n                            \n                            let objContinue = checkPrevNoteDur();\n                            if(objContinue){\n                                instrument.obj.triggerAttackRelease(objContinue.deltaDur, time + Tone.Time(value.duration), objContinue.note.velocity);\n                            }\n                            \n                        }\n                    }\n                }\n            })\n\n            tObjs.sources.filter(src => src.track === part.track).forEach(source => {\n                let type = source.id.split('_')[0];\n                if (!value.mute){\n                    if(value.note !== undefined){\n                        // fix start time error when multiple consecutive notes over lap a sustained note\n                        source.obj.stop(time + offset);\n\n                        if(type !== 'noise')\n                            source.obj.frequency.setValueAtTime(value.note[0], time + offset);\n\n                        let timeStop = time + Tone.Time(value.duration);\n\n                        // if connected to amplitude envelope, stop note at end of longest envelope release\n                        let connectionsEnv = store.getConnectionsByObjId(source.id).filter(c => c.dest.split('_')[0] === 'amplitudeenvelope')               \n                        if(connectionsEnv.length > 0){\n                            let envs = [];\n                            connectionsEnv.forEach(c => envs.push(store.components.getComponentByTypeId('amplitudeenvelope', c.dest)));\n                            timeStop += envs.sort((a, b) => b.release - a.release)[0].release;\n                        }\n\n                        source.obj.start(time + offset);\n                        source.obj.stop(timeStop);\n\n                        // check if previous note overlaps and play it after current note ends\n                        let objContinue = checkPrevNoteDur();\n                        if(objContinue){\n                            source.obj.frequency.setValueAtTime(objContinue.note.getNote[0], time + Tone.Time(value.duration));\n                            source.obj.start(time + Tone.Time(value.duration));\n                            source.obj.stop(time + Tone.Time(value.duration) + objContinue.deltaDur);\n                        }\n                    }\n                }\n            })\n\n            tObjs.components.filter(src => src.track === part.track && src.id.split('_')[0] === 'amplitudeenvelope').forEach(function (component) {\n                if (!value.mute){\n                    if(value.note !== undefined){\n                        // TODO: how should this work for multiple notes/scenarious (overlapping, consecutive etc.)\n                        component.obj.triggerAttackRelease(Tone.Time(value.duration), time + offset, value.velocity);\n                    }\n                }\n            })\n\n            tObjs.custom.filter(o => o.track === part.track).forEach(function(row){\n                if(row.obj){\n                    if(!value.mute){\n                        if(!value.note !== undefined){\n                            let ch = store.instruments.getInstrumentByTypeId(\"tinysynth\", row.id).channel;\n\n                            value.note.forEach(n => {\n                                let noteNum = Tone.Frequency(n).toMidi();\n                                \n                                row.obj.send([0x90 + ch, noteNum, 100], time + offset)\n                                row.obj.send([0x80 + ch, noteNum, 0], time + Tone.Time(value.duration));\n                            })\n                            \n                            let objContinue = checkPrevNoteDur();\n                            if(objContinue){\n                                objContinue.note.getNote.forEach(n => {\n                                    let noteNum = Tone.Frequency(n).toMidi();\n\n                                    //stop prev note for curr note\n                                    row.obj.send([0x80 + ch, noteNum, 0], time + offset);\n\n                                    //continue prev note\n                                    row.obj.send([0x90 + ch, noteNum, 100], time + Tone.Time(value.duration))\n                                    row.obj.send([0x80 + ch, noteNum, 0], time + Tone.Time(value.duration) + objContinue.deltaDur);\n                                })\n                            }\n                            \n                        }\n                    }\n                }\n            });\n\n            //Grid button animations\n            if(store.ui.viewMode === 'button' && store.getTrack(part.track).type === 'audio'){\n                let divGridButton = document.getElementById('divGridButton_' + part.track);\n                if(divGridButton){\n                    let divProgress = divGridButton.querySelector('.divGridButtonProgress');\n\n                    if(divProgress){\n                        let player = tObjs.instruments.find(inst => inst.track === part.track).obj;\n        \n                        Tone.Draw.schedule(() => {\n                            if(divGridButton && divProgress && player){\n                                let duration = player.buffer.duration / player.playbackRate;\n\n                                if(player.state === 'started'){\n                                    divProgress.style.animation = 'none';\n                                    window.requestAnimationFrame(time => {\n                                        window.requestAnimationFrame(time => {\n                                        divProgress.style.animation = 'progressWidth ' + duration + 's linear';\n                                        });\n                                    });\n                                }\n                                else{\n                                    divProgress.style.animation = 'progressWidth ' + duration + 's linear';\n                                }   \n                            }\n                        }, time)\n                    }\n                }\n            }\n        }).start(self.scene.start).stop(self.scene.end);\n\n        part.obj.mute = self.mute;\n    }\n    function afterAttach() {\n        if(!ToneObjs.parts.find(row => row.id === self.id)){\n            ToneObjs.parts.push({\n                id: self.id,\n                track: self.track.id\n            });\n\n            self.initPart();\n        }\n    }\n    function beforeDestroy() {\n        ToneObjs.parts.find(p => p.id === self.id).obj.clear();\n        ToneObjs.parts.find(p => p.id === self.id).obj.dispose();\n        ToneObjs.parts.splice(ToneObjs.parts.findIndex(p => p.id === self.id), 1);\n\n    }\n    return { addNote, deleteNote, deleteNotesByBar, pasteNotesToBar, createRandomNotes, setResolution, setMute, pastePattern, deleteNotes, initPart, afterAttach, beforeDestroy }\n});\n\n\nconst AutomationValue = types.model(\"AutomationValue\", {\n    time: types.union(types.string, types.number), // BarsBeatsSixteenths string\n    value: types.union(types.string, types.number),\n    //type: types.string, //add different types?  'linearRampToValueAtTime','setValueAtTime' etc.\n}).views(self => ({\n})).actions(self => ({\n}));\n\n\nconst Automation = types.model(\"Automation\", {\n    pattern: types.reference(Pattern),\n    signal: types.maybe(types.string),\n    params: types.array(AutomationValue)\n}).views(self => ({\n    get getParams(){\n        return self.params.map(p => ({time: p.time, value: p.value}));\n    }\n})).actions(self => ({\n    addParam(val, time){\n        self.params.push({value: val, time: time })\n    }\n}));\n\n\n/*******************************************\n \n  UI STUFF\n\n********************************************/\n\n/****** Browser ******/\n\nconst ListBrowser = types.model(\"ListBrowser\", {\n    selectedDir: types.optional(types.string, '/'),\n    selectedFile: types.maybe(types.string)\n}).actions(self => ({\n    selectDir(dir){\n        self.selectedFile = undefined;\n        self.selectedDir = dir;\n    },\n    selectFile(file){\n        self.selectedFile = (self.selectedDir + '/').replace('//','/') + file;\n    }\n}))\n\n\n/****** Main Views *****/\n\nconst UISequencerView = types.model(\"UISequencerView\", {\n\n}).views(self => ({\n\n})).actions(self => ({\n\n}))\n\nconst UIButtonView = types.model(\"UIButtonView\", {\n\n}).views(self => ({\n\n})).actions(self => ({\n\n}))\n\nconst UIEditView = types.model(\"UIEditView\", {\n    mode: types.optional(types.union(types.literal(\"graph\"), types.literal(\"bar\")), \"bar\"),\n    selectedBars: types.array(types.number),\n    copiedBars: types.array(types.number),\n    copiedPattern: types.maybe(types.reference(Pattern)),\n    multiNoteSelect: types.optional(types.boolean, false),\n    selectedNotes: types.array(types.string),\n    copiedNotes: types.array(Note)\n}).views(self => ({\n    isBarSelected(bar){\n        return self.selectedBars.find(b => b === bar);\n    },\n    isBarCopied(bar){\n        return self.copiedBars.find(b => b === bar);\n    },\n    get getNumSelectedBars(){\n        return self.selectedBars.length;\n    },\n    get getNumCopiedBars(){\n        return self.copiedBars.length;\n    },\n    get getNumSelectedNotes(){\n        return self.selectedNotes.length;\n    }\n})).actions(self => ({\n    toggleMode() {\n        if(self.mode === 'graph'){\n            store.ui.setViewLength('1:0:0');\n            self.mode = 'bar';\n        }\n        else{\n            self.mode = 'graph';\n        }\n    },\n\n    /***** multinote select funcs *****/\n    toggleMultiNoteSelect(){\n        self.multiNoteSelect = !self.multiNoteSelect;\n        \n        if(!self.multiNoteSelect){\n            if(store.ui.selectedTrack.type === 'instrument')\n                self.delSelectedNotes();\n            else\n                self.selectedNotes = [];\n        }\n        else{\n            if(store.ui.selectedNote){\n                self.selectedNotes = [store.ui.selectedNote.id]\n                store.ui.selectNote(undefined);\n            }\n        }\n    },\n    toggleNote(noteId){\n        if(self.selectedNotes.find(n => n === noteId))\n            self.selectedNotes = self.selectedNotes.filter(n => n !== noteId);\n        else\n            self.selectedNotes.push(noteId);\n    },\n    delSelectedNotes(){\n        store.ui.selectNote(undefined);\n        \n        if(store.ui.selectedTrack.type === 'instrument'){\n            store.getNotesByTrack(store.ui.selectedTrack.id)\n                .filter(n => n.note[0] === '').forEach(note => note.getPattern.deleteNote(note));\n        }\n        else if(store.ui.selectedTrack.type === 'audio'){\n            self.selectedNotes.forEach(id => {\n                const note = store.getNotesByTrack(store.ui.selectedTrack.id).find(n => n.id === id)\n                note.getPattern.deleteNote(note, true);\n            })\n        }\n        \n        self.selectedNotes = [];\n    },\n    copySelectedNotes(){\n        self.clearCopiedNotes();\n        self.selectedNotes.forEach(id => {\n            const srcNote = store.getNotesByTrack(store.ui.selectedTrack.id).find(n => n.id === id);\n            const copiedNote = Note.create({id: 'note_copy_' + srcNote.id.split('_')[1], time: srcNote.time})\n            copiedNote.pasteNoteProps(srcNote);\n            self.copiedNotes.push(copiedNote)\n        })\n        self.selectedNotes = [];\n    },\n    pasteCopiedNote(){\n        self.selectedNotes.forEach((id, idx) => {\n            const dstNote = store.getNotesByTrack(store.ui.selectedTrack.id).find(n => n.id === id);\n            if(self.copiedNotes[idx])\n                dstNote.pasteNoteProps(self.copiedNotes[idx]);\n        });\n        self.selectedNotes = [];\n    },\n    clearCopiedNotes(){\n        self.copiedNotes.forEach(n => destroy(n));\n        self.copiedNotes = [];\n    },\n    resetSelectedNotes(){\n        self.selectedNotes = [];\n    },\n    selectAllNotes(){\n        self.selectedNotes = [];\n        store.getNotesByTrack(store.ui.selectedTrack.id).forEach(note => {\n            self.selectedNotes.push(note.id);\n        })\n    },\n    clearSelectedNotes(){\n        self.selectedNotes.forEach(id => {\n            store.getNotesByTrack(store.ui.selectedTrack.id).find(n => n.id === id).setNote(['']);\n        })\n        self.delSelectedNotes();\n    },\n    randomizeSelectedNotes(){\n        self.selectedNotes.forEach(id => {\n            store.getNotesByTrack(store.ui.selectedTrack.id).find(n => n.id === id).setRandomNote();\n        })\n    },\n\n    /******* bar edit funcs ********/\n    toggleBarSelect(bar){\n        if(self.isBarSelected(bar))\n            self.selectedBars = self.selectedBars.filter(b => b !== bar);\n        else\n            self.selectedBars.push(bar);\n    },\n    selectAllBars(){\n        let totalBars = parseInt(Tone.Time(store.ui.selectedPattern.getLength).toBarsBeatsSixteenths().split(':')[0], 10);\n        self.selectedBars = [...Array(totalBars).keys()].map(x => x+1);\n    },\n    copySelectedBars(){\n        self.copiedPattern = store.ui.selectedPattern;\n        self.copiedBars = [...self.selectedBars];\n        self.selectedBars = [];\n    },\n    setCopiedPatternId(id){\n        self.copiedPattern = id;\n    },\n    pasteCopiedBars(){\n        let firstSelectedBarNum = self.selectedBars.sort((a, b) =>  a - b)[0];\n        let firstCopiedBarNum = self.copiedBars.sort((a, b) =>  a - b)[0];\n        let diff = firstSelectedBarNum - firstCopiedBarNum;\n\n        self.copiedBars.forEach(bar => {\n            let destBar = bar + diff;\n            let notes = self.copiedPattern.getNotesByBar(bar);\n            \n            store.ui.selectedPattern.deleteNotesByBar(destBar);\n            store.ui.selectedPattern.pasteNotesToBar(notes, destBar)\n        })\n    },\n    deleteSelectedBarNotes(){\n        self.selectedBars.forEach(bar => store.ui.selectedPattern.deleteNotesByBar(bar));\n    },\n    clearSelectedBars(){\n        self.selectedBars = [];\n    },\n    clearCopiedBars(){\n        self.copiedBars = [];\n    },\n    randomizeSelectedBarNotes(){\n        self.selectedBars.forEach(bar => {\n            store.ui.selectedPattern.deleteNotesByBar(bar);\n            store.ui.selectedPattern.createRandomNotes(bar);\n        })\n    }\n}))\n\nconst UIManagerView = types.model(\"UIEditView\", {\n    mode: types.optional(types.union(types.literal('scene'), types.literal('track')), 'scene'),\n    copiedTrack: types.maybe(types.safeReference(Track)),\n    copySceneMode: types.optional(types.boolean, false)\n}).views(self => ({\n    \n})).actions(self => ({\n    setMode(mode){\n        self.mode = mode;\n    },\n    copyTrack(trackId){\n        self.copiedTrack = store.getTrack(trackId);\n    },\n    toggleCopySceneMode(){\n        self.copySceneMode = !self.copySceneMode;\n    }\n}))\n\n\nconst UIMainViews = types.model(\"UIMainViews\", {\n    sequencer: UISequencerView,\n    button: UIButtonView,\n    edit: UIEditView,\n    manager: UIManagerView\n}).views(self => ({\n\n})).actions(self => ({\n\n}))\n\n\n/****** UI Toolbar *****/\n\nconst UIToolbarMain = types.model(\"UIToolbarMain\", {\n}).views(self => ({\n\n})).actions(self => ({\n\n}))\n\nconst UIToolbarBrowser = types.model(\"UIToolbarBrowser\", {\n    browser1: ListBrowser,\n    browser2: ListBrowser,\n    browser3: ListBrowser,\n    action: types.maybe(types.string)\n}).views(self => ({\n\n})).actions(self => ({\n    setAction(action){\n        self.action = action + '_' + randomId();\n    }\n}))\n\nconst UIToolbarEditor = types.model(\"UIToolbarEdit\", {\n    selectedObj: types.maybe(types.string)\n}).views(self => ({\n})).actions(self => ({\n    selectObj(id){\n        self.selectedObj = id;\n    }\n}))\n\nconst UIToolbarKeys = types.model(\"UIToolbarKeys\", {\n}).views(self => ({\n\n})).actions(self => ({\n\n}))\n\nconst UIToolbar = types.model(\"UIToolbar\", {\n    main: UIToolbarMain,\n    browser: UIToolbarBrowser,\n    editor1: UIToolbarEditor,\n    editor2: UIToolbarEditor,\n    keys: UIToolbarKeys\n}).views(self => ({\n\n})).actions(self => ({\n\n}))\n\n\nconst UI = types.model(\"UI\", {\n    viewMode: types.optional(types.union(types.literal(\"sequencer\"), types.literal(\"button\"), types.literal(\"edit\"), types.literal(\"manager\")), \"sequencer\"),\n    views: UIMainViews,\n    toolbar: UIToolbar,\n    mixMode: types.optional(types.boolean, false),\n    editMode: types.optional(types.boolean, true),\n    recordMode: types.optional(types.boolean, false),\n    settings: types.optional(types.boolean, false),\n    viewLength: types.optional(types.string, \"1:0:0\"),\n    windowHeight: types.optional(types.number, 0),\n    windowWidth: types.optional(types.number, 0),\n    selectedToolbar: types.maybe(types.union(types.literal(\"home\"), types.literal(\"browse\"), types.literal(\"editor1\"), types.literal(\"editor2\"), types.literal(\"synth\"))),\n    selectedScene: types.maybe(types.reference(Scene)),\n    selectedTrack: types.maybe(types.reference(Track)),\n    selectedPattern: types.maybe(types.reference(Pattern)),\n    selectedObj: types.maybe(types.string),\n    selectedGroup: types.optional(types.string, \"A\"),\n    selectedNote: types.maybe(types.reference(Note)),\n    selectedKey: types.optional(types.string, ''),\n    selectedChord: types.maybe(types.string),\n    device: types.maybe(types.union(types.literal(\"mobile\"), types.literal(\"desktop\"))),\n    showSideBar: types.optional(types.boolean, false),\n}).views(self => ({\n    getSelectedPatternProp(prop, track){\n        if(prop === \"resolution\"){\n            if(track){\n                if(track.type !== 'master')\n                    return track.resolution;\n            }\n            else if(self.selectedPattern)\n                return self.selectedPattern.resolution;\n            \n            return undefined;\n        }\n        else if(prop === \"notes\"){\n            if(track){\n                if(track.type !== 'master')\n                    return store.getPatternByTrackScene(track.id, self.selectedScene.id).getSortedNotesAsc.length;\n            }\n            else if(self.selectedPattern)\n                return self.selectedPattern.getSortedNotesAsc;\n            \n            return undefined;\n        }\n    },\n    get getSelectedNoteVelocity(){\n        return self.selectedNote ? self.selectedNote.velocity : undefined;\n    },\n    get getSelectedNoteValue(){\n        if(self.selectedNote)\n            return self.selectedNote.note ? self.selectedNote.note.map(n => n) : undefined;\n        else\n            return undefined;\n    },\n    get getSelectedNoteDuration(){\n        if(self.selectedNote)\n            return self.selectedNote.duration ? self.selectedNote.duration : undefined;\n        else\n            return undefined;\n    },\n    get getSelectedNoteOffset(){\n        return self.selectedNote ? self.selectedNote.offset : undefined;\n    },\n    get getGridSizes(){\n        if(self.selectedScene){\n            let windowWidth = self.windowWidth;\n            let viewLength = Tone.Time(self.viewLength);\n            let sceneLength = store.getSceneLength(self.selectedScene.id);\n\n            //only show 1 bar for editview track bars\n            if(store.ui.viewMode === 'edit' && store.ui.views.edit.mode === 'bar')\n                sceneLength = Tone.Time(Tone.Time('1:0:0'));\n\n            if(sceneLength > viewLength) {\n                let scenePx = (sceneLength / viewLength) * windowWidth;\n\n                let parentWidth = ((scenePx * 2) - windowWidth) + 'px';\n                let parentLeft = ((scenePx * -1) + windowWidth) + 'px';\n\n                let containerWidth = scenePx + 'px';\n                let containerLeft = (scenePx - windowWidth) + 'px';\n                \n                return {parent: {width: parentWidth, left: parentLeft}, container:{width: containerWidth, left: containerLeft}}\n            }\n        }\n        \n        return {parent: {width: self.windowWidth + 'px', left: 0}, container:{width: self.windowWidth + 'px', left: 0}}\n    },\n    calibrateSizes(setupScroll, resetGridY) {\n        if(self.selectedScene){\n            if (self.viewMode === \"sequencer\" || self.viewMode === \"button\" || self.viewMode === \"edit\") {\n                let windowWidth = self.windowWidth;\n                let viewLength = self.viewLength;\n                let sceneLength = store.getSceneLength(self.selectedScene.id);\n                let gridParent = document.getElementById('gridParent');\n                let gridContainer = document.getElementById('gridContainer');\n\n                //only show 1 bar for edit view track\n                if(store.ui.viewMode === 'edit' && store.ui.views.edit.mode === 'bar')\n                    sceneLength = Tone.Time(Tone.Time('1:0:0'));\n\n                if (Tone.Time(sceneLength).toSeconds() >= Tone.Time(viewLength).toSeconds()) {\n                    let viewSecs = Tone.Time(viewLength).toSeconds();\n                    let sceneSecs = Tone.Time(sceneLength).toSeconds();\n                    let scenePx = windowWidth * (sceneSecs / viewSecs);\n\n                    gridParent.style.width = ((scenePx * 2) - windowWidth) + 'px';\n                    gridParent.style.left = ((scenePx * -1) + windowWidth) + 'px';\n\n                    gridContainer.style.width = scenePx + 'px';\n                    gridContainer.style.left = (scenePx - windowWidth) + 'px';\n                }\n\n                if(setupScroll && (self.viewMode === \"sequencer\" || (self.viewMode === \"edit\" && self.views.edit.mode === 'bar'))){\n                    let gridContainerHeight = gridContainer.offsetHeight;\n\n                    //162 = header + footer + toolbar + gridtimeline + toolrow icons\n                    let top = 40, padding = 162;\n                    if(self.viewMode === \"edit\" && self.views.edit.mode === 'bar'){\n                        top = 80; //+ mixrow + gridtimeline\n                        padding = 202; //+ mixrow\n                        //allow one row to be visible when scrolled to top;\n                        if(gridContainerHeight > (self.windowHeight - padding))\n                            padding = self.windowHeight - 60;\n                    }\n                    \n                    let diff = gridContainerHeight - (self.windowHeight - padding); \n\n                    if(self.viewMode === \"edit\" && self.views.edit.mode === 'bar'){\n                        diff = gridContainerHeight - (self.windowHeight - padding); \n                    }\n                    if(diff > 0){\n                        let prevTop = parseInt(gridParent.style.top.replace('px',''), 10);\n                        let newTop = top - diff;\n\n                        gridParent.style.top =  newTop + 'px';\n                        gridParent.style.height = (gridContainerHeight + diff) + 'px';\n\n                        let topDiff = 0;\n                        if(newTop !== prevTop)\n                            topDiff = prevTop - newTop;\n                \n                        let gridX = parseInt(gridContainer.getAttribute('data-x'), 10);\n                        let gridY = parseInt(gridContainer.getAttribute('data-y'), 10);\n\n                        //reset grid Y showing first bar\n                        if(resetGridY)\n                            gridY = (newTop * -1) + 80;\n                        //adjust when bars added / deleted\n                        else if(newTop < prevTop)\n                            gridY = gridY + topDiff;\n                        else\n                            gridY = gridY - topDiff\n\n                        gridContainer.setAttribute('data-y', gridY);\n                        gridContainer.style.transform = 'translate(' + gridX + 'px,' + gridY + 'px)';\n                    } else {\n                        gridParent.style.top = top + 'px';\n                        gridParent.style.height = gridContainerHeight + 'px';\n                        gridContainer.setAttribute('data-y', 0);\n                    }\n                }\n\n                //align grid in case gap created on size change\n                let left = parseFloat(gridContainer.style.left.replace('px', ''));\n                let gridX = parseFloat(gridContainer.getAttribute('data-x'));\n                let gridY = parseFloat(gridContainer.getAttribute('data-y'));\n                //right gap\n                if (left < (gridX * -1)) {\n                    let newX = left * -1;\n                    gridContainer.setAttribute('data-x', newX);\n                    gridContainer.style.webkitTransform = gridContainer.style.transform = 'translate(' + newX + 'px, ' + gridY + 'px)';\n                }\n                //left gap\n                if(gridX > 0){\n                    gridContainer.setAttribute('data-x', 0);\n                    gridContainer.style.webkitTransform = gridContainer.style.transform = 'translate(' + 0 + 'px, ' + gridY + 'px)';\n                }\n\n                interact('#gridContainer').fire({ type: 'dragmove', target: gridContainer });\n            }\n        }\n    },\n    get getWindowSizes() {\n        return { width: self.windowWidth, height: self.windowHeight }\n    }\n})).actions(self => {\n    function selectToolbar(selection){\n        self.selectedToolbar = selection;\n    }\n    function setWindowWidthHeight(width, height) {\n        self.windowHeight = height;\n\n        if(width >= 960){\n            if(!self.showSideBar)\n                self.showSideBar = true;\n            \n            self.windowWidth = width * 0.8;\n        }\n        else{\n            if(self.showSideBar)\n                self.showSideBar = false;\n            \n            self.windowWidth = width;\n        }\n    }\n    function toggleMixMode() {\n        self.mixMode = !self.mixMode;\n    }\n    function toggleEditMode() {\n        self.editMode = !self.editMode;\n\n        if(self.viewMode === 'edit' && self.views.edit.mode === 'bar'){\n            if(!self.editMode){\n                self.views.edit.clearSelectedBars();\n\n                if(self.views.edit.multiNoteSelect){\n                    if(store.ui.selectedTrack.type === 'instrument')\n                        self.views.edit.delSelectedNotes();\n                    else\n                        self.views.edit.resetSelectedNotes();\n                }\n            }\n        }\n    }\n    function toggleRecordMode() {\n        self.recordMode = !self.recordMode;\n\n        if(ToneObjs.metronome){\n            ToneObjs.metronome.mute = !self.recordMode;\n        }\n    }\n    function toggleSettings(bChangeView) {\n        if(bChangeView)\n            self.toggleViewMode('manager');\n        \n        self.settings = !self.settings;\n    }\n    function setViewLength(val) {\n        if(self.selectedScene){\n            if(self.viewMode === 'edit' && self.views.edit.mode === 'bar'){\n                if(Tone.Time(val) >= Tone.Time('0:1:0') && Tone.Time(val) <= Tone.Time('1:0:0')){\n                    self.viewLength = val;\n                    self.calibrateSizes();\n                }\n            }\n            else if(Tone.Time(val) <= store.getSceneLength(self.selectedScene.id) && Tone.Time(val) >= Tone.Time(\"0:1:0\")){\n                self.viewLength = val;\n                self.calibrateSizes();\n            }\n        }\n    }\n    function setViewScene(scene) {\n        if(scene.id !== self.selectedScene.id){\n            self.setViewLength(Tone.Time(store.getSceneLength(scene.id)).toBarsBeatsSixteenths());\n        }\n    }\n    function selectScene(id) {\n        self.selectedScene = store.getScene(id);\n        if (self.selectedScene)\n            self.setViewScene(self.selectedScene)\n    }\n    function selectTrack(id) {\n        if(!id){\n            if(store.ui.viewMode === \"edit\")\n                store.ui.toggleViewMode('sequencer');\n\n            self.selectedTrack = undefined;\n        }\n        else{\n            let selTrack = store.getTrack(id);\n            \n            //testing track render\n            if(store.settings.partRender && self.selectedTrack && self.selectedScene){\n                if(self.selectedTrack.id !== id && self.selectedTrack.type !== 'master'){\n                    //render previous \n                    renderSong(self.selectedTrack, store.getPatternByTrackScene(self.selectedTrack.id, self.selectedScene.id)).then(() => {\n                        //console.log('rendersong pattern complete')\n                        //toggle new selected track\n                        if(selTrack){\n                            if(selTrack.type !== 'master'){\n                                let row = ToneObjs.parts.find(row => row.id === store.getPatternByTrackScene(selTrack.id, self.selectedScene.id).id);\n                                row.player.stop();\n                                row.playerPart.mute = true;\n                                row.obj.mute = false;\n                            }\n                        }\n                    });  \n                }\n            }\n\n            self.selectedPattern = store.getPatternByTrackScene(selTrack.id, store.ui.selectedScene.id);\n            self.selectedTrack = selTrack;\n        }\n    }\n    function selectPattern(id) {\n        if(id){\n            let pattern = store.getPattern(id);\n            self.selectScene(pattern.scene.id)\n            self.selectedPattern = pattern;\n        }\n        else{\n            self.selectedPattern = undefined;\n        }\n    }\n    function selectObj(id) {\n        self.selectedObj = id;\n\n        if(self.selectedToolbar === 'editor1')\n            self.toolbar.editor1.selectObj(id);\n        else if(self.selectedToolbar === 'editor2')\n            self.toolbar.editor2.selectObj(id);\n    }\n    function selectGroup(group) {\n        if(group === 'M' && !self.mixMode)\n            self.mixMode = true;\n        \n        self.selectedGroup = group;\n    }\n    function selectNote(note){\n        let prevNote = self.selectedNote;\n\n        self.selectedNote = note;\n        if(note)\n            self.selectedTrack = note.getPattern.track;\n\n        if(prevNote && !self.views.edit.multiNoteSelect){\n            if(self.selectedNote !== prevNote){\n                if(prevNote.getPattern.track.type === 'instrument'){\n                    let noteVals = prevNote.getNote;\n                    if(noteVals){\n                        if(noteVals[0] === ''){\n                            let pattern = prevNote.getPattern;\n                            pattern.deleteNote(prevNote);\n                        }\n                    }\n                }\n            }\n        }\n    }\n    function selectKey(key){\n        self.selectedKey = key;\n    }\n    function selectChord(chord){\n        self.selectedChord = chord;\n    }\n    function toggleViewMode(mode) {\n        if (!mode) {\n            let nextMode = document.getElementById('iViewMode').innerHTML === 'reorder' ? 'sequencer' : 'button';\n            \n            if (nextMode === 'button'){\n                if(self.selectedNote && self.selectedTrack){\n                    if(self.selectedNote.getPattern.track !== self.selectedTrack){\n                        self.selectNote(undefined);\n                    }\n                }\n                \n                if(self.editMode)\n                    self.editMode = false;\n\n                if(self.selectedGroup === 'M')\n                    self.selectedGroup = 'A';\n\n                if(self.selectedTrack && self.selectedScene)\n                    self.selectedPattern = store.getPatternByTrackScene(self.selectedTrack.id, self.selectedScene.id);\n                \n                self.viewMode = \"button\";\n            }\n            else{\n                if(self.mixMode && self.selectedGroup !== 'M')\n                    self.mixMode = false;\n                \n                self.viewMode = \"sequencer\";\n            }\n        }\n        else if (mode === \"edit\") {\n            if(self.selectedNote && self.selectedTrack){\n                if(self.selectedNote.getPattern.track !== self.selectedTrack){\n                    self.selectNote(undefined);\n                }\n            }\n            if(self.selectedTrack.type !== 'master'){\n                self.selectPattern(store.getPatternByTrackScene(self.selectedTrack.id, self.selectedScene.id).id)\n                \n                if(Tone.Time(self.viewLength) > Tone.Time('1:0:0'))\n                    self.setViewLength('1:0:0');\n            }\n            else{\n                if(self.views.edit.mode !== 'graph')\n                    self.views.edit.toggleMode('graph')\n            }\n            \n            self.viewMode = \"edit\";\n        }\n        else if (mode === \"sequencer\") {\n            self.viewMode = \"sequencer\";\n        }\n        else if (mode === \"button\") {\n            self.viewMode = \"button\";\n        }\n        else if (mode === \"manager\") {\n            self.viewMode = \"manager\";\n        }\n\n        if(self.viewMode === 'button' || self.viewMode === 'sequencer' || (self.viewMode === 'edit' && self.views.edit.mode === 'graph')){\n            if(Tone.Time(self.viewLength) > Tone.Time(self.selectedScene.getLength))\n                self.viewLength = Tone.Time(self.selectedScene.getLength).toBarsBeatsSixteenths();\n        }\n    }\n    function setDevice() {\n        //take a look at matchMedia if needed\n        let device = 'desktop';\n        if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) )\n          device = 'mobile';\n    \n        self.device = device;\n    }\n    return { selectToolbar, setWindowWidthHeight, toggleMixMode, setViewLength, setViewScene, toggleSettings, selectScene, selectTrack, selectPattern, selectObj, selectGroup, selectNote, selectKey, selectChord, toggleViewMode, toggleEditMode, toggleRecordMode, setDevice }\n});\n\nconst Settings = types.model(\"Settings\", {\n    title: types.maybe(types.string),\n    modified: types.maybe(types.Date),\n    bpm: types.optional(types.number, 90),\n    swing: types.optional(types.number, 0),\n    swingSubdivision: types.optional(types.string, \"8n\"),\n    loopStart: types.optional(types.string, \"0:0:0\"),\n    loopEnd: types.optional(types.string, \"1:0:0\"),\n    scale: types.optional(types.string, \"major\"),\n    key: types.optional(types.string, \"C\"),\n    partRender: types.optional(types.boolean, false)\n}).actions(self => ({\n    setScale(scale){\n        self.scale = scale;\n    },\n    setKey(key){\n        self.key = key;\n    },\n    setSongTitle(id){\n        self.title = id;\n    },\n    setModified(time){\n        self.modified = time;\n    },\n    setBPM(val) {\n        self.bpm = val;\n        Tone.Transport.bpm.value = parseFloat(val);\n    },\n    setSwing(val) {\n        self.swing = val;\n        Tone.Transport.swing = parseFloat(val);\n    },\n    setSwingSubdivision(val) {\n        self.swingSubdivision = val;\n        Tone.Transport.swingSubdivision = val;\n    },\n    setLoopStart(val) {\n        self.loopStart = val;\n        Tone.Transport.loopStart = Tone.Time(val);\n    },\n    setLoopEnd(val) {\n        self.loopEnd = val;\n        Tone.Transport.loopEnd = Tone.Time(val);\n    }\n}))\n\nexport const RootStore = types.model(\"RootStore\", {\n    id: types.maybe(types.string),\n\n    settings: Settings,\n\n    tracks: types.maybe(types.array(Track)),\n    patterns: types.maybe(types.array(Pattern)),\n    scenes: types.maybe(types.array(Scene)),\n    samples: types.maybe(types.array(Sample)),\n\n    ui: UI,\n\n    sources: types.maybe(Sources),\n    instruments: types.maybe(Instruments),\n    effects: types.maybe(Effects),\n    components: types.maybe(Components),\n    connections: types.maybe(types.array(Connection)),\n})\n    .views(self => {\n        return {\n            getObjsByTrackObj(track) {\n                let list = [];\n                if (track) {\n                    list = list.concat(self.instruments.getAllByTrack(track.id));\n                    list = list.concat(self.effects.getAllByTrack(track.id));\n                    list = list.concat(self.components.getAllByTrack(track.id));\n                    list = list.concat(self.sources.getAllByTrack(track.id));\n                }\n                return list;\n            },\n            getObjTypeByIdTrack(id, track) {\n                if (self.instruments.getAllByTrack(track).find(o => o.id === id))\n                    return \"instrument\";\n                else if (self.effects.getAllByTrack(track).find(o => o.id === id))\n                    return \"effect\";\n                else if (self.components.getAllByTrack(track).find(o => o.id === id))\n                    return \"component\";\n                else if(self.sources.getAllByTrack(track).find(o => o.id === id))\n                    return \"source\";\n                else\n                    return null;\n            },\n            getTrack(trackId) {\n                return self.tracks.find(t => t.id === trackId);\n            },\n            getTrackBySampleRegion(sampleId, regionId) {\n                //return self.tracks.filter(t => t.type !== \"master\" && t.type === \"audio\").find(t => (t.sample.id === sampleId && t.region.id === regionId))\n                return self.tracks.filter(t => t.type !== \"master\" && t.type === \"audio\" && t.sample.id === sampleId && t.region).find(t => t.region.id === regionId);\n            },\n            getTracksByGroup(group){\n                if(group === 'M')\n                    return self.tracks.filter(t => t.type === 'master');\n                else\n                    return self.tracks.filter(t => t.group === group && t.type !== 'master').sort((a, b) => { return a.groupIndex - b.groupIndex });;\n            },\n            getScene(sceneId) {\n                return self.scenes.find(s => s.id === sceneId);\n            },\n            getSceneByTime(time) {\n                let t = Tone.Time(time);\n                return self.scenes.find(s => (t >= Tone.Time(s.start) && t < Tone.Time(s.end)))\n            },\n            get getScenesAsc() {\n                return self.scenes.slice().sort(function (a, b) {\n                    return Tone.Time(a.start) - Tone.Time(b.start);\n                });\n            },\n            get getScenesDesc() {\n                return self.scenes.slice().sort(function (a, b) {\n                    return Tone.Time(b.start) - Tone.Time(a.start);\n                });\n            },\n            getPrevScene(sceneId) {\n                let s = self.getScene(sceneId);\n                let sceneList = self.getScenesDesc;\n\n                if (sceneList.length > 1) {\n                    for (let i = 0; i < sceneList.length; i++) {\n                        if (sceneList[i] === s && i !== sceneList.length) {\n                            return sceneList[i + 1];\n                        }\n                    }\n                }\n            },\n            getNextScene(sceneId) {\n                let s = self.getScene(sceneId);\n                let sceneList = self.getScenesAsc;\n\n                if (sceneList.length > 1) {\n                    for (let i = 0; i < sceneList.length; i++) {\n                        if (sceneList[i] === s && i !== sceneList.length) {\n                            return sceneList[i + 1];\n                        }\n                    }\n                }\n            },\n            getPattern(patternId) {\n                return self.patterns.find(p => p.id === patternId)\n            },\n            get getAllPatterns(){\n                return self.patterns;\n            },\n            get getAllSamples(){\n                return self.samples;\n            },\n            get getNumTracks(){\n                let total = 0;\n                ['A','B','C','D'].forEach(g => {\n                    total += store.getTracksByGroup(g).filter(t => t.type !== 'master').length;\n                });\n                return total;\n            },\n            get numSamples(){\n                return self.getAllSamples.length;\n            },\n            get getAllRegions(){\n                let list = [];\n                self.getAllSamples.forEach(s => { list.push(...s.regions) });\n                return list;\n            },\n            get numRegions(){\n                return self.getAllRegions.length;\n            },\n            getSample(sampleId) {\n                return self.samples.find(s => s.id === sampleId);\n            },\n            getSampleByUrlLength(url, length) {\n                return self.samples.find(s => (s.url === url && s.length === length));\n            },\n            getConnection(connId) {\n                return self.connections.find(c => c.id === connId);\n            },\n            getConnectionsByObjId(id) {\n                return self.connections.filter(c => (c.src === id || c.dest === id));\n            },\n            getConnectionsByTrack(trackId) {\n                return self.connections.filter(c => c.track.id === trackId)\n            },\n            getPatternsByTrack(trackId) {\n                return self.patterns.filter(p => p.track.id === trackId)\n            },\n            getPatternsByScene(sceneId) {\n                return self.patterns.filter(p => p.scene.id === sceneId)\n            },\n            getPatternByTrackScene(trackId, sceneId) {\n                return self.patterns.find(p => (p.track.id === trackId && p.scene.id === sceneId));\n            },\n            getPatternsBySceneGroup(sceneId, group) {\n                return self.patterns.filter(p => (p.track.group === group && p.scene.id === sceneId));\n            },\n            getNotesByTrack(trackId) {\n                let notes = [];\n                self.getPatternsByTrack(trackId).forEach(function (pattern) {\n                    notes = notes.concat(pattern.getSortedNotesAsc)\n                })\n                return notes;\n            },\n            getSceneLength(sceneId) {\n                let scene = self.getScene(sceneId);\n                return Tone.Time(scene.end) - Tone.Time(scene.start)\n            },\n            getSongLength() {\n                let length = 0;\n                self.scenes.forEach(function (scene) {\n                    length = Tone.Time(length) + Tone.Time(self.getSceneLength(scene.id));\n                });\n                return length;\n            },\n            get getLoopLength() {\n                return Tone.Time(self.settings.loopEnd) - Tone.Time(self.settings.loopStart);\n            },\n            get refreshConnections() {\n                self.connections.forEach(c => {\n                    //console.log(c.id + ' track: ' + c.track.id + ' group: ' + c.track.group)\n                })\n                return undefined;\n                //return self.connections;\n            }\n        };\n    })\n    .actions(self => {\n        //setUndoManager(self);\n\n        function addScene(sceneId, start, end) {\n            self.scenes.push(Scene.create({ id: sceneId, start: start, end: end, on: true }))\n            self.tracks.forEach(function (track) {\n                if(track.type !== \"master\"){\n                    self.addPattern('pattern_' + randomId(), '16n', track.id, sceneId, [])\n                }\n            });\n            //TODO: scene gets added to end of song currently, need to shift scene times if middle of track\n        }\n        function delScene(sceneId) {\n            //always 1 scene\n            if(self.scenes.length > 1){\n                let scene = self.getScene(sceneId);\n                self.getPatternsByScene(sceneId).forEach(pattern => self.delPattern(pattern.id));\n\n                let nextScene = self.getNextScene(scene.id);\n                let prevScene = self.getPrevScene(scene.id);\n\n                //last scene\n                if (!nextScene){\n                    if(Tone.Time(self.settings.loopStart) >= Tone.Time(scene.start)){\n                        self.settings.setLoopStart(prevScene.start);\n                    }\n                    if(Tone.Time(self.settings.loopEnd) > Tone.Time(scene.start)){\n                        self.settings.setLoopEnd(prevScene.end);\n                    }\n\n                    self.ui.selectScene(prevScene.id);\n                }\n                else{\n                    //shift scene times back\n                    self.shiftSceneTimes(scene.end, self.getSceneLength(scene.id), \"sub\");\n\n                    self.ui.selectScene(nextScene.id);\n                }\n\n                destroy(scene);\n            }\n        }\n        function shiftSceneTimes(time, length, op) {\n            let sceneList = self.getScenesAsc.filter(s => Tone.Time(s.end) >= Tone.Time(time));\n            sceneList.forEach(function (scene) {\n                if (op === \"sub\") {\n                    if (scene !== sceneList[0])\n                        scene.setStart(Tone.Time(Tone.Time(scene.start) - Tone.Time(length)).toBarsBeatsSixteenths());\n\n                    scene.setEnd(Tone.Time(Tone.Time(scene.end) - Tone.Time(length)).toBarsBeatsSixteenths());\n                }\n                if (op === \"add\") {\n                    if (scene !== sceneList[0])\n                        scene.setStart(Tone.Time(Tone.Time(scene.start) + Tone.Time(length)).toBarsBeatsSixteenths());\n\n                    scene.setEnd(Tone.Time(Tone.Time(scene.end) + Tone.Time(length)).toBarsBeatsSixteenths());\n                }\n\n                store.getPatternsByScene(scene.id).forEach(function (pattern) {\n                    let part = ToneObjs.parts.find(p => p.id === pattern.id).obj;\n                    part.dispose();\n\n                    pattern.initPart();\n\n                    pattern.getSortedNotesAsc.forEach(function (note) {\n                        note.setPartNote();\n                    })\n                })\n            })\n\n            //update loopstart/end\n            if(Tone.Time(self.settings.loopEnd) >= Tone.Time(time)){\n                if(op === 'add')\n                    store.settings.setLoopEnd(Tone.Time(Tone.Time(self.settings.loopEnd) + Tone.Time(length)).toBarsBeatsSixteenths());\n                else if(op === 'sub')\n                    store.settings.setLoopEnd(Tone.Time(Tone.Time(self.settings.loopEnd) - Tone.Time(length)).toBarsBeatsSixteenths());\n            }\n            if(Tone.Time(self.settings.loopStart) >= Tone.Time(time)){\n                if(op === 'add')\n                    store.settings.setLoopStart(Tone.Time(Tone.Time(self.settings.loopStart) + Tone.Time(length)).toBarsBeatsSixteenths());\n                else if(op === 'sub')\n                    store.settings.setLoopStart(Tone.Time(Tone.Time(self.settings.loopStart) - Tone.Time(length)).toBarsBeatsSixteenths());\n            }\n        }\n        function swapScenes(sId1, sId2) {\n            let s1 = self.getScene(sId1);\n            let s2 = self.getScene(sId2);\n            let start1 = s1.start;\n            let length2 = self.getSceneLength(s2.id);\n\n            s1.setStart(Tone.Time(Tone.Time(s2.end) - Tone.Time(self.getSceneLength(s1.id))).toBarsBeatsSixteenths());\n            s1.setEnd(s2.end);\n            s2.setStart(start1);\n            s2.setEnd(Tone.Time(Tone.Time(start1) + Tone.Time(length2)).toBarsBeatsSixteenths());\n\n            [s1, s2].forEach(function (scene) {\n                self.getPatternsByScene(scene.id).forEach(function (pattern) {\n                    let part = ToneObjs.parts.find(p => p.id === pattern.id).obj;\n                    part.dispose();\n\n                    pattern.initPart();\n\n                    pattern.getSortedNotesAsc.forEach(function (note) {\n                        note.setPartNote();\n                    })\n                });\n            });\n        }\n        function duplicateScene(sceneId) {\n            //add to end of song\n            let start = Tone.Time(self.getSongLength()).toBarsBeatsSixteenths();\n            let end = Tone.Time(Tone.Time(start) + Tone.Time(self.getSceneLength(sceneId))).toBarsBeatsSixteenths();\n\n            let newId = 'scene_' + randomId();\n            self.addScene(newId, start, end);\n\n            self.getPatternsByScene(sceneId).forEach(function (pattern) {\n                let newPattern = self.getPatternByTrackScene(pattern.track.id, newId);\n\n                pattern.getSortedNotesAsc.forEach(function (note) {\n                    newPattern.addNote(note.time, note.mute, note.note, note.duration);\n                })\n            })\n\n            self.ui.selectScene(newId);\n        }\n        function addPattern(id, resolution, track, scene, notes) {\n            self.patterns.push(Pattern.create({ id: id, resolution: resolution, track: track, scene: scene, notes: notes }));\n        }\n        function delPattern(patternId) {\n            if(self.ui.selectedNote){\n                if(self.ui.selectedNote.getPattern.id === patternId)\n                    self.ui.selectNote(undefined);\n            }\n\n            destroy(self.getPattern(patternId));\n        }\n        function addMasterTracks() {\n            ['master', 'A', 'B', 'C', 'D'].forEach(function (group) {\n                const idTrack = 'track_' + group;\n\n                if (group === 'master')\n                    self.tracks.push(Track.create({ id: idTrack, type: 'master', mute: false, solo: false, sample: undefined, region: undefined, group: 'M', mixRow: MixRow.create({}) }));\n                else\n                    self.tracks.push(Track.create({ id: idTrack, type: 'master', mute: false, solo: false, sample: undefined, region: undefined, group: group, mixRow: MixRow.create({}) }));\n\n                const idPanvol = 'panvol_' + group;\n                store.components.add(\"panvol\", { id: idPanvol, track: idTrack });\n\n                const idPanvolOut = 'panvol_' + group + '_out';\n                store.components.add(\"panvol\", { id: idPanvolOut, track: idTrack });\n\n                //add connections\n                if (group === \"master\") {\n                    //panvol_master -> panvol_master_out -> master\n                    store.addConnection('connection_' + randomId(), idTrack, idPanvol, idPanvolOut, \"component\", \"component\");\n                    store.addConnection('connection_' + randomId(), idTrack, idPanvolOut, \"master\", \"component\", \"master\");\n                }\n                else {\n                    const idSolo = \"mix_solo_\" + group;\n                    store.components.add(\"solo\", { id: idSolo, track: idTrack });\n\n                    //solo -> panvol -> panvol_out -> master panvol\n                    store.addConnection('connection_' + randomId(), idTrack, idSolo, idPanvol, \"component\", \"component\");\n                    store.addConnection('connection_' + randomId(), idTrack, idPanvol, idPanvolOut, \"component\", \"component\");\n                    store.addConnection('connection_' + randomId(), idTrack, idPanvolOut, \"panvol_master\", \"component\", \"component\");\n                }\n            })\n        }\n        function addTrack(id, type, mute, solo, sample, region) {\n            if(self.ui.selectedGroup !== 'M'){\n\n                let groupIndex = store.getTracksByGroup(self.ui.selectedGroup).length;\n                self.tracks.push(Track.create({ id: id, type: type, mute: mute, solo: solo, sample: sample, region: region, group: self.ui.selectedGroup, groupIndex: groupIndex, mixRow: MixRow.create({}) }));\n\n                let panvolId = 'panvol_' + randomId();\n                self.components.panvols.push(PanVol.create({ id: panvolId, track: id }));\n\n                //panvol -> master group solo\n                store.addConnection('connection_' + randomId(), id, panvolId, 'mix_solo_' + self.ui.selectedGroup, \"component\", \"component\");\n\n                if (type === \"audio\") {\n                    let playerId = 'player_' + randomId();\n                    store.instruments.add('player', { id: playerId, track: id, sample: sample, region: region });\n                    store.addConnection('connection_' + randomId(), id, playerId, panvolId, \"instrument\", \"component\");\n                }\n\n                self.scenes.forEach(function (scene) {\n                    self.addPattern('pattern_' + randomId(), '16n', id, scene.id, []);\n                })\n\n                store.ui.selectTrack(id);\n            }\n        }\n        function duplicateTrack(id){\n            let track = self.getTrack(id);\n\n            //add new track\n            let newTrackId = 'track_' + randomId();\n            self.addTrack(newTrackId, track.type, track.mute, track.solo, track.sample, track.region);\n\n            //function to set new id's for all deep level props\n            const setObjPropVal = (obj, prop, val, signal, child) => {\n                Object.keys(obj).forEach(key => {\n                    if(key === prop){\n                        let tokens = obj[key].split('_');\n                        if(val)\n                            tokens[tokens.length-1] = val;\n                        else\n                            tokens[tokens.length-1] = randomId();\n\n                        obj[key] = tokens.toString().replace(/,/g, '_');\n                    }\n                    else if(typeof obj[key] === 'object'){\n                        setObjPropVal(obj[key], prop, val, signal, child);\n                    }\n                })\n            }\n\n            //save a copy of orig track connections to modify during obj loop\n            let conns = self.getConnectionsByTrack(id)\n                .filter(c => c.src.split('_')[0] !== 'mix' && c.dest.split('_')[0] !== 'mix')\n                    .map(conn => ({...getSnapshot(conn)}))\n            \n            //copy orig track models\n            self.getObjsByTrackObj(track).sort((a,b) => {return a-b}).forEach(obj => {\n                let type = obj.id.split('_')[0];\n\n                //addtrack already connected default track objs\n                if(type !== 'mix'){\n                    //copy and apply snapshots of obj models, update id's and track id's\n                    let snapshot = cloneDeep(getSnapshot(obj));\n                    snapshot.track = newTrackId;\n\n                    if(type === 'panvol'){\n                        let panvol = self.components.panvols.find(pv => pv.track.id === newTrackId);\n                        snapshot.id = panvol.id;\n                        applySnapshot(panvol, snapshot);\n                    }\n                    else if(type === 'player'){\n                        let player = self.instruments.players.find(pv => pv.track.id === newTrackId);\n                        snapshot.id = player.id;\n                        applySnapshot(player, snapshot);\n\n                        //remove default connection by addTrack()\n                        self.delConnectionsByObj(player.id);\n                    }\n                    else{\n                        if(type !== 'tinysynth'){\n                            setObjPropVal(snapshot, 'id');\n                            let baseType = self.getObjTypeByIdTrack(obj.id, track.id) + 's';\n                            self[baseType].add(type, snapshot);\n                        }\n                        else if(type === \"tinysynth\" && obj.id.split('_')[1] === \"panvol\"){\n                            //add panvol\n                            setObjPropVal(snapshot, 'id');\n                            self.components.add('panvol', snapshot);\n\n                            //now add tinysynth using panvol id above\n                            let tinysynth = self.instruments.getInstrumentByTypeId('tinysynth', 'tinysynth_' + obj.id.split('_')[2]);\n                            let tsCopy = {...getSnapshot(tinysynth)};\n\n                            tsCopy.track = newTrackId;\n                            setObjPropVal(tsCopy, 'id', snapshot.id.split('_')[2]);\n                            setObjPropVal(tsCopy, 'panvol', snapshot.id.split('_')[2]);\n\n                            self.instruments.add('tinysynth', tsCopy);\n                        }\n                    }\n\n                    //update new model id's in connections\n                    conns.filter(c => c.src === obj.id || c.dest === obj.id).forEach(c => {\n                        if(c.src === obj.id)\n                            c.src = snapshot.id;\n                        else if(c.dest === obj.id)\n                            c.dest = snapshot.id;\n                    })\n                }\n            });\n            \n            //copy connections to new track\n            conns.forEach(c => {\n                store.addConnection('connection_' + randomId(), newTrackId, c.src, c.dest, c.srcType, c.destType, c.signal, c.numOut, c.numIn);\n            })\n            \n            //copy patterns\n            self.getPatternsByTrack(track.id).forEach(p => {\n                self.getPatternByTrackScene(newTrackId, p.scene.id).pastePattern(p);\n            })\n        }\n        function delTrack(id) {\n            let track = self.getTrack(id);\n\n            //remove selections\n            if(store.ui.selectedPattern){\n                if(store.ui.selectedPattern.track.id === id)\n                    store.ui.selectPattern(undefined);\n            }\n            if(store.ui.selectedTrack){\n                if(store.ui.selectedTrack.id === track.id){\n                    const groupTracks = store.getTracksByGroup(store.ui.selectedGroup);\n\n                    if(groupTracks.length > 1){\n                        if(track.groupIndex + 1 === groupTracks.length)\n                            store.ui.selectTrack(groupTracks.find(t => t.groupIndex === track.groupIndex - 1).id);\n                        else\n                            store.ui.selectTrack(groupTracks.find(t => t.groupIndex === track.groupIndex + 1).id);\n                    }\n                    else{\n                        store.ui.selectTrack(undefined)\n                    }\n                }\n            }\n            if(store.ui.selectedNote){\n                if(store.ui.selectedNote.getPattern.track === track){\n                    store.ui.selectNote(undefined);\n                }\n            }\n            if(store.ui.selectedObj){\n                if(store.getObjsByTrackObj(track).find(o => o.id === store.ui.selectedObj)){\n                    store.ui.selectObj('');\n                }\n            }\n            if(store.ui.views.edit.copiedPattern && store.ui.views.edit.copiedPattern.track.id === id){\n                store.ui.views.edit.setCopiedPatternId(undefined);\n            }\n\n            self.components.getAllByTrack(id).forEach(function (component) {\n                let type = component.id.split('_');\n                if (self.components.isHidden(component.id))\n                    self.components.delete(type[1], component.id);\n                else\n                    self.components.delete(type[0], component.id);\n            })\n            self.effects.getAllByTrack(id).forEach(function (effect) {\n                self.effects.delete(effect.id.split('_')[0], effect.id);\n            })\n            self.instruments.getAllByTrack(id).forEach(function (instrument) {\n                self.instruments.delete(instrument.id.split('_')[0], instrument.id);\n            })\n            self.sources.getAllByTrack(id).forEach(function(source){\n                self.sources.delete(source.id.split('_')[0], source.id);\n            })\n\n            self.patterns.filter(p => p.track.id === id).forEach(pattern => self.delPattern(pattern.id));\n\n            if (track.type === \"audio\") {\n                if(track.region)\n                    self.getSample(track.sample.id).delRegion(track.region.id);\n            }\n\n            self.getTracksByGroup(track.group).filter(t => t.groupIndex > track.groupIndex).forEach(t => t.setGroupIndex(t.groupIndex - 1));\n\n            destroy(self.getTrack(id));\n        }\n        function addConnection(id, track, src, dest, srcType, destType, signal, numOut, numIn) {\n            self.connections.push(Connection.create({ id: id, track: track, src: src, dest: dest, srcType: srcType, destType: destType, signal: signal, numOut: numOut, numIn: numIn }))\n        }\n        function delConnectionsByObj(id) {\n            self.getConnectionsByObjId(id).forEach(function (connection) {\n                destroy(connection);\n            })\n        }\n        function delConnection(id) {\n            destroy(self.getConnection(id));\n        }\n        function addSample(id, url, length, regions, duration) {\n            self.samples.push(Sample.create({ id: id, url: url, length: length, regions: regions, duration: duration }));\n        }\n        function delSample(id) {\n            destroy(self.getSample(id));\n        }\n        //these could go elsewhere, but could be useful for future remote DB calls.\n        //look into Fetch and idb updates\n        function DBLoadStore(id) {\n            var db;\n            var openRequest = indexedDB.open('propadb', 1);\n\n            openRequest.onsuccess = function (e) {\n                console.log('DB Load - running onsuccess');\n                db = e.target.result;\n\n                var transaction = db.transaction(['songs'], 'readwrite');\n                var objectStore = transaction.objectStore('songs');\n                var request = objectStore.get(id);\n\n                request.onerror = function (e) {\n                    console.log('Error loading database', e.target.error.name);\n                };\n                request.onsuccess = function (e) {\n                    console.log('opened database. loading song...')\n\n                    //setting transport first, tone obj times properties based on this value\n                    setTransport(e.target.result.settings); \n\n                    //we maunally load all toneobjs before applying snapshot...\n                    //after attach is unreliable...\n                    setToneObjs(e.target.result);\n\n                    //don't display load/save window\n                    e.target.result.ui.toolbar.browser.action = undefined;\n\n                    //set current window sizes\n                    e.target.result.ui.windowWidth = store.ui.windowWidth;\n                    e.target.result.ui.windowHeight = store.ui.windowHeight;\n\n                    applySnapshot(store, e.target.result);\n                    \n                    //TODO: look into using afterCreate in model\n                    //attach all patterns and notes\n                    store.patterns.forEach(function(p){\n                        p.getSortedNotesAsc.forEach(function(n){})\n                    })\n                    //attach all connections manually\n                    let conns = store.refreshConnections;\n\n                    //attach all players manually;\n                    store.instruments.players.forEach(() => {});\n\n                    //add samples to browser\n                    e.target.result.samples.forEach(s => {\n                        //fileTree.children[4].children.push({name: s.url, id: s.id , type: 'sample'});\n                    })\n\n                    //console.log(JSON.stringify(store));\n                };\n            };\n            openRequest.onerror = function (e) {\n                console.log('DB Load - onerror!');\n                console.dir(e);\n            };\n        }\n        async function DBLoadAudioFile(id) {\n            let db = await idb.openDB('propadb', 1, upgradeDB => upgradeDB.createObjectStore('audio', { keyPath: 'id' }));\n            let tx = db.transaction('audio', 'readwrite');\n            let objStore = tx.objectStore('audio');\n\n            let obj = await objStore.get(id);\n            await tx.complete;\n\n            db.close();\n\n            return obj;\n        }\n        async function DBSaveAudioFile(obj) {\n            let db = await idb.openDB('propadb', 1, upgradeDB => upgradeDB.createObjectStore('audio', { keyPath: 'id' }));\n            let tx = db.transaction('audio', 'readwrite');\n            let objStore = tx.objectStore('audio');\n\n            await objStore.put(obj);\n            await tx.complete;\n\n            db.close();\n        }\n        async function DBDeleteSongById(id){\n            let db = await idb.openDB('propadb', 1, upgradeDB => upgradeDB.createObjectStore('songs', { keyPath: 'id' }));\n            let tx = db.transaction('songs', 'readwrite');\n            let objStore = tx.objectStore('songs');\n\n            objStore.delete(id);\n            await tx.complete;\n            db.close();\n        }\n        async function DBGetAllSongs(){\n            let db = await idb.openDB('propadb', 1, upgradeDB => upgradeDB.createObjectStore('songs', { keyPath: 'id' }));\n            let tx = db.transaction('songs', 'readonly');\n            let objStore = tx.objectStore('songs');\n\n            let allSavedItems = await objStore.getAll();\n            await tx.complete;\n\n            db.close();\n\n            let obj = [];\n            allSavedItems.forEach(function(song){\n                obj.push({id: song.id, title: song.settings.title, modified: song.settings.modified})\n            });\n            return obj;\n        }\n        function DBSaveStore(bSaveSong) {\n            let db;\n            let openRequest = indexedDB.open('propadb', 1);\n\n            openRequest.onupgradeneeded = function (e) {\n                let db = e.target.result;\n                console.log('DB Save - running onupgradeneeded');\n                if (!db.objectStoreNames.contains('songs')) {\n                    //console.log('DB Save - creating songs object store');\n                    db.createObjectStore('songs', { keyPath: 'id' });\n                }\n                if (!db.objectStoreNames.contains('audio')) {\n                    //console.log('DB Save - creating audio object store')\n                    db.createObjectStore('audio', { keyPath: 'id' });\n                }\n            };\n\n            openRequest.onsuccess = function (e) {\n                if(bSaveSong){\n                    //console.log('DB Save - running onsuccess & saving store');\n                    db = e.target.result;\n\n                    let transaction = db.transaction(['songs'], 'readwrite');\n                    let objectStore = transaction.objectStore('songs');\n                    //put will replace and 'add' will check if exist\n                    let request = objectStore.put(getSnapshot(store));\n\n                    request.onerror = function (e) {\n                        //console.log('DB Save Object - Error', e.target.error.name);\n                        db.close();\n                    };\n                    request.onsuccess = function (e) {\n                        //console.log('DB Save Object - Success');\n                        db.close();\n                    };\n                }\n            };\n\n            openRequest.onerror = function (e) {\n                console.log('DB Save Error!');\n                console.dir(e);\n            };\n        }\n        function DBDelete() {\n            let DBDeleteRequest = indexedDB.deleteDatabase(\"propadb\");\n\n            DBDeleteRequest.onerror = function (event) {\n                console.log(\"Error deleting database.\");\n            };\n\n            DBDeleteRequest.onsuccess = function (event) {\n                console.log(\"Database deleted successfully\");\n\n                console.log(event.result); // should be undefined\n            };\n        }\n        function setSongId(id){\n            self.id = id;\n        }\n        function afterCreate(){\n            //console.log('root store aftercreate called')\n            //DBDelete();\n\n            //open DB without saving\n            // console.log('save');\n            //self.setSongId('emptysong')\n            //self.setSongTitle('empty_' + self.id)\n            //DBSaveStore(true);\n            DBSaveStore(false);\n        }\n        return { afterCreate, setSongId, DBGetAllSongs, DBSaveStore, DBLoadStore, DBSaveAudioFile, DBLoadAudioFile, DBDeleteSongById, DBDelete, addPattern, delPattern, addMasterTracks, addTrack, duplicateTrack, delTrack, addScene, delScene, shiftSceneTimes, swapScenes, duplicateScene, addConnection, delConnectionsByObj, delConnection, addSample, delSample };\n    });\n\n/*\nexport let undoManager = {}\nexport const setUndoManager = targetStore => {\n    undoManager = UndoManager.create({}, { targetStore })\n}\n\nexport const undo = () => undoManager.canUndo && undoManager.undo()\nexport const redo = () => undoManager.canRedo && undoManager.redo()\n*/","import { Scale } from \"tonal\";\nimport { RootStore, randomId } from \"../models/models.js\";\n\nlet firstSceneId = 'scene_' + randomId();\n\nexport const store = RootStore.create({\n  \"id\": \"song_\" + randomId(),\n  \"settings\": {\n    \"title\": \"untitled\",\n    \"modified\": undefined,\n    \"bpm\" : 120,\n    \"swing:\" : 0,\n    \"loopStart\" : \"0:0:0\",\n    \"loopEnd\" : \"1:0:0\",\n    \"scale\" : Scale.names()[Math.floor(Math.random()*Scale.names().length)],\n    \"key\" : [\"C\",\"C#\",\"Db\",\"D\",\"D#\",\"Eb\",\"E\",\"E#\",\"Fb\",\"F\",\"F#\",\"Gb\",\"G\",\"G#\",\"Ab\",\"A\",\"A#\",\"Bb\",\"B\",\"B#\",\"Cb\"][Math.floor(Math.random()*21)],\n    \"swingSubDivision\" : \"16n\",\n    \"partRender\": false,\n  },\n  \"tracks\": [],\n  \"patterns\" : [],\n  \"scenes\" : [\n    {\n      \"id\" : firstSceneId,\n      \"start\" : \"0:0:0\",\n      \"end\" : \"1:0:0\",\n      \"on\" : true\n    },\n  ],\n  \"samples\" : [],\n  \"ui\" : {\n    \"viewMode\" : \"sequencer\",\n    \"views\": {\n      \"sequencer\": {\n      },\n      \"button\" : {\n      },\n      \"edit\" : {\n        \"mode\" : \"bar\"\n      },\n      \"manager\" : {\n      }\n    },\n    \"toolbar\" : {\n      \"main\" : {\n      },\n      \"browser\" : {\n        \"browser1\" : {\n          \"selectedDir\" : \"/\",\n          \"selectedFile\" : undefined\n        },\n        \"browser2\" : {\n          \"selectedDir\" : \"/\",\n          \"selectedFile\" : undefined\n        },\n        \"browser3\" : {\n          \"selectedDir\" : \"/\",\n          \"selectedFile\" : undefined\n        },\n        \"action\": undefined\n      },\n      \"editor1\" : {\n      },\n      \"editor2\" : {\n      },\n      \"song\" : {\n      },\n      \"keys\" : {\n      }\n    },\n    \"mixMode\" : false,\n    \"editMode\" : false,\n    \"recordMode\" : false,\n    \"settings\" : false,\n    \"viewLength\" : \"1:0:0\",\n    \"windowHeight\" : 0,\n    \"windowWidth\" : 0,\n    \"selectedToolbar\" : undefined,\n    \"selectedScene\" : firstSceneId,\n    \"selectedTrack\" : undefined,\n    \"selectedPattern\" : undefined,\n    \"selectedObj\" : undefined,\n    \"selectedGroup\" : \"A\",\n    \"selectedNote\" : undefined,\n    \"selectedKey\" : undefined,\n    \"selectedChord\" : undefined,\n    \"device\" : undefined,\n    \"showSideBar\" : undefined,\n  },\n  \"sources\" : {\n    \"amoscillators\": [],\n    \"fmoscillators\": [],\n    \"fatoscillators\": [],\n    \"oscillators\" : [],\n    \"omnioscillators\": [],\n    \"pwmoscillators\": [],\n    \"pulseoscillators\": [],\n    \"noises\": [],\n    \"usermedias\": []\n  },\n  \"instruments\" : {\n    \"players\" : [],\n    \"synths\": [],\n    \"amsynths\": [],\n    \"fmsynths\": [],\n    \"monosynths\": [],\n    \"metalsynths\": [],\n    \"membranesynths\": [],\n    \"plucksynths\": [],\n    \"noisesynths\": [],\n    \"polysynths\": [],\n    \"duosynths\": [],\n    \"tinysynths\": []\n  },\n  \"effects\" : {\n    \"autofilters\": [],\n    \"autopanners\": [],\n    \"autowahs\": [],\n    \"bitcrushers\": [],\n    \"chebyshevs\": [],\n    \"choruss\": [],\n    \"convolvers\": [],\n    \"distortions\": [],\n    \"feedbackdelays\": [],\n    \"freeverbs\": [],\n    \"jcreverbs\": [],\n    \"midsideeffects\": [],\n    \"phasers\": [],\n    \"pingpongdelays\": [],\n    \"pitchshifts\": [],\n    \"reverbs\": [],\n    \"stereowideners\": [],\n    \"tremolos\": [],\n    \"vibratos\": []\n  },\n  \"components\" : {\n    \"filters\" : [],\n    \"followers\": [],\n    \"meters\": [],\n    \"panvols\": [],\n    \"splits\": [],\n    \"limiters\": [],\n    \"solos\": [],\n    \"eq3s\": [],\n    \"compressors\": [],\n    \"gates\": [],\n    \"monos\": [],\n    \"envelopes\": [],\n    \"amplitudeenvelopes\": [],\n    \"frequencyenvelopes\": [],\n    \"lfos\": [],\n    \"feedbackcombfilters\": [],\n    \"lowpasscombfilters\": [],\n    \"multibandcompressors\": [],\n    \"midsidecompressors\": [],\n    \"multibandsplits\": [],\n    \"volumes\": [],\n    \"panners\": []\n  },\n  \"connections\" : []\n});\n","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport * as Tone from \"tone\";\nimport { ToneObjs } from '../../models/models.js';\nimport { store } from \"../../data/store.js\";\n\n\nexport const FooterView = observer(class FooterView extends Component{\n    playing = false;\n    tempoMode;\n    metronome;\n    viewPrev;\n  \n    componentDidMount(){\n      this.tempoMode = \"bpm\";\n      document.getElementById('lblTempo').innerHTML = this.props.bpm;\n      document.getElementById('tempoSlider').value = this.props.bpm;\n      document.getElementById('iViewMode').innerHTML = this.props.viewMode === 'button' ? 'reorder' : 'view_module';\n    }\n  \n    componentDidUpdate(prevProps, prevState, snapshot){\n      this.tempoMode = \"bpm\";\n      document.getElementById('lblTempo').innerHTML = this.props.bpm;\n      document.getElementById('tempoSlider').value = this.props.bpm;\n\n      let eleIcon = document.getElementById('iViewMode');\n      if((this.props.viewMode === 'manager' && prevProps.viewMode !== 'manager')\n        || (this.props.viewMode === 'edit' && prevProps.viewMode !== 'edit')){\n\n          if(this.props.viewMode === 'manager' && prevProps.viewMode !== 'manager'){\n            this.viewPrev = prevProps.viewMode;\n            document.getElementById('iconFooterSettings').innerHTML = 'arrow_back';\n          }\n\n          if(prevProps.viewMode === 'button')\n            eleIcon.innerHTML = 'view_module';\n          else if(prevProps.viewMode === 'sequencer')\n            eleIcon.innerHTML = 'reorder';\n      }\n      else if(this.props.viewMode === 'button')\n        eleIcon.innerHTML = 'reorder';\n      else if(this.props.viewMode === 'sequencer')\n        eleIcon.innerHTML = 'view_module';\n\n      if(prevProps.viewMode === 'manager' && this.props.viewMode !== 'manager'){\n        document.getElementById('iconFooterSettings').innerHTML = 'settings_applications';\n      }\n    }\n    \n    toggleRecordMode = () => {\n      store.ui.toggleRecordMode();\n    }\n  \n    toggleMixMode = () => {\n      store.ui.toggleMixMode();\n    }\n  \n    toggleViewMode = (e) => {\n      store.ui.toggleViewMode();\n    }\n  \n    toggleSlider = (e) => {\n      if(e.target.innerHTML === \"BPM\"){\n        e.target.innerHTML = \"Swng\";\n        document.getElementById('tempoSlider').setAttribute(\"min\", 0);\n        document.getElementById('tempoSlider').setAttribute(\"max\", 100);\n        document.getElementById('tempoSlider').setAttribute(\"step\", 1);\n  \n        let val = parseInt(this.props.store.settings.swing * 100, 10);\n        document.getElementById('tempoSlider').value = val;\n        document.getElementById('lblTempo').innerHTML = val + '%';\n        this.tempoMode = \"swing\";\n      }\n      else {\n        e.target.innerHTML = \"BPM\";\n        document.getElementById('tempoSlider').setAttribute(\"min\", 60);\n        document.getElementById('tempoSlider').setAttribute(\"max\", 180);\n        document.getElementById('tempoSlider').setAttribute(\"step\", 0.5);\n        document.getElementById('tempoSlider').value = this.props.store.settings.bpm;\n        document.getElementById('lblTempo').innerHTML = this.props.store.settings.bpm;\n        this.tempoMode = \"bpm\";\n      }\n    }\n  \n    toggleSettings = (e) => {\n      if(this.props.viewMode === 'manager')\n        store.ui.toggleViewMode(this.viewPrev);\n      else\n        store.ui.toggleSettings(true);\n    }\n  \n    tempoChange = (e) => {\n      if(this.tempoMode === \"bpm\"){\n        let val = Number(e.target.value);\n        store.settings.setBPM(val);\n        document.getElementById('lblTempo').innerHTML = e.target.value;\n      }\n      if(this.tempoMode === \"swing\"){\n        let val = Number(e.target.value / 100);\n        store.settings.setSwing(val);\n        document.getElementById('lblTempo').innerHTML = e.target.value + '%';\n      }\n    }\n  \n    togglePlay = (e) => {\n      e.stopPropagation();\n      let icon = document.getElementById('iconPlay');\n  \n      if(this.playing === false){\n        if(store.ui.recordMode){\n          Tone.Transport.start(\"+0.1\", Tone.Time(store.settings.loopStart) - Tone.Time('1:0:0'));\n        }\n        else{\n          Tone.Transport.start(\"+0.1\", store.settings.loopStart);\n        }\n\n        icon.innerHTML = \"stop\";\n      }\n      else{\n        Tone.Transport.stop();\n        \n        ToneObjs.instruments.forEach(instrument => {\n          let name = instrument.id.split('_')[0];\n          if(name === \"player\"){\n            instrument.obj.stop();\n\n            //delay stopping gridbutton animation for better results\n            setTimeout(() => {\n              if(store.ui.viewMode === 'button'){\n                if(store.getTrack(instrument.track).group === store.ui.selectedGroup){\n                  let divGridButton = document.getElementById('divGridButton_' + instrument.track);\n        \n                  if(divGridButton){\n                    let divProgress = divGridButton.querySelector('.divGridButtonProgress');\n                    \n                    if(divProgress){\n                        divProgress.style.animation = 'none';\n                    }\n                  }\n                }\n              }\n            }, 100)\n          }\n          else if(name !== \"noisesynth\" && name !== \"plucksynth\" && name !== \"membranesynth\" && name !== \"metalsynth\"){\n            instrument.obj.releaseAll();\n          }\n          else{\n            instrument.obj.triggerRelease();\n          }\n        })\n        ToneObjs.sources.forEach(source => {\n          source.obj.stop();\n        })\n        \n        //TODO: effect/components to stop? autofilter etc?\n  \n        icon.innerHTML = \"play_arrow\";\n      }\n  \n      this.playing = !this.playing;\n    }\n  \n    endSlider = (e) => {\n      //console.log('endSlide');\n    }\n\n    hideBPMFooter = (e) => {\n      store.ui.toggleSettings(false);\n    }\n  \n    render(){\n      let height = 40, vDisplay = {display:'none'};\n      if(this.props.settings){\n        height = 80;\n        vDisplay = {display:'block'};\n      }\n  \n      let iconRed = '';\n      if(this.props.store.ui.recordMode)\n        iconRed = ' colorRed';\n      \n      return (\n        <div id=\"divFooter\" className=\"divFooter\" style={{height:height + 'px', width: this.props.store.ui.windowWidth + 'px'}}>\n          <div className=\"divTransportControls\">\n            <button onClick={this.toggleViewMode} style={{position:'absolute', left:'0px' , height:'100%', backgroundColor:'transparent', border:0}}>\n              <i id='iViewMode' className=\"material-icons i-36\"></i>\n            </button>\n            <button id=\"btnTransportToggleRecord\" onClick={this.toggleRecordMode} style={{height:'100%', width:'50px', backgroundColor:'transparent', border:0}}>\n              <i id=\"iconRecord\" className={\"material-icons i-36\" + iconRed}>fiber_manual_record</i>\n            </button>\n            <button id=\"btnTransportTogglePlay\" onClick={this.togglePlay} style={{height:'100%', width:'50px', backgroundColor:'transparent', border:0}}>\n              <i id=\"iconPlay\" className=\"material-icons i-36\">play_arrow</i>\n            </button>\n            <button onClick={this.toggleSettings} style={{position:'absolute', right:0 , height:'100%', backgroundColor:'transparent', border:0}}>\n              <i id='iconFooterSettings' className=\"material-icons i-36\">settings_applications</i>\n            </button>\n          </div>\n          <div className=\"divFooterSettings\" style={vDisplay}>\n            <button id=\"btnToggleTempoSlider\" onClick={this.toggleSlider}>BPM</button>\n            <label id=\"lblTempo\"/>\n            <div style={{position:'relative', marginLeft:'55px', marginRight:'50px'}}> \n              <input type=\"range\" min=\"60\" max=\"180\" id=\"tempoSlider\" step=\"0.5\" onChange={this.tempoChange} onMouseUp={this.endSlide} onTouchEnd={this.endSlide}/>\n            </div>\n            <button id=\"btnHideFooter\" onClick={this.hideBPMFooter}><i className=\"material-icons i-36\">arrow_drop_down_circle</i></button>\n          </div>\n        </div>\n      )\n    }\n  });","import React, { Component } from 'react';\nimport { observer } from 'mobx-react';\nimport * as Tone from \"tone\";\nimport { store } from '../../../data/store.js';\nimport { randomId } from '../../../models/models.js';\nimport { audioBufferToWav, exportSong, renderSong, saveSong, toggleFullScreen } from '../../utils.js';\nimport interact from 'interactjs';\n\nimport newfileTree from '../../../data/newfiletree.json';\nimport { FixedSizeList as List } from 'react-window';\nimport AutoSizer from 'react-virtualized-auto-sizer';\nimport { shouldComponentUpdate } from 'react-window';\n\n\n\nlet bBrowseMenuLoading = false;\nlet browsePlayer = new Tone.Player().toDestination();\n\nconst browsePlayerStart = (item, eleAnim, eleLoadIcon) => {\n  eleLoadIcon.querySelector('.divListItemLoadingIcon').style.display = 'none';\n  eleAnim.style.animation = 'progressWidth ' + browsePlayer.buffer.duration + 's linear';\n  browsePlayer.start();\n  item.tStart = new Date().getTime();       \n}\n\nconst browsePlayerStop = (item, eleAnim) => {\n  browsePlayer.stop();\n  eleAnim.style.animation = 'none';\n  item.tStart = undefined;\n}\n\nconst procBrowseItem = (item, browserId) => {\n  let type = item.type;\n  let name = item.name.toLowerCase();\n  let randId = name + '_' + randomId();\n  let trackId = 'track_' + randomId();\n\n  if(type === 'song'){\n    let subDir = store.ui.toolbar.browser[browserId].selectedDir.split('/')[2];\n    if(subDir){\n      switch(subDir) {\n        case 'Key':\n          store.settings.setKey(item.name)\n          break;\n        case 'Scale':\n          store.settings.setScale(item.name)\n          break;\n        case 'Swing':\n          store.settings.setSwingSubdivision(item.name)\n          break;\n        default:\n      }\n    }\n    else{\n      switch(item.name) {\n        case 'Save As':\n          store.ui.toolbar.browser.setAction(item.name);\n          break;\n        case 'Save':\n          saveSong();\n          break;\n        case 'Load':\n          store.ui.toolbar.browser.setAction(item.name);\n          break;\n        case 'Export':\n          exportSong();\n          break;\n        case 'Render':\n          renderSong().then(() => {});\n          break;\n        case 'Fullscreen':\n          toggleFullScreen();\n          break;\n        case 'BPM':\n          store.ui.toggleSettings(false);\n          break;\n        default:\n      }\n    }\n  }\n  else if(type === 'instrument' || type === 'source'){\n    if(store.ui.viewMode === 'edit'){\n      trackId = store.ui.selectedTrack.id;\n      store[type + 's'].add(name, {id: randId, track: trackId});\n    }\n    else{\n      store.addTrack(trackId, 'instrument', false, false);\n      store[type + 's'].add(name, {id: randId, track: trackId});\n\n      let panvolId = store.components.getAllByTrack(trackId).find(c => c.id.split('_')[0] === 'panvol').id;\n\n      if(name !== 'tinysynth')\n        store.addConnection('connection_' + randomId(), trackId, randId, panvolId, type, 'component');\n      else\n        store.addConnection('connection_' + randomId(), trackId, 'tinysynth_panvol_' + randId.split('_')[1], panvolId, 'component', 'component');\n    }\n\n    store.ui.selectToolbar('synth');\n\n    if(name === 'tinysynth')\n      store.ui.selectObj('tinysynth_panvol_' + randId.split('_')[1]);\n    else\n      store.ui.selectObj(randId);\n\n  }\n  else if(type === 'effect' || type === 'component'){\n    if(store.ui.selectedTrack){\n      store[type + 's'].add(name, {id: randId, track: store.ui.selectedTrack.id})\n      store.ui.selectToolbar('editor1');\n      store.ui.selectObj(randId);\n    }\n  }\n  else if(type === 'sample'){\n    if(item.name === '...Import'){\n      document.getElementById('inputFile_' + browserId).click();\n    }\n    else if(item.name === '...Folder'){\n      //document.getElementById('btnInputFolder_' + this.id).click();\n    }\n    else if(item.name === '...Record'){\n      store.ui.selectToolbar('editor1');\n      store.ui.selectObj('record_' + randomId());\n    }\n    else if(item.dir.substr(0,8) === '/Samples'){\n      if(item.name.split('_')[0] === 'region'){\n        store.DBLoadAudioFile(item.name).then(result => {\n          if(result && result.data){\n            if(result.data instanceof Blob || Array.isArray(result.data) || result.data instanceof Float32Array) {\n              const newId = 'sample_' + randomId();\n              store.DBSaveAudioFile({\n                id: newId,\n                url: undefined,\n                duration: result.duration,\n                data: result.data\n              }).then(() => {\n                store.addSample(newId, undefined, undefined, [], result.duration);\n                store.ui.selectToolbar('editor1');\n                store.ui.selectObj(newId);\n              });\n            }\n          }\n        })\n      }\n      else{\n        store.ui.selectToolbar('editor1');\n        store.ui.selectObj(item.name);      }\n    }\n    else if(item.dir.substr(0,8) === '/Library'){\n      let url = item.dir + '/' + item.name;\n      let sampleId = 'sample_' + url;\n      \n      store.DBLoadAudioFile(sampleId).then(result => {\n        if(!result){\n          let buffer = new Tone.Buffer(url, () => {\n            audioBufferToWav(buffer.get()).then(blob => {\n              store.DBSaveAudioFile({\n                id: sampleId,\n                url: url,\n                duration: buffer.duration,\n                data: blob\n              }).then(() => {\n                if(!store.getSample(sampleId))\n                  store.addSample(sampleId, url, buffer.length, [], buffer.duration);\n                \n                store.ui.selectToolbar('editor1');\n                store.ui.selectObj(sampleId);\n\n                buffer.dispose();\n              });\n            });\n          });\n        }\n        else{\n          if(!store.getSample(sampleId))\n            store.addSample(sampleId, url, result.data.length, [], result.duration);\n          \n          store.ui.selectToolbar('editor1');\n          store.ui.selectObj(sampleId);\n        }\n      });\n    }\n  }\n}\n\nconst changeBrowseMenu = (dir, browserId) => {\n  if(!bBrowseMenuLoading && dir !== store.ui.toolbar.browser[browserId].selectedDir){\n    if(dir === '/'){\n      document.getElementById('btnBrowseBack_' + browserId).style.opacity = 0.5;\n      document.getElementById('btnBrowseHome_' + browserId).style.opacity = 0.5;\n    }\n    else{\n      document.getElementById('btnBrowseBack_' + browserId).style.opacity = 1;\n      document.getElementById('btnBrowseHome_' + browserId).style.opacity = 1;\n    }\n\n    disableBrowseBtnClick(true, browserId);\n    bBrowseMenuLoading = true;\n    \n    let eleList = document.getElementById('divListBrowseContainer_' + browserId);\n    eleList.classList.add('menuFade');\n\n    setTimeout(() => {\n      eleList.classList.remove('menuFade');\n\n      let eleSelected = eleList.querySelector('.itemSelected');\n      if(eleSelected)\n        eleSelected.classList.remove('itemSelected')\n\n      store.ui.toolbar.browser[browserId].selectDir(dir);\n\n      bBrowseMenuLoading = false;\n    }, 220);\n  }\n}\n\nconst disableBrowseBtnClick = (disabled, browserId) => {\n  let btn = document.getElementById('btnBrowseLoad_' + browserId);\n  if(disabled){\n    btn.disabled = true;\n    btn.style.opacity = 0.25;\n  }\n  else{\n    btn.disabled = false;\n    btn.style.opacity = 1;\n  }\n}\n\nconst toggleBrowseBtnLoad = (item, browserId) => {\n  if(!item.folder){\n    if(item.type === 'component' || item.type === 'effect'){\n      if(store.ui.viewMode === 'edit')\n        disableBrowseBtnClick(false, browserId);\n      else\n        disableBrowseBtnClick(true, browserId);\n    }\n    else if(item.type === 'sample' || item.type === 'instrument' || item.type === 'source'){\n      if(store.ui.viewMode === 'edit'){\n        if(store.ui.selectedTrack.type !== 'master')\n          disableBrowseBtnClick(false, browserId);\n        else\n          disableBrowseBtnClick(false, browserId);\n      }\n      else if(store.ui.selectedGroup !== 'M'){\n        disableBrowseBtnClick(false, browserId);\n      }\n    }\n    else if(item.type === 'song'){\n      disableBrowseBtnClick(false, browserId);\n    }\n  }\n  else{\n    disableBrowseBtnClick(true, browserId);\n  }\n}\n\nclass Row extends Component {\n  shouldComponentUpdate = shouldComponentUpdate.bind(this);\n  rowId; //row ele id\n  item;\n  browserId; \n\n  componentDidMount(){\n    let origPos = { x: undefined, y: undefined };\n    let dragDist = 0;\n    let bThreshold = false;\n    let scrollY = 0;\n    let savedTop = [];\n   \n    if(this.browserId === 'browser3'){\n      interact('#' + this.rowId)\n        .draggable({\n          autoScroll: false,\n          ignoreFrom: 'input',\n          onmove: e => {\n            if(!this.item.folder && this.item.selected && !document.getElementById('btnBrowseLoad_' + this.browserId).disabled){\n              let target = e.target,\n                  x = (parseFloat(target.getAttribute('data-x')) || 0) + e.dx,\n                  y = (parseFloat(target.getAttribute('data-y')) || 0) + e.dy;\n\n              //no drag to right prevent horizontal scrollbar\n              /*\n              if(x > origPos.x)\n                x = origPos.x; \n              */\n\n              //drag distance threshold\n              dragDist = Math.sqrt(Math.pow(x - origPos.x, 2) + Math.pow(y - origPos.y, 2) | 0).toFixed(3);\n              if(dragDist > 50 || bThreshold){\n                if(!bThreshold){\n                  bThreshold = true;\n                  \n                  //react-window only renders visible rows (scrolling, overflow)\n                  //need some style funk for accurate dragging\n                  scrollY = document.querySelector('#divListBrowseContainer_' + this.browserId + ' div.List').scrollTop;\n                  document.querySelector('#divListBrowseContainer_' + this.browserId + ' div.List').style.overflow = '';\n                  if(scrollY > 0){\n                    document.querySelectorAll('#divListBrowseContainer_' + this.browserId +  ' .ListItem').forEach(item => {\n                      savedTop.push(item.style.top);\n                      item.style.top = (item.style.top.replace('px','') - scrollY) + 'px';\n                    })\n                  }\n                }\n                \n                if(!target.classList.contains('itemDragging')){\n                  target.classList.add('itemDragging');\n                  interact('#divDropZone').fire({ type: 'dropactivate', target: document.getElementById('divDropZone')}); \n                }\n                target.style.webkitTransform = target.style.transform = 'translate(' + x + 'px, ' + y + 'px)';\n              }\n              target.setAttribute('data-x', x);\n              target.setAttribute('data-y', y);\n            }\n          },\n          onstart: e => {\n            origPos.x = parseFloat(e.target.getAttribute('data-x')) || 0;\n            origPos.y = parseFloat(e.target.getAttribute('data-y')) || 0;\n          },\n          onend: e => {\n            if(bThreshold){\n              if(scrollY > 0){\n                document.querySelectorAll('#divListBrowseContainer_' + this.browserId + ' .ListItem').forEach((item, idx) => {\n                  item.style.top = savedTop[idx]\n                })\n                savedTop = [];\n                scrollY = 0;\n              }\n              document.querySelector('#divListBrowseContainer_' + this.browserId +  ' div.List').style.overflow = 'auto';\n            }\n\n            bThreshold = false;\n            e.target.classList.remove('itemDragging');\n            e.target.setAttribute('data-x', origPos.x);\n            e.target.setAttribute('data-y', origPos.y);\n            e.target.style.webkitTransform = e.target.style.transform = 'translate(' + origPos.x + 'px, ' + origPos.y + 'px)';\n          }\n        }).on('up', e => {\n          this.rowClick(e);\n        })\n    }\n    else{\n      interact('#' + this.rowId).on('up', e => {\n        this.rowClick(e);\n      })\n    }\n    \n    //setup row events listeners and current animations (if scrolled off screen)\n    if(this.item.type === 'sample'){\n      let eleAnimDiv = document.querySelector('#' + this.rowId + ' div.divRowAudioPlaying');\n      if(eleAnimDiv)\n        eleAnimDiv.addEventListener('animationend', this.rowAnimationEnded); \n\n      if(this.item.tStart){\n        let tNow = new Date().getTime();\n        let tDelta = (this.item.tStart - tNow) / 1000;\n  \n        let prevEleAnim = document.querySelector('.itemSelected .divRowAudioPlaying');\n        if(prevEleAnim){\n          prevEleAnim.style.animation = 'progressWidth ' + browsePlayer.buffer.duration + 's linear';\n          prevEleAnim.style.animationDelay = tDelta + 's';\n        }\n      }\n    }\n  }\n\n  componentWillUnmount(){\n    interact('#' + this.rowId).unset();\n\n    let eleAnimDiv = document.querySelector('#' + this.rowId + ' div.divRowAudioPlaying');\n    if(eleAnimDiv)\n      eleAnimDiv.removeEventListener('animationend', this.rowAnimationEnded); \n  }\n\n  rowAnimationEnded = (e) => {\n    browsePlayerStop(this.item, e.target);\n  }\n\n  selectRow = (e) => {\n    //check existing selection\n    let ele = document.getElementById('divListBrowseContainer_' + this.browserId).querySelector('.itemSelected');\n    if(ele){\n      //remove existing row item with selected styling\n      if(ele.id !== e.target.id){        \n        let loadIcon = ele.querySelector('.divListItemLoadingIcon')\n        if(loadIcon)\n          loadIcon.style.display = 'none';\n        \n        ele.classList.remove('itemSelected');\n      }\n      //stop animation if present\n      let prevEleAnim = ele.querySelector('.divRowAudioPlaying');\n      if(prevEleAnim){\n        prevEleAnim.style.animation = 'none';\n      }\n    }\n    //add selected style to current row item\n    if(!e.target.classList.contains('itemSelected')){\n      e.target.classList.add('itemSelected');\n    }\n  }\n\n  rowClick = (e) => {\n    let item = this.item;\n\n    if(!bBrowseMenuLoading){\n      this.selectRow(e);\n\n      //reset selected items in list\n      if(!item.selected){\n        this.props.data.list.filter(row => row.selected === true).forEach(r => { \n          r.selected = false;\n          r.tStart = undefined;\n        });\n      }\n\n      //actions and toggles depending on type\n      if(item.folder){\n        let newDir = (item.dir + '/' + item.name).replace('//','/');\n        changeBrowseMenu(newDir, this.browserId);\n        toggleBrowseBtnLoad(item, this.browserId);\n      }\n      else if(item.type === 'song'){\n        item.selected = true;\n        store.ui.toolbar.browser[this.browserId].selectFile(item.name);\n        toggleBrowseBtnLoad(item, this.browserId);\n      }\n      else if(item.type === 'instrument' || item.type === 'source' || item.type === 'effect' || item.type === 'component'){\n        item.selected = true;\n        store.ui.toolbar.browser[this.browserId].selectFile(item.name);\n        toggleBrowseBtnLoad(item, this.browserId);\n      }\n      else if(item.type === 'sample'){\n        if(item.name === '...Import' || item.name === '...Folder' || item.name === '...Record'){\n          item.selected = true;\n          store.ui.toolbar.browser[this.browserId].selectFile(item.name);\n          toggleBrowseBtnLoad(item, this.browserId);\n        }\n        else{\n          let eleAnim = e.target.querySelector('.divRowAudioPlaying');\n          let url = item.dir + '/' + item.name;\n\n          //if same row already selected\n          if(item.selected){\n            if(browsePlayer.state === 'started'){\n              browsePlayerStop(item, eleAnim)\n            }\n            else if(browsePlayer.loaded && browsePlayer.state === 'stopped'){\n              browsePlayerStart(item, eleAnim, e.target);\n            }\n            else{\n              browsePlayer.load(url).then(() => {\n                if(url === store.ui.toolbar.browser[this.browserId].selectedFile)\n                  browsePlayerStart(item, eleAnim, e.target);\n              });\n            }\n          }\n          //diff row selected\n          else{\n            item.selected = true;\n            store.ui.toolbar.browser[this.browserId].selectFile(item.name);\n\n            browsePlayerStop(item, e.target);\n            browsePlayer.buffer.dispose();\n\n            //samples folder. audio already saved to DB\n            if(url.substr(0,8) === '/Samples'){\n              store.DBLoadAudioFile(item.name).then(result => {\n                if(result){\n                  if(result.data){\n                    if(result.data instanceof Blob){\n                      let blobUrl = window.URL.createObjectURL(result.data);\n                      browsePlayer.load(blobUrl).then(() => {\n                        if(url === store.ui.toolbar.browser[this.browserId].selectedFile)\n                          browsePlayerStart(item, eleAnim, e.target);\n                        \n                        window.URL.revokeObjectURL(blobUrl);\n                      });\n                    }\n                    else if (Array.isArray(result.data) || result.data instanceof Float32Array) {\n                      browsePlayer.buffer.fromArray(result.data)\n                      if(url === store.ui.toolbar.browser[this.browserId].selectedFile)  \n                        browsePlayerStart(item, eleAnim, e.target);\n                    }\n                  }\n                }\n              })\n            }\n            //Library folder - load audio\n            else{\n              e.target.querySelector('.divListItemLoadingIcon').style.display = 'block';\n\n              store.DBLoadAudioFile(url).then(result => {\n                if(result){\n                  if(result.data){\n                    if(result.data instanceof Blob){\n                      let blobUrl = window.URL.createObjectURL(result.data);\n                      browsePlayer.load(blobUrl).then(() => {\n                        if(url === store.ui.toolbar.browser[this.browserId].selectedFile)\n                          browsePlayerStart(item, eleAnim, e.target);\n\n                        window.URL.revokeObjectURL(blobUrl);\n                      });\n                    }\n                    else if (Array.isArray(result.data) || result.data instanceof Float32Array) {   \n                      browsePlayer.buffer.fromArray(result.data);\n                      if(url === store.ui.toolbar.browser[this.browserId].selectedFile)\n                        browsePlayerStart(item, eleAnim, e.target);\n                    }\n                  }\n                }\n                else{\n                  browsePlayer.load(url).then(() => {\n                    //save as blob because toArray is empty during load above on FF\n                    audioBufferToWav(browsePlayer.buffer.get()).then(blob => {\n                      store.DBSaveAudioFile({\n                        id: url,\n                        url: url,\n                        duration: browsePlayer.buffer.duration,\n                        data: blob\n                      }).then(() => {\n                        if(url === store.ui.toolbar.browser[this.browserId].selectedFile)\n                          browsePlayerStart(item, eleAnim, e.target);\n                      });\n                    });\n                  });\n                }\n              })\n            }\n          }\n\n          toggleBrowseBtnLoad(item, this.browserId);\n        }\n      }\n    }\n  }\n\n  render() {\n    const { data, index, style } = this.props;\n    this.item = data.list[index];\n    this.browserId = data.browserId;\n\n    let text, loadIcon, item = this.item, title = item.name;\n\n    let classSelected = '', showLoadIcon = 'none';\n    if(item.dir + '/' + item.name === store.ui.toolbar.browser[this.browserId].selectedFile){\n      classSelected = ' itemSelected';\n\n      if(item.type === 'sample' && !browsePlayer.loaded && item.name !== '...Import' && item.name !== '...Record'){\n        showLoadIcon = 'block';\n      }\n    }\n\n    if(item.folder || item.type !== 'sample'){\n      let iconType = 'audiotrack';\n\n      if(item.folder)\n        iconType = 'folder_open';\n      else if(item.type === 'effect')\n        iconType = 'settings_input_component';\n      else if(item.type === 'component')\n        iconType = 'equalizer';\n      else if(item.type === 'source')\n        iconType = 'waves';\n      else if(item.type === 'song'){\n        iconType = '';\n\n        if(item.name === store.settings.key || item.name === store.settings.swingSubdivision || item.name === store.settings.scale)\n          iconType = 'check_box';\n        else if(item.name === 'Save' && store.settings.modified)\n          title = title + ' (' + new Date(store.settings.modified).toLocaleTimeString('en-US') + ')';\n          \n      }\n\n      text =  <div style={{pointerEvents: 'none'}}>\n                <i className='material-icons menuIcon'>{iconType}</i>\n                <label className='lblMain'>{title}</label>\n              </div>\n    }\n    else{\n      let tokens = item.name.split(' - ');\n      text =  <div style={{pointerEvents: 'none'}}>\n                <div className='divRowAudioPlaying'></div>\n                <label className='lblArtist'>{tokens[0]}</label>\n                <label className='lblSong'>{tokens[1]}</label>\n              </div>\n\n      loadIcon = <div className='divListItemLoadingIcon' style={{display:showLoadIcon}}>\n                    <div className=\"la-ball-spin-clockwise-fade-rotating la-sm\">\n                      <div></div>\n                      <div></div>\n                      <div></div>\n                      <div></div>\n                      <div></div>\n                      <div></div>\n                      <div></div>\n                      <div></div>\n                    </div>\n                  </div>\n    }\n\n    if(!this.rowId)\n      this.rowId = 'ListBrowse_' + this.browserId + '_row_' + randomId();\n\n    return (\n      <div id={this.rowId} className={'ListItem' + classSelected} style={style}>\n        { text }\n        { loadIcon }\n      </div>\n    )\n  }\n}\n\nexport const ListBrowser = observer(class ListBrowser extends Component {\n  list = [];\n  currDir;\n\n  componentDidMount(){}\n  componentDidUpdate(prevProps){\n    if(prevProps.selectedDir !== this.props.selectedDir){\n      browsePlayer.stop();\n    }\n    /* \n    if(prevProps.selectedFile !== this.props.selectedFile && this.props.selectedFile){\n      let item = this.list.find(i => i.selected === true && i.name === this.props.selectedFile);\n    }\n    */\n\n    //disable/enable load button for Master group selection\n    if(prevProps.selectedGroup !== 'M' && this.props.selectedGroup === 'M'){\n      disableBrowseBtnClick(true, this.props.id);\n    }\n    if(prevProps.selectedGroup === 'M' && this.props.selectedGroup !== 'M'){\n      let item = this.list.find(i => i.selected === true);\n      if(item){\n        toggleBrowseBtnLoad(item, this.props.id);\n      }\n    }\n  }\n\n  btnMainClick = (e) => {\n    browsePlayer.stop();\n    \n    this.list = [];\n    changeBrowseMenu('/', this.props.id)\n  }\n\n  btnBackClick = (e) => {\n    browsePlayer.stop();\n\n    let tokens = store.ui.toolbar.browser[this.props.id].selectedDir.split('/').filter(t => t !== '');\n    let strDir = '';\n\n    if(tokens.length > 0){\n      tokens.forEach((token, idx) => {\n        if(idx < tokens.length - 1)\n          strDir += '/' + token;\n      }) \n    }\n\n    if(!strDir)\n      strDir = '/';\n\n    changeBrowseMenu(strDir, this.props.id);\n  }\n\n  btnLoadClick = (e) => {\n    let item = this.list.find(i => i.selected === true);\n    if(item){\n      if(!bBrowseMenuLoading){\n        if(!item.folder){\n          let eleList = document.getElementById('divListBrowseContainer_' + this.props.id);\n          if(item.type === 'sample'){\n            browsePlayer.stop();\n            let eleRow = eleList.querySelector('.itemSelected div.divRowAudioPlaying');\n            if(eleRow)\n              eleRow.style.animation = 'none';\n          }\n          procBrowseItem(item, this.props.id);\n        }\n      }\n    }\n  }\n\n  filterSection = (dir) => {\n    this.list = [];\n    let type = 'sample';\n\n    if(dir === '/Instruments' || dir === '/Components' || dir === '/Effects' || dir === '/Sources')\n      type = dir.replace('/', '').slice(0, -1).toLowerCase();\n    else if(dir.split('/')[1] === 'Song')\n      type = dir.split('/')[1].toLowerCase();\n  \n    newfileTree[dir].folders.forEach(folder  => {\n      this.list.push({name: folder, type: type, folder: true, dir: dir, selected: false, tStart: undefined})\n    })\n\n    newfileTree[dir].files.forEach(file => {\n      this.list.push({name: file, type: type, folder: false, dir: dir, selected: false, tStart: undefined})\n    })\n\n    if(dir === '/Samples'){\n      type = 'sample';\n      store.getAllSamples.forEach(s => {\n        this.list.push({name: s.id, type: type, folder: false, dir: dir, selected: false, tStart: undefined})\n\n        s.regions.forEach(r => {\n          this.list.push({name: r.id, type: type, folder: false, dir: dir, selected: false, tStart: undefined})\n        })\n      })\n    }\n  }\n\n  importFile = (e) => {\n    let file = e.target.files[0];\n  \n    if(file){\n      if(file.type.split('/')[0] === \"audio\"){\n       // let fileName = file.name;\n        let sampleId = 'sample_' + randomId();\n        //let sampleUrl = '/';\n        //let sampleSize = file.size;\n        \n        store.DBSaveAudioFile({\n          id: sampleId,\n          url: '',\n          duration: undefined,\n          data: file\n        }).then(() => {\n          store.addSample(sampleId, '', undefined, [], undefined);\n        });\n      }\n    }\n  }\n  \n  render() {\n    if(this.currDir !== this.props.selectedDir || this.props.selectedDir === '/Samples'){\n      this.currDir = this.props.selectedDir;\n      this.filterSection(this.props.selectedDir);\n    }\n\n    let list = this.list;\n    let browserId = this.props.id;\n\n    return (\n      <div className='divBrowseMainContainer'>\n        <div id={'divBrowseHdr_' + browserId} className='divListBrowseHdrContainer'>\n          <button id={'btnBrowseBack_' + browserId} className='btnBrowseHdrIcon btnBrowseBack' onClick={this.btnBackClick}>\n            <i className='material-icons'>arrow_back</i>\n          </button>\n          <button id={'btnBrowseLoad_' + browserId} className='btnBrowseHdrIcon btnBrowseLoad' onClick={this.btnLoadClick}>\n            <i className='material-icons'>open_in_browser</i>\n          </button>\n          <button id={'btnBrowseHome_' + browserId} className='btnBrowseHdrIcon btnBrowseHome' onClick={this.btnMainClick}>\n            <i className='material-icons'>home</i>\n          </button>\n\n          <input id={\"inputFile_\" + browserId} type=\"file\" accept=\"audio/*\" onChange={this.importFile} multiple style={{display:'none'}}/>\n          <input id={\"inputFolder_\" + browserId} type=\"file\" accept=\"audio/*\" onChange={this.importFolder} multiple mozdirectory=\"\" webkitdirectory=\"\" directory=\"\" style={{display:'none'}}/>\n          {/* \n            <button id='btnBrowseSearch' className='btnBrowseHdrIcon' onClick={this.btnBackClick}>\n              <i className='material-icons'>search</i>\n            </button>\n          \n            <input id='inputSearch' onInput={this.onInput} style={{float:'right'}}></input>\n            <button style={{float:'right'}} onClick={this.loadClick}>LOAD</button> \n          */}\n        </div>\n        <div id={'divListBrowseContainer_' + browserId} className='divBrowseListContainer'>\n          <AutoSizer>\n            {({ height, width }) => (\n              <List\n                className='List'\n                height={height}\n                itemCount={this.list.length}\n                itemData={{list, browserId}}\n                itemSize={35}\n                width={width} \n              >\n              {Row}\n              </List>\n            )}\n          </AutoSizer>\n        </div>\n      </div>\n    );\n  }\n})","import React from 'react';\n\nexport const ToolHome = props => {\n    return(\n      <div id=\"divToolHome\" className=\"divToolRowPanelContainer\" style={{color:'white', height:'100%', width:'100%'}}>\n        <iframe title=\"MainVideo\" src=\"https://blbeats.blapps.lol/2022_06_08_13_44_16.mp4\" \n          frameBorder=\"0\" allow=\"accelerometer; encrypted-media; gyroscope; picture-in-picture\" allowFullScreen \n            style={{height:'100%', width:'100%', display:'table', margin:'0 auto'}}></iframe>\n      </div>\n    )\n  }","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport { store } from \"../../../data/store.js\";\nimport { Scale, Chord } from \"tonal\";\nimport { ToneObjs } from \"../../../models/models.js\";\nimport noUiSlider from 'nouislider';\n\nexport const ToolSynth = observer(class ToolSynth extends Component {\n    arrayOctave;\n    mouseDown;\n    bTouched;\n    selectedKey;\n    arrayChords;\n    selectedChord;\n    slider;\n    ongoingTouches = [];\n  \n    componentDidMount(){\n      this.mouseDown = false;\n      this.setupKeys();\n      this.setupSlider();\n    }\n  \n    componentDidUpdate(prevProps, prevState, snapshot){\n      this.setupKeys();\n  \n      //don't update if the height changed\n      if(prevProps.height === this.props.height)\n        this.setupSlider();\n    }\n    componentWillUnmount(){\n      if(this.slider)\n        this.slider.noUiSlider.destroy();\n    }\n  \n    setupKeys = (keys) => {\n      let rows = document.getElementsByClassName('divSynthRow');\n  \n      for(let k=0; k<rows.length; k++){\n  \n        let eles = rows[k].getElementsByClassName('divSynthKey');\n        for(let i=0; i< eles.length; i++){\n          eles[i].innerHTML = eles[i].id; \n  \n          if(Chord.notes(eles[i].id, this.selectedChord).length > 0 || !this.selectedChord){\n            eles[i].style.visibility = 'visible';\n  \n            if(store.ui.selectedKey === eles[i].id){\n              eles[i].style.backgroundColor = '#181f87';\n            }\n            else if(this.arrayOctave[i].length >= 2){\n              eles[i].style.backgroundColor = 'black';\n            }\n            else{\n              eles[i].style.backgroundColor = 'white';\n            }\n          }\n          else{\n            eles[i].style.visibility = 'hidden';\n          }\n        }\n      }\n    }\n\n    copyTouch = (touch) => {\n      return { identifier: touch.identifier, pageX: touch.pageX, pageY: touch.pageY, element: touch.target};\n    }\n\n    ongoingTouchIndexById = (idToFind) => {\n      for (let i = 0; i < this.ongoingTouches.length; i++) {\n       // console.log(this.ongoingTouches[i]);\n        let id = this.ongoingTouches[i].identifier;\n        \n        if (id === idToFind) {\n          return i;\n        }\n      }\n      return -1;    // not found\n    }\n\n    cancelTouchEvent = (e) => {\n      e.preventDefault();\n\n      let touches = e.changedTouches;\n      for (var i = 0; i < touches.length; i++) {\n        let idx = this.ongoingTouchIndexById(touches[i].identifier);\n        this.noteOff(this.ongoingTouches[idx].element, false);\n        this.ongoingTouches.splice(idx, 1);  // remove it; we're done\n      }\n    }\n  \n    keyDown = (e, dragged) => {\n      e.preventDefault();\n\n      if(e.changedTouches){\n        let touches = e.changedTouches;\n        if(!dragged){\n          this.bTouched = true;\n          for (let i = 0; i < touches.length; i++) {\n            this.noteOn(touches[i].target, dragged);\n            this.ongoingTouches.push(this.copyTouch(touches[i]));\n          }\n        }\n        else{\n          for (let i = 0; i < touches.length; i++) {\n            let idx = this.ongoingTouchIndexById(touches[i].identifier);\n            if(idx >= 0){\n              this.noteOn(this.ongoingTouches[idx].element, dragged)\n            }\n          }\n        }\n      }\n      else{\n        if(!dragged){\n          this.mouseDown = true;\n        }\n        this.noteOn(e.target, dragged)\n      }\n    }\n    \n    keyUp = (e, dragged) => {\n      e.preventDefault();\n\n      if(e.changedTouches){\n        if(!dragged){\n          this.bTouched = false;\n  \n          for (let i = 0; i < e.changedTouches.length; i++) {\n            let idx = this.ongoingTouchIndexById(e.changedTouches[i].identifier);\n            if(idx >= 0){\n              this.noteOff(this.ongoingTouches[idx].element, dragged);\n              this.ongoingTouches.splice(idx, 1);  // remove it; we're done\n            }\n          }\n        }\n        else{\n          for (let i = 0; i < e.changedTouches.length; i++) {\n            let idx = this.ongoingTouchIndexById(e.changedTouches[i].identifier);\n            if(idx >= 0){\n              this.noteOff(this.ongoingTouches[idx].element, dragged)\n            }\n          }\n        }\n      }\n      else{\n        if(!dragged){\n          this.mouseDown = false;\n        }\n        this.noteOff(e.target, dragged);\n      }\n    }\n  \n    mouseLeaveKey = (e) => {\n      e.preventDefault();\n  \n      if(this.mouseDown && !this.bTouched)\n        this.keyUp(e, true);\n    }\n  \n    mouseLeaveContainer = (e) => {\n      e.preventDefault();\n  \n      if(this.mouseDown && !this.bTouched){\n        this.mouseDown = false;\n        this.keyUp(e, true);\n        //this.mouseDown = false;\n      }\n    }\n  \n    mouseEnterKey = (e) => {\n      e.preventDefault();\n    \n      if(this.mouseDown && !this.bTouched){\n        this.keyDown(e, true);\n      }\n    }\n  \n    touchMove = (e) => {\n      e.preventDefault(); //prevents offset on ios safari\n\n      let touches = e.changedTouches;\n\n      for (let i = 0; i < touches.length; i++) {\n        let idx = this.ongoingTouchIndexById(touches[i].identifier);\n    \n        if (idx >= 0) {\n          let hoverKey = document.elementFromPoint(touches[i].pageX, touches[i].pageY);\n    \n          if(this.ongoingTouches[idx].element && hoverKey){\n            if(this.ongoingTouches[idx].element.id !== hoverKey.id && hoverKey.parentNode.className === \"divSynthRow\"){\n              this.keyUp(e, true);\n              this.ongoingTouches[idx].element = hoverKey;\n              this.keyDown(e, true);\n            }\n          }\n        }\n      }\n    }\n\n    noteOff = (ele, dragged) => {\n      let notes = [];\n    \n      if(!this.selectedChord)\n        notes[0] = ele.id;\n      else\n        notes = ele.dataset.notes.split(',');\n      \n      if(this.props.selectedTrack){\n        ToneObjs.trackInstNoteOff(this.props.selectedTrack.id, notes, this.mouseDown)\n      }\n\n      //reset color\n      if(dragged){\n        if(ele.id.length > 2)\n          ele.style.backgroundColor = 'black';\n        else\n          ele.style.backgroundColor = 'white';\n      }\n      else{\n        if(store.ui.selectedKey === ele.id)\n          ele.style.backgroundColor = '#181f87';\n      }\n    }\n\n    noteOn = (ele, dragged) => {\n      let notes = [];\n      \n      if(!this.selectedChord)\n        notes[0] = ele.id;\n      else\n        notes = ele.dataset.notes.split(',');\n\n      if(this.props.selectedTrack){\n        ToneObjs.trackInstNoteOn(this.props.selectedTrack.id, notes);\n      }\n\n      ele.style.backgroundColor = '#2671ea';//'#181f87';\n      \n      //reset previous selectedkey color\n      if(store.ui.selectedKey){\n        if(store.ui.selectedKey !== ele.id){\n          let key = document.getElementById(store.ui.selectedKey);\n          if(key){\n            if(key.id.length > 2)\n              key.style.backgroundColor = 'black';\n            else\n              key.style.backgroundColor = 'white';\n          }\n        }\n      }\n   \n      //set note value\n      if(store.ui.selectedNote && !store.ui.views.edit.multiNoteSelect){\n        store.ui.selectedNote.setNote(notes)\n      }\n      else if(store.ui.views.edit.multiNoteSelect){\n        store.ui.views.edit.selectedNotes.forEach(id => {\n          store.getNotesByTrack(store.ui.selectedTrack.id).filter(n => n.id === id).forEach(note => {\n            note.setNote(notes);\n          })\n        })\n      }\n       \n      //hacky way to trigger when same key is set to trackview\n      if(store.ui.selectedKey === notes[0])\n        store.ui.selectKey('');\n   \n      store.ui.selectKey(notes[0]);\n    }\n  \n    setupSlider = () => {\n      let self = this;\n  \n      if(!this.slider){\n        this.slider = document.getElementById('sliderToolChorus');\n  \n        let chordIdx = this.arrayChords.indexOf(store.ui.selectedChord);\n        if(chordIdx > -1)\n          self.selectedChord = this.arrayChords[chordIdx]\n        else\n          self.selectedChord = 'none';\n  \n        let maxChords = 1;\n        if(this.arrayChords.length > 0){\n          maxChords = this.arrayChords.length;\n          this.slider.disabled = false;\n        }\n        else {\n          this.slider.disabled = true;\n        }\n      \n        noUiSlider.create(this.slider, {\n          start: self.selectedChord,\n          step: 1,\n          range: {\n              'min': 0,\n              'max': maxChords\n          },\n          /*\n          pips: {\n            mode: 'steps',\n            density: 100/maxChords\n          },\n          */\n          tooltips: true,\n          format: {\n            to: function (value) {\n              let val = parseInt(value, 10)\n              if(val) \n                return self.arrayChords[val-1]\n              else\n                return 'none'\n            },\n            from: function (value) {\n              return self.arrayChords.indexOf(value) + 1;\n            }\n        }\n        });\n  \n        this.slider.noUiSlider.on('update', function ( values, handle ) {\n          let val = values[handle];\n          if(val === \"none\")\n            val = undefined;\n  \n          if(self.selectedChord !== val){\n            self.selectedChord = val;\n  \n            if(store.ui.selectedChord !== self.selectedChord)\n              store.ui.selectChord(self.selectedChord);\n          }\n        });\n\n        //move tooltip up & down on start/end\n        let eleToolTip = document.querySelector('#sliderToolChorus .noUi-tooltip');\n\n        this.slider.noUiSlider.on('start', () => {\n          eleToolTip.style.bottom = '34px';\n        })\n        this.slider.noUiSlider.on('end', () => {\n          eleToolTip.style.bottom = '3px';\n        })\n      }\n      else{\n          let maxChords = 1;\n          if(this.arrayChords.length > 0){\n            maxChords = this.arrayChords.length;\n            this.slider.disabled = false;\n          }\n          else {\n            this.slider.disabled = true;\n          }\n  \n          this.slider.noUiSlider.updateOptions({range: {'min': 0,'max': maxChords}});\n      }\n    }\n  \n    render(){\n      let self =  this;\n      \n      if(this.arrayOctave !== Scale.notes(this.props.scaleKey, this.props.scale))\n        this.arrayOctave = Scale.notes(this.props.scaleKey, this.props.scale);\n      \n      //TODO: 64 chord notes don't contain key note in array...\n      if(this.arrayChords !== Scale.chords(this.props.scale).filter(c => c !== \"64\"))\n        this.arrayChords = Scale.chords(this.props.scale).filter(c => c !== \"64\");\n      \n      let height = this.props.height.replace('px','');\n      let numRows = Math.floor(height / 50);\n  \n      //TODO: only update if rows change?\n      if(numRows === 0)\n        numRows = 1;\n      else if(numRows > 8)\n        numRows = 8;\n  \n      let rows = [];\n  \n      //this could be improved\n      let startRow = 3;\n      if(numRows >= 2)\n        startRow = 2;\n      if(numRows >= 4)\n        startRow = 1;\n      if(numRows >= 6)\n        startRow = 0;\n      \n      for(let i=0; i<numRows; i++){\n        rows.push(\n            Scale.notes(this.props.scaleKey + (i + startRow), this.props.scale).map((note, index) => \n            <div key={index} id={note} className=\"divSynthKey\" data-notes={Chord.notes(note, this.selectedChord)} style={{touchAction: 'manipulation', width: (100 / self.arrayOctave.length) + '%', color:'gray',  textAlign:'center'}}\n              onMouseDown={this.keyDown} onMouseUp={this.keyUp} \n              onTouchStart={this.keyDown} onTouchEnd={this.keyUp} \n              onTouchCancel={this.cancelTouchEvent} \n              onMouseEnter={this.mouseEnterKey} onMouseLeave={this.mouseLeaveKey} >\n            </div>\n          ) \n        )\n      }\n  \n      return(\n        <div id=\"divToolSynth\" className=\"divToolRowPanelContainer\">\n          <div id=\"divToolSynthHeader\" style={{height:'30px', width:'100%', backgroundColor:'darkgray'}}>\n            <div id='sliderToolChorus'></div>\n          </div>\n          <div id=\"divSynthContainerKeys\" onTouchMove={this.touchMove} onMouseLeave={this.mouseLeaveContainer} style={{width:'100%', height:'calc(100% - 30px)'}}>\n            { rows.map((row, index) => <div key={index} className=\"divSynthRow\" style={{height: (100/numRows) + '%', width:'100%'}}>{row}</div>) }\n          </div>\n        </div>\n      )\n    }\n  })","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport * as Tone from \"tone\";\nimport { store } from \"../../../../data/store.js\";\nimport { ToneObjs, randomId } from \"../../../../models/models.js\";\nimport WaveSurfer from 'wavesurfer.js';\nimport RegionsPlugin from 'wavesurfer.js/dist/plugin/wavesurfer.regions.min.js';\n\nexport const ToolSampleEditor = observer(class ToolSampleEditor extends Component {\n    sample;\n    bSelect;\n    zoomVal;\n    selectedRegion;\n    sampleId;\n  \n    componentDidMount(){\n      this.drawAudio();\n    }\n  \n    componentDidUpdate(prevProps){\n      if(prevProps.selectedGroup !== 'M' && this.props.selectedGroup === 'M'){\n        this.toggleSelectDisable(true);\n      }\n      if(prevProps.selectedGroup === 'M' && this.props.selectedGroup !== 'M'){\n        this.toggleSelectDisable(false);\n      }\n\n      if(prevProps.objId !== this.props.objId || prevProps.file !== this.props.file){\n        this.sample.destroy();\n        this.drawAudio();\n      }\n\n      //reset zoom when toolbar changed (fixes bug where waveform doesn't fill container)\n      if((prevProps.selectedToolbar !== this.props.selectedToolbar && (this.props.selectedToolbar === 'editor1' || this.props.selectedToolbar === 'editor2')) \n        || (prevProps.winWidth !== this.props.winWidth)){\n        if(this.sample){\n          if(this.sample.getDuration()){\n            let zoom = store.ui.windowWidth / this.sample.getDuration();\n            this.sample.zoom(zoom);\n          }\n        }\n      }\n  \n      if(store.ui.viewMode === 'button' || store.ui.viewMode === 'sequencer'){\n        if(prevProps.selectedTrack !== this.props.selectedTrack){\n          if(this.props.selectedTrack){\n            let region = this.props.selectedTrack.region;\n            if(region){\n              if(this.selectedRegion){\n                if(this.selectedRegion.id !== region.id)\n                  this.selectRegion(region.id);\n              }\n              else{\n                this.selectRegion(region.id);\n              }\n            }\n          }\n        }\n      }\n    }\n  \n    drawAudio = () => {\n      let sampleId;\n      \n      if(this.props.objId.split('_')[0] === 'sample')\n        sampleId = this.props.objId;\n      else if(this.props.objId === \"player_\" || this.props.objId.split('_')[0] === 'record')\n        sampleId = this.props.file;\n      else\n        sampleId = store.instruments.getInstrumentByTypeId('player', this.props.objId).sample.id;\n  \n      this.sampleId = sampleId;\n      \n      if(sampleId){\n        document.getElementById('btnDelRegion').disabled = true;\n  \n        this.sample = WaveSurfer.create({\n          container: '#waveform',\n          responsive: true,\n          waveColor: '#ff3c00',\n          progressColor: '#ff6000',\n          //audioContext: Tone.context,\n          partialRender: true,\n          scrollParent: true,\n          //forceDecode: true,\n          //pixelRatio: 1,\n          //minPxPerSec: 50,\n          //fillParent: true,\n          plugins: [\n            /*\n            TimelinePlugin.create({\n                container: '#timeline'\n            }),\n            */\n            RegionsPlugin.create({})\n          ]\n          \n        });\n  \n       // let sampleLength = 0;\n        let storeSample = null;\n        let self = this;\n        let s = this.sample;\n  \n        store.DBLoadAudioFile(sampleId).then(function(result){\n          if (Array.isArray(result.data) || result.data instanceof Float32Array) {\n            let buffer = new Tone.Buffer().fromArray(result.data);\n  \n            if(!store.getSample(sampleId))\n              store.addSample(sampleId, sampleId, buffer.length, [], buffer.duration);\n          \n            self.sample.loadDecodedBuffer(buffer.get());\n  \n            buffer.dispose();\n          }\n          else{\n            if(!store.getSample(sampleId))\n              store.addSample(sampleId, result.data.name, result.data.length, [], result.duration);\n  \n            self.sample.loadBlob(result.data)\n          }\n        })\n  \n        this.ensureWaveIsReady(this.sample).then(function(){\n          document.getElementById('divEditorSampleLoading').style.display = 'none';\n        });\n  \n        this.sample.on('ready', function () {\n          self.sample.isReady = true;\n\n          //set zoom range vals pxPerSec\n          const minZoom = store.ui.windowWidth / self.sample.getDuration();\n          const maxZoom = store.ui.windowWidth; // 1s width\n          const eleZoom = document.getElementById('sampleEditorZoomSlider');\n          if(eleZoom){\n            eleZoom.min = minZoom;\n            eleZoom.max = maxZoom;\n            eleZoom.value = minZoom;\n          }\n  \n          storeSample = store.getSample(sampleId);\n          storeSample.regions.forEach(function(region){\n            s.addRegion({id: region.id, start: region.start, end: region.end});\n          });\n\n          if(self.sample.getDuration() < 2.5 && storeSample.regions.length === 0){\n            s.addRegion({id: 'region_' + randomId(), start: 0, end: self.sample.getDuration()});\n          }\n  \n          if(store.ui.selectedTrack)\n            if(store.ui.selectedTrack.region)\n              self.selectRegion(store.ui.selectedTrack.region.id)\n  \n          if(!self.bSelect)\n            self.toggleSelect();\n          else\n            self.sample.enableDragSelection({})\n        });\n  \n        this.sample.on('region-created', function(region) {\n          self.selectRegion(region.id);\n          let trackId = null;\n          let regionTrack = store.getTrackBySampleRegion(sampleId, region.id)\n            \n          if(!regionTrack)\n            trackId = 'track_' + randomId();\n          else\n            trackId = regionTrack.id;\n\n          if(!storeSample.getRegion(region.id)){\n            region.id = 'region_' + randomId();\n            storeSample.addRegion(region.id, sampleId, region.start, region.end);\n          }\n\n          region.on('update-end', function(e) {\n            let regionLength = region.end - region.start;\n  \n            if(regionLength > 0){\n              let r = storeSample.getRegion(region.id);\n    \n              if(store.getTrack(trackId)){\n                //region changed, set buffer and save to DB\n                if(r.start !== region.start || r.end !== region.end){\n                  let regionBuffer = new Tone.Buffer(s.backend.buffer).slice(region.start, region.end);\n  \n                  let playerId = store.instruments.getPlayerByTrack(trackId).id;\n                  ToneObjs.instruments.find(inst => inst.id === playerId).obj.buffer.set(regionBuffer);\n                  r.setRegions(region.start, region.end);\n  \n                  store.DBSaveAudioFile({\n                    id: region.id,\n                    url: '',\n                    duration: regionBuffer.duration,\n                    data: regionBuffer.toArray()\n                  }).then(() => {\n                    regionBuffer.dispose();\n                  });\n                }\n              }\n              else{\n                //New region, save to DB\n                r.setRegions(region.start, region.end);\n  \n                let regionBuffer = new Tone.Buffer(s.backend.buffer).slice(region.start, region.end);\n                store.DBSaveAudioFile({\n                  id: region.id,\n                  url: '',\n                  duration: regionBuffer.duration,\n                  data: regionBuffer.toArray()\n                }).then(() => {\n                  store.addTrack(trackId, 'audio', false, false, sampleId, region.id);\n                  regionBuffer.dispose();\n                });\n              }\n            }\n          })\n\n          //fire update end to create track\n          if(self.sample.getDuration() < 2.5 && storeSample.regions.length === 1){\n            const storeRegion = storeSample.getRegion(region.id);\n            if(storeRegion){\n              if(storeRegion.start === 0 && storeRegion.end === self.sample.getDuration()){\n                region.handlers['update-end'][0]();\n              }\n            }  \n          }\n\n        });\n  \n        this.sample.on('region-click', function(region){\n          self.selectedRegion = region;\n\n          let eles = document.getElementsByClassName(\"wavesurfer-region-selected\");\n          for(let i=0; i < eles.length; i++)\n            eles[i].className = \"wavesurfer-region\";\n          \n          region.element.className = \"wavesurfer-region-selected\";\n          document.getElementById('btnDelRegion').disabled = false;\n          document.getElementById('iconSampleDelete').style.opacity = \"1\";\n          \n          let track = store.getTrackBySampleRegion(self.sampleId, region.id);\n          if(track){\n            store.ui.selectTrack(track.id);\n          }\n        })\n  \n        this.sample.on('region-updated', function(region){\n          if(self.selectedRegion !== region){\n            self.selectedRegion = region;\n\n            let eles = document.getElementsByClassName(\"wavesurfer-region-selected\");\n            for(let i=0; i < eles.length; i++)\n              eles[i].className = \"wavesurfer-region\";\n  \n            region.element.className = \"wavesurfer-region-selected\";\n            document.getElementById('btnDelRegion').disabled = false;\n            document.getElementById('iconSampleDelete').style.opacity = \"1\";\n          }\n\n          let track = store.getTrackBySampleRegion(self.sampleId, region.id);\n          if(track){\n            store.ui.selectTrack(track.id);\n          }\n        })\n  \n        this.sample.on('loading', function(progress, obj){\n        })\n  \n        this.sample.on('finish', function () {\n          document.getElementById(\"iconSamplePlay\").innerHTML = \"play_arrow\";\n        });\n  \n        this.sample.on('zoom', function (zoom) {\n          self.zoomVal = zoom;\n        });\n      }\n    }\n  \n    //simulate click when selectedTrack changes (gridbutton is clicked)\n    selectRegion = (id) => {\n      let dataId;\n      let sample = this.sample;\n  \n      if(sample){\n        Object.keys(sample.regions.list).forEach(function(region){\n          if(region === id){\n            dataId = sample.regions.list[region].element.dataset.id;\n          }\n        });\n        let all = document.getElementsByTagName(\"region\");\n        for (let i=0, max=all.length; i < max; i++) {\n          if(dataId === all[i].getAttribute('data-id')){\n            all[i].click();\n          }\n        }\n      }\n    }\n  \n    delRegion = (id) => {\n      //track deleted(region) , update sample editor region\n      if(typeof(id) === \"string\" && this.sample){\n        this.sample.regions.list[id].remove();\n      }\n      //delete button click on editor\n      else {\n        if(this.selectedRegion && this.sampleId){\n          store.delTrack(store.getTrackBySampleRegion(this.sampleId, this.selectedRegion.id).id);\n          this.selectedRegion.remove();\n          document.getElementById('btnDelRegion').disabled = true;\n          document.getElementById('iconSampleDelete').style.opacity = \"0.5\";\n        }\n      }\n    }\n  \n    refreshRegions = () => {\n      //loop through wavesurfer regions and check if region exists in sample region array\n      //if no region exists for sample (track deleted), remove wavesurfer region\n      if(this.sample && this.sampleId){\n        let p = this.sample.regions.list;\n        for (let key in p) {\n          if (p.hasOwnProperty(key)) {\n            if(!store.getSample(this.sampleId).getRegion(key)){\n              this.delRegion(key);\n            }  \n          }\n        }\n      }\n    }\n  \n    componentWillUnmount(){\n      if(this.sample)\n        this.sample.destroy();\n    }\n\n    toggleSelectDisable = (disabled) => {\n      document.getElementById('btnSampleSelectToggle').disabled = disabled;\n      if(disabled && this.bSelect){\n        this.toggleSelect();\n      }\n    }\n  \n    toggleSelect = () => {\n      this.bSelect = !this.bSelect;\n  \n      let icon = document.getElementById('iconSampleSelect');\n      this.bSelect ? icon.innerHTML = 'layers' : icon.innerHTML = 'layers_clear';\n  \n      let sample = this.sample;\n      if(sample){\n        let ele = document.getElementById('waveform').children[0];\n        if(!this.bSelect){\n          //enable scroll while selecting region TODO: check perf?\n          ele.style.overflowX = 'auto';\n          sample.disableDragSelection({});\n          Object.keys(sample.regions.list).forEach(function(region){\n            sample.regions.list[region].drag = false;\n            sample.regions.list[region].resize = false;\n          });\n        } else {\n          //disable scroll while selecting region\n          ele.style.overflowX = 'hidden';\n          sample.enableDragSelection({})\n          Object.keys(sample.regions.list).forEach(function(region){\n            sample.regions.list[region].drag = true;\n            sample.regions.list[region].resize = true;\n          });\n        }\n      }\n    }\n  \n    togglePlay = (e) => {\n     // e.stopPropagation();\n     if(this.sample){\n        this.sample.playPause();\n  \n        if(this.sample.isPlaying())\n          document.getElementById(\"iconSamplePlay\").innerHTML = \"pause\";\n        else\n          document.getElementById(\"iconSamplePlay\").innerHTML = \"play_arrow\";\n      }\n    }\n  \n    //remember wavesurfer prop responsive enables debouncing on zoom for potential future modifications\n  \n    ensureWaveIsReady = (sample) => {\n      return new Promise(function (resolve, reject) {\n        let label = document.getElementById('divEditorSampleLoading');\n        (function waitForReady(){\n            if(label.style.display !== 'table')\n              label.style.display = 'table';\n  \n            if(sample.isReady)\n              return resolve();\n  \n            setTimeout(waitForReady, 15);\n        })();\n      });\n    }\n  \n    zoomChange = (e) => {\n      //console.log(e.target.value)\n      let zoomLevel = Number(e.target.value);\n      if(this.sample)\n        this.sample.zoom(zoomLevel);\n    };\n    \n    render() {\n      //refresh regions on track changes\n      //TODO: improve future deletion by mapping audio tracks only?\n      if(this.props.tracks.length >= 0){\n        this.refreshRegions();\n      }\n  \n      return(\n        <div style={{height:'100%', width:'100%', position:'absolute'}}>\n          <div id=\"divEditorSampleLoading\" style={{width:'100%', height:'100%', display:'none'}}>\n            <div style={{display:'table-cell', verticalAlign:'middle'}}>\n              <div className=\"la-ball-spin-clockwise-fade-rotating la-lg\" style={{margin:'auto'}}>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n                <div></div>\n              </div>\n            </div>\n          </div>\n          <div id=\"samplezoom\">\n          { /*\n            <button onClick={this.zoomIn} style={{position:'absolute', left:'5px'}}>+</button>\n            <button onClick={this.zoomOut} style={{position:'absolute', left:'50px'}}>-</button>\n          */ }\n            <div style={{marginLeft:'25px', marginRight:'225px', position:'relative'}}>\n              <input id='sampleEditorZoomSlider' type=\"range\" onInput={this.zoomChange} style={{width:'100%'}}></input>\n            </div>\n            <button onClick={this.delRegion} id=\"btnDelRegion\" style={{position:'absolute',right:'5px', backgroundColor:'transparent', top:'4px', border:0}}>\n              <i id=\"iconSampleDelete\" className=\"material-icons i-28 colorRed\" style={{opacity:0.5}}>delete</i>\n            </button>\n            <button id='btnSampleSelectToggle' onClick={this.toggleSelect} style={{position:'absolute',right:'80px', backgroundColor:'transparent', top:'4px', border:0}}>\n              <i id=\"iconSampleSelect\" className=\"material-icons i-28\">layers_clear</i>\n            </button>\n            <button onClick={this.togglePlay} style={{position:'absolute',right:'140px', backgroundColor:'transparent', top:'4px', border:0}}>\n              <i id=\"iconSamplePlay\" className=\"material-icons i-28\">play_arrow</i>\n            </button>\n          </div>\n          <div id=\"waveform\"></div>\n          <div id=\"timeline\"></div>\n        </div>\n      )\n    }\n  })","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport * as Tone from \"tone\";\nimport { store } from \"../../../../data/store.js\";\nimport Recorder from 'recorder-js';\nimport { randomId } from \"../../../../models/models.js\";\nimport { ToolSampleEditor } from '../sample/sample.js';\n\nexport const ToolRecord = observer(class ToolRecord extends Component {\n    source;\n    recorder;\n    sampleId;\n    status = 'stopped';\n    icon;\n    count;\n    interval;\n    objId;\n\n    componentDidMount(){\n      this.source = new Tone.UserMedia();\n\n      this.source.open().then(() => {\n        this.recorder = new Recorder(this.source._mediaStream.context, {\n          // An array of 255 Numbers\n          //onAnalysed: data => console.log(data),\n        });\n        \n        this.recorder.init(this.source._stream);\n      });\n     \n      this.icon = document.getElementById('btnToggleRecord').children[0];\n    }\n  \n    componentDidUpdate(prevProps, prevState, snapshot){\n      if(!this.sampleId){\n        this.icon = document.getElementById('btnToggleRecord').children[0];\n  \n        if(this.source.state !== 'started')\n          this.source.open().then(() => { });\n      }\n    }\n  \n    componentWillUnmount(){\n      if(this.source){\n        this.source.close();\n        this.source.dispose();\n        this.source = undefined;\n      }\n  \n      if(this.recorder){\n        this.recorder.stop();\n        this.recorder = undefined;\n      }\n      \n      if(this.interval)\n        clearInterval(this.interval)\n    }\n  \n    init = () => {\n      if(this.objId !== this.props.objId){\n        this.objId = this.props.objId;\n        this.status = 'stopped';\n        this.sampleId = undefined;\n      }\n    }\n  \n    startRecord = () => {\n      if(this.source.state === 'started' && this.status === 'stopped'){\n        this.count = 4;\n        this.icon.innerHTML = 'looks_' + this.count;\n        this.interval = setInterval(this.Timer, 1000);\n      }\n    }\n\n    Timer = () => {\n      this.count -= 1;\n  \n      if(this.count === 0){\n        clearInterval(this.interval);\n        this.icon.innerHTML = 'stop';\n        this.recorder.start(this.source._stream);\n        this.status = 'recording';\n        return;\n      }\n\n      let strNum = this.count;\n      if(this.count === 2)\n        strNum = 'two';\n      else if(this.count === 1)\n        strNum = 'one';\n\n      this.icon.innerHTML = 'looks_' + strNum;\n    }\n  \n    stopRecord = () => {\n      clearInterval(this.interval);\n      this.icon.innerHTML = 'fiber_manual_record';\n\n      if(this.status === 'recording'){\n        this.status = 'stopped';\n        this.recorder.stop().then(({blob, buffer}) => {\n          let sampleId = 'sample_' + randomId();\n          let newFile = new File([blob], 'rec' + randomId() + ' ' + new Date().toLocaleTimeString());\n\n          store.DBSaveAudioFile({\n            id: sampleId,\n            data: newFile\n          }).then(() => {\n            this.sampleId = sampleId;\n            this.source.close();\n            this.forceUpdate();\n          });\n        });\n      }\n    };\n  \n    toggleRecord = (e) => {\n      if(this.status === 'stopped'){\n        this.startRecord();\n      } else {\n        this.stopRecord();\n      }\n    }\n  \n    render(){\n      this.init();\n  \n      let component = <div style={{textAlign:'center', top:'30%', position:'relative'}}>\n                        <button id=\"btnToggleRecord\" style={{backgroundColor:'transparent'}} onClick={this.toggleRecord}><i className=\"material-icons i-72 colorRed\">fiber_manual_record</i></button>\n                      </div>\n  \n      if(this.sampleId)\n        component= <ToolSampleEditor store={this.props.store} file={this.sampleId} tracks={this.props.store.tracks} objId={this.props.objId} selectedTrack={this.props.store.ui.selectedTrack} winWidth={this.props.store.ui.windowWidth}/>\n  \n      return(\n        <div style={{color:'white', width:'100%', height:'100%'}}>\n          { component }\n        </div>\n      )\n    }\n  })","//Copyright 2018-2019 Timothy Boie\nimport React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport noUiSlider from 'nouislider';\nimport { store } from '../../../../../data/store.js';\nimport { toneObjNames } from '../../../../../data/tonenames.js';\nimport { ToneObjs } from '../../../../../models/models.js';\n\n\nexport const UIEditorHeader = observer(class UIEditorHeader extends Component {\n  editorId;\n\n  componentDidMount(){\n    if(this.props.selSection){\n      let strId = this.editorId + '_btnEditHeaderToggleSection_' + this.props.selSection;\n      \n      if(this.props.parent)\n        strId = this.editorId + '_btnEditHeaderToggleSection_' + this.props.parent + '_' + this.props.selSection;\n      \n      document.getElementById(strId).style.backgroundColor = '#2671ea';\n    }\n  }\n\n  delObj = (e) => {\n    if(this.props.obj.id.split(\"_\")[0] === \"tinysynth\"){\n      store.components.delete('panvol', 'tinysynth_panvol_' + this.props.obj.id.split(\"_\")[1]);\n      store.instruments.delete('tinysynth', this.props.obj.id);\n    }\n    else{\n      store[this.props.type + 's'].delete(this.props.obj.id.split(\"_\")[0], this.props.obj.id);\n    }\n\n    store.ui.selectObj('');\n  }\n\n  selectSection = (e) => {\n    let section = e.target.id.split('_')[2];\n    let id = this.editorId + '_btnEditHeaderToggleSection';\n\n    if(this.props.parent){\n      section = e.target.id.split('_')[3];\n      id = this.editorId + '_btnEditHeaderToggleSection_' + this.props.parent;\n    }\n    \n    this.props.sections.forEach(s => {\n      if(s === section)\n        document.getElementById(id + '_' + s).style.backgroundColor = '#2671ea';\n      else\n        document.getElementById(id + '_' + s).style.backgroundColor = '';\n    })\n\n    this.props.selectSection(section, this.props.parent);\n  }\n\n  btnClickTitle = (e) => {\n    if(this.props.obj.track.id !== store.ui.selectedTrack)\n      store.ui.selectTrack(this.props.obj.track.id);\n\n    if(store.ui.views.edit.mode !== 'graph')\n      store.ui.views.edit.toggleMode();\n    \n    store.ui.toggleViewMode('edit');\n  }\n\n  render() {\n    this.editorId = 'editor' + this.props.editorNum;\n\n    let top = 0;\n    let title = this.props.obj.id.split(\"_\")[0];\n    title = toneObjNames.find(n => n.toLowerCase() === title);\n\n    let id = this.editorId + '_btnEditHeaderToggleSection';\n    \n    let sDisplay = \"block\";\n    if(title === \"panvol\")\n      sDisplay = \"none\";\n\n    let btnDelete = <button onClick={this.delObj} id=\"btnDelObject\" style={{display:sDisplay, float:'right',right:'5px', backgroundColor:'transparent', border:0, position:'absolute', zIndex:1 }}>\n                      <i className=\"material-icons i-28 colorRed\">delete</i>\n                    </button>\n\n    \n    let btnRand;\n    if(this.props.obj.track){\n      let type = store.getObjTypeByIdTrack(this.props.obj.id, this.props.obj.track.id);\n      if(type === \"instrument\" && title !== \"NoiseSynth\")\n        btnRand = <button id={this.editorId + \"_btnSetRandom\"} onClick={this.props.funcRandom} style={{position:'absolute', height:'100%', right:'56px', zIndex:99}}>Rnd</button>\n    }\n\n    let toggleSections = [];\n    if(this.props.sections)\n      toggleSections = this.props.sections;\n\n    let height = 32;\n    if(this.props.parent){\n      btnRand = null;\n      title = '';\n      btnDelete = null;\n      top = height;\n      id = id + '_' + this.props.parent;\n    }\n\n    return (\n      <div style={{height:height + 'px'}}>\n        <div style={{position:'absolute', backgroundColor: 'rgb(12, 11, 27)', width:'100%', height:'32px', top:top + 'px', zIndex:99}}>\n          <button style={{float:'left', position:'relative', height:'100%', zIndex:1}} onClick={this.btnClickTitle}>{title}</button>\n          { btnRand }\n          <div className=\"divEditorHdrSectionContainer\">\n            {\n              toggleSections.map((section, idx) => \n                <button key={idx} id={id + '_' + section} onClick={this.selectSection} style={{height:'100%'}}>{section}</button>)\n            }\n          </div>\n          { btnDelete }\n        </div>\n      </div>\n    )\n  }\n})\n\n\nexport const UICustomRangeControl = observer(class UICustomRangeControl extends Component {\n  sliderId;\n  slider;\n  obj;\n  objType;\n\n  componentDidMount(){\n    this.slider = document.getElementById(this.sliderId);\n\n    noUiSlider.create(this.slider, {\n      start: this.obj[this.props.propName],\n      connect: [true, false],\n      range: {\n        'min': this.props.min,\n        'max': this.props.max\n      },\n      step: this.props.step,\n      pips: {\n        mode: this.props.mode,\n        density: this.props.density\n      },\n      tooltips: true\n    });\n\n    this.slider.noUiSlider.on('update', (values, handle) => {\n      this.updateValue(values[handle], false);\n    });\n\n    this.slider.noUiSlider.on('set', (values, handle) => {\n      this.updateValue(values[handle], true);\n    });\n  }\n\n  updateValue = (val, end) => {\n    let props = this.props;\n\n    //only update MST model on end \n    //TODO: does functionality have to be this way?  MST patch streams etc.\n\n    //don't update if same value\n    let bValChanged = false;\n    if(val){\n      if(props.child){\n        if(props.obj[props.child][props.propName] !== parseFloat(val))\n          bValChanged = true;\n      }\n      else if(props.obj[props.propName] !== parseFloat(val))\n        bValChanged = true;\n    }\n\n    if(bValChanged){\n      //update MST model\n      if(end){\n        if(props.numType === 'float')\n          props.obj.setPropVal(props.propName, parseFloat(val), props.signal, props.child)\n        else if(props.numType === 'integer')\n          props.obj.setPropVal(props.propName, parseInt(val, 10), props.signal, props.child)\n      }\n      //only update toneobj during update\n      else{\n        let typedVal = val;\n        if(props.numType === 'float')\n          typedVal = parseFloat(val);\n        else if(props.numType === 'integer')\n          typedVal = parseInt(val, 10);\n\n\n        let instName = props.obj.id.split('_')[0];\n        //polysynths\n        if(this.objType === \"instrument\" && instName !== \"noisesynth\" && instName !== \"player\" && instName !== \"plucksynth\" && instName !== \"membranesynth\" && instName !== \"metalsynth\"){\n          if(props.voice)\n            ToneObjs.setPropVal(props.obj.getParentId, this.objType, props.propName, typedVal, props.signal, props.child, props.voice);\n          else\n            ToneObjs.setPropVal(props.obj.id, this.objType, props.propName, typedVal, props.signal, props.child);\n        }\n        //everything else\n        else{\n          ToneObjs.setPropVal(props.obj.id, this.objType, props.propName, typedVal, props.signal, props.child);\n\n          if(instName === \"reverb\"){\n            //reverb errors when preDelay >= decay\n            //temp fix     if preDelay >= decay : preDelay = decay - 0.01\n            let reverbToneObj = ToneObjs.effects.find(i => i.id === props.obj.id).obj;\n\n            if(reverbToneObj.preDelay >= reverbToneObj.decay)\n              ToneObjs.setPropVal(props.obj.id, this.objType, 'preDelay', reverbToneObj.decay - 0.01, props.signal, props.child);\n            \n            reverbToneObj.generate().then(() => {\n              //console.log('generated finished')\n            });\n          }\n        }\n      }\n    }\n  }\n\n  setRandomVal = () => {\n    let min = this.props.min, max = this.props.max;\n    let randVal = parseFloat((Math.random() * (max - min) + min).toFixed(2));\n    //console.log('min: ' + min + ' max: ' + max + ' val: ' + randVal)\n    this.slider.noUiSlider.set(randVal);\n  }\n\n  componentWillUnmount(){\n    this.slider.noUiSlider.destroy();\n  }\n\n  componentDidUpdate(prevProps){\n    if(prevProps.random !== this.props.random)\n      this.setRandomVal();\n    else\n      this.slider.noUiSlider.set(this.obj[this.props.propName]);\n  }\n\n  render(){\n    const editorId = 'editor' + this.props.editorNum;\n\n    if(this.props.child){\n      this.obj = this.props.obj[this.props.child];\n      this.sliderId = editorId + '_slider_' + this.props.child + '_' + this.props.propName + '_' + this.props.obj.id;\n    }\n    else{\n      this.obj = this.props.obj;\n      this.sliderId = editorId + '_slider_' + this.props.propName + '_' + this.props.obj.id;\n    }\n\n    if(!this.objType){\n      if(this.props.voice)\n        this.objType = \"instrument\";\n      else if(this.props.obj.track)\n        this.objType = store.getObjTypeByIdTrack(this.props.obj.id, this.props.obj.track.id);\n    }\n  \n    return(\n      <div className='divEditorSliderContainer'>\n        <label>{this.props.propName}</label><br/>\n        <div id={this.sliderId}></div>\n      </div>\n    )\n  }\n})\n\nexport const UITimeControl = observer(class UITimeControl extends Component {\n  slider;\n  sliderId;\n\n  componentDidMount(){\n    let self = this;\n    this.slider = document.getElementById(this.sliderId);\n\n    noUiSlider.create(this.slider, {\n      start: self.props.obj[self.props.propName],\n      connect: [true, false],\n      range: {\n        'min': 1,\n        'max': 10\n      },\n      step: 1,\n      pips: {\n        mode: 'steps',\n        density: 10,\n        format: {\n          to: function(a){\n            return {'1':'4m', '2':'2m', '3':'1m', '4':'2n', '5':'4n', '6':'8n', '7':'16n', '8':'32n', '9':'64n', '10':'128n'}[a];\n          }\n        }\n      },\n      tooltips: true,\n      format: {\n        to: function ( value ) {\n          let val = Math.round(value)\n\n          if(val === 1)\n            return '4m';\n          else if(val === 2)\n            return '2m';\n          else if(val === 3)\n            return '1m';\n          else if(val === 4)\n            return '2n';\n          else if(val === 5)\n            return '4n';\n          else if(val === 6)\n            return '8n';\n          else if(val === 7)\n            return '16n';\n          else if(val === 8)\n            return '32n';\n          else if(val === 9)\n            return '64n';\n          else if(val === 10)\n            return '128n'; \n        },\n        from: function ( value ) {\n          if(value === '4m')\n            return 1;\n          else if(value === '2m')\n            return 2;\n          else if(value === '1m')\n            return 3;\n          else if(value === '2n')\n            return 4;\n          else if(value === '4n')\n            return 5;\n          else if(value === '8n')\n            return 6;\n          else if(value === '16n')\n            return 7;\n          else if(value === '32n')\n            return 8;\n          else if(value === '64n')\n            return 9;\n          else if(value === '128n')\n            return 10;\n        }\n      }\n    });\n\n    this.slider.noUiSlider.on('update', function ( values, handle ) {\n      self.updateValue(values[handle]);\n    });\n  }\n\n  updateValue = (val) => {\n    let bValChanged = false;\n    if(val){\n        if(this.props.obj[this.props.propName] !== val)\n          bValChanged = true;\n    }\n\n    if(bValChanged){\n      this.props.obj.setPropVal(this.props.propName, val, true)\n    }\n  }\n\n  componentWillUnmount(){\n    this.slider.noUiSlider.destroy();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot){\n    this.slider.noUiSlider.set(this.props.obj[this.props.propName]);\n  }\n\n  render(){\n    const editorId = 'editor' + this.props.editorNum;\n    this.sliderId = editorId + '_slider_' + this.props.propName + '_' + this.props.obj.id;\n    \n    return(\n      <div className='divEditorSliderContainer'>\n        <label>{this.props.propName}</label><br/>\n        <div id={this.sliderId}></div>\n      </div>\n    )\n  }\n})\n\nexport const UIWaveTypeControl = observer(class UIWaveTypeControl extends Component {\n  slider;\n  obj;\n  sliderId;\n\n  componentDidMount(){\n    let self = this;\n    let props = this.props;\n    this.slider = document.getElementById(this.sliderId);\n\n    if(props.child)\n      self.obj = props.obj[props.child]\n    else\n      self.obj = props.obj;\n\n    noUiSlider.create(this.slider, {\n      start: self.obj[props.propName],\n      connect: [true, false],\n      range: {\n        'min': 1,\n        'max': 4\n      },\n      step: 1,\n      pips: {\n        mode: 'steps',\n        density: 25,\n        format: {\n          to: function(a){\n            return {'1':'SINE', '2':'TRI', '3':'SAW', '4':'SQR'}[a];\n          }\n        }\n      },\n      tooltips: true,\n      format: {\n        to: function ( value ) {\n          let val = Math.round(value);\n\n          if(val === 1)\n            return 'sine';\n          else if(val === 2)\n            return 'triangle';\n          else if(val === 3)\n            return 'sawtooth';\n          else if(val === 4)\n            return 'square';\n        },\n        from: function ( value ) {\n          if(value === 'sine')\n            return 1;\n          else if(value === 'triangle')\n            return 2;\n          else if(value === 'sawtooth')\n            return 3;\n          else if(value === 'square')\n            return 4;\n        }\n      }\n    });\n    \n    this.slider.noUiSlider.on('update', function ( values, handle ) {\n      self.updateValue(values[handle]);\n    });\n\n    this.slider.noUiSlider.on('set', function ( values, handle ) {\n      self.updateValue(values[handle]);\n    });\n  }\n\n  updateValue = (val) => {\n    let bValChanged = false;\n    if(val){\n      if(this.props.child){\n        if(this.props.obj[this.props.child][this.props.propName] !== val)\n          bValChanged = true;\n      }\n      else if(this.props.obj[this.props.propName] !== val)\n        bValChanged = true;\n    }\n\n    if(bValChanged){\n      this.props.obj.setPropVal(this.props.propName, val, false, this.props.child)\n    }\n  }\n\n  componentWillUnmount(){\n    this.slider.noUiSlider.destroy();\n  }\n  \n  setRandomVal = () => {\n    let min = 0, max = 3, types = ['sine', 'triangle', 'sawtooth', 'square'];\n    let randVal = Math.floor(Math.random() * (max - min + 1)) + min;\n    this.slider.noUiSlider.set(types[randVal]);\n  }\n\n  componentDidUpdate(prevProps){\n    if(prevProps.random !== this.props.random){\n      this.setRandomVal();\n    }\n    else{\n      if(this.props.child)\n        this.obj = this.props.obj[this.props.child]\n      else\n        this.obj = this.props.obj;\n      \n      this.slider.noUiSlider.set(this.obj[this.props.propName]);\n    }\n  }\n\n  render(){\n    const editorId = 'editor' + this.props.editorNum;\n\n    this.sliderId = editorId + '_slider_' + this.props.propName + '_' + this.props.obj.id;\n    if(this.props.child)\n      this.sliderId = editorId + '_slider_' + this.props.child + '_' + this.props.propName + '_' + this.props.obj.id\n\n    return(\n      <div className='divEditorSliderContainer'>\n        <label>{this.props.propName}</label><br/>\n        <div id={this.sliderId}></div>\n      </div>\n    )\n  }\n})\n\nexport const UIFilterTypeControl = observer(class UIFilterTypeControl extends Component {\n  slider;\n  obj;\n  sliderId;\n\n  componentDidMount(){\n    let self = this;\n    let props = this.props;\n    this.slider = document.getElementById(this.sliderId);\n\n    if(props.child)\n      self.obj = props.obj[props.child]\n    else\n      self.obj = props.obj;\n\n    noUiSlider.create(this.slider, {\n      start: self.obj[props.propName],\n      connect: [true, false],\n      range: {\n        'min': 1,\n        'max': 8\n      },\n      step: 1,\n      pips: {\n        mode: 'steps',\n        density: 12.5,\n        format: {\n          to: function(a){\n            return {'1':'LOW', '2':'HI', '3':'BND', '4':'LSHLF', '5':'HSHLF', '6':'NOTCH', '7':'ALL', '8':'PEAK'}[a];\n          }\n        }\n      },\n      tooltips: true,\n      format: {\n        to: function ( value ) {\n          let val = Math.round(value);\n\n          if(val === 1)\n            return 'lowpass';\n          else if(val === 2)\n            return 'highpass';\n          else if(val === 3)\n            return 'bandpass';\n          else if(val === 4)\n            return 'lowshelf';\n          else if(val === 5)\n            return 'highshelf';\n          else if(val === 6)\n            return 'notch';\n          else if(val === 7)\n            return 'allpass';\n          else if(val === 8)\n            return 'peaking';\n        },\n        from: function ( value ) {\n          if(value === 'lowpass')\n            return 1;\n          else if(value === 'highpass')\n            return 2;\n          else if(value === 'bandpass')\n            return 3;\n          else if(value === 'lowshelf')\n            return 4;\n          else if(value === 'highshelf')\n            return 5;\n          else if(value === 'notch')\n            return 6;\n          else if(value === 'allpass')\n            return 7;\n          else if(value === 'peaking')\n            return 8;\n        }\n      }\n    });\n    \n    this.slider.noUiSlider.on('update', function ( values, handle ) {\n      self.updateValue(values[handle]);\n    });\n\n    this.slider.noUiSlider.on('set', function ( values, handle ) {\n      self.updateValue(values[handle]);\n    });\n  }\n\n  updateValue = (val) => {\n    let bValChanged = false;\n    if(val){\n      if(this.props.child){\n        if(this.props.obj[this.props.child][this.props.propName] !== val)\n          bValChanged = true;\n      }\n      else if(this.props.obj[this.props.propName] !== val)\n        bValChanged = true;\n    }\n\n    if(bValChanged){\n      this.props.obj.setPropVal(this.props.propName, val, false, this.props.child)\n    }\n  }\n\n  componentWillUnmount(){\n    this.slider.noUiSlider.destroy();\n  }\n\n  setRandomVal = () => {\n    let min = 0, max = 7, types = ['lowpass','highpass','bandpass','lowshelf','highshelf','notch','allpass','peaking']\n    let randVal = Math.floor(Math.random() * (max - min + 1)) + min;\n    this.slider.noUiSlider.set(types[randVal]);\n  }\n\n  componentDidUpdate(prevProps){\n    if(prevProps.random !== this.props.random){\n      this.setRandomVal();\n    }\n    else{\n      if(this.props.child)\n        this.obj = this.props.obj[this.props.child]\n      else\n        this.obj = this.props.obj;\n      \n      this.slider.noUiSlider.set(this.obj[this.props.propName]);\n    }\n  }\n\n  render(){\n    const editorId = 'editor' + this.props.editorNum;\n\n    this.sliderId = editorId + '_slider_' + this.props.propName + '_' + this.props.obj.id;\n    if(this.props.child)\n      this.sliderId = editorId + '_slider_' + this.props.child + '_' + this.props.propName + '_' + this.props.obj.id;\n\n    return(\n      <div className='divEditorSliderContainer'>\n        <label>{this.props.propName}</label><br/>\n        <div id={this.sliderId}></div>\n      </div>\n    )\n  }\n})\n\nexport const UICurveTypeControl = observer(class UICurveTypeControl extends Component {\n  slider;\n  obj;\n  sliderId;\n\n  componentDidMount(){\n    let self = this;\n    let props = this.props;\n    this.slider = document.getElementById(this.sliderId);\n    \n    if(props.child)\n      self.obj = props.obj[props.child]\n    else\n      self.obj = props.obj;\n\n    noUiSlider.create(this.slider, {\n      start: self.obj[props.propName],\n      connect: [true, false],\n      range: {\n        'min': 1,\n        'max': 7\n      },\n      step: 1,\n      pips: {\n        mode: 'steps',\n        density: 14.28571,\n        format: {\n          to: function(a){\n            return {'1':'LIN', '2':'EXP', '3':'SIN', '4':'COS', '5':'BOUNCE', '6':'RPPL', '7':'STEP'}[a];\n          }\n        }\n      },\n      tooltips: true,\n      format: {\n        to: function ( value ) {\n          let val = Math.round(value);\n\n          if(val === 1)\n            return 'linear';\n          else if(val === 2)\n            return 'exponential';\n          else if(val === 3)\n            return 'sine';\n          else if(val === 4)\n            return 'cosine';\n          else if(val === 5)\n            return 'bounce';\n          else if(val === 6)\n            return 'ripple';\n          else if(val === 7)\n            return 'step';\n        },\n        from: function ( value ) {\n          if(value === 'linear')\n            return 1;\n          else if(value === 'exponential')\n            return 2;\n          else if(value === 'sine')\n            return 3;\n          else if(value === 'cosine')\n            return 4;\n          else if(value === 'bounce')\n            return 5;\n          else if(value === 'ripple')\n            return 6;\n          else if(value === 'step')\n            return 7;\n        }\n      }\n    });\n    \n    this.slider.noUiSlider.on('update', function ( values, handle ) {\n      self.updateValue(values[handle]);\n    });\n    this.slider.noUiSlider.on('set', function ( values, handle ) {\n      self.updateValue(values[handle]);\n    });\n  }\n\n  updateValue = (val) => {\n    let bValChanged = false;\n    if(val){\n      if(this.props.child){\n        if(this.props.obj[this.props.child][this.props.propName] !== val)\n          bValChanged = true;\n      }\n      else if(this.props.obj[this.props.propName] !== val)\n        bValChanged = true;\n    }\n\n    if(bValChanged){\n      this.props.obj.setPropVal(this.props.propName, val, false, this.props.child)\n    }\n  }\n\n  componentWillUnmount(){\n    this.slider.noUiSlider.destroy();\n  }\n\n  setRandomVal = () => {\n    let min = 0, max = 6, types = ['linear','exponential','sine','cosine','bounce','ripple','step'];\n    let randVal = Math.floor(Math.random() * (max - min + 1)) + min;\n    this.slider.noUiSlider.set(types[randVal]);\n  }\n\n  componentDidUpdate(prevProps){\n    if(prevProps.random !== this.props.random){\n      this.setRandomVal();\n    }\n    else{\n      if(this.props.child)\n        this.obj = this.props.obj[this.props.child]\n      else\n        this.obj = this.props.obj;\n        \n      this.slider.noUiSlider.set(this.obj[this.props.propName]);\n    }\n  }\n\n  render(){\n    const editorId = 'editor' + this.props.editorNum;\n\n    this.sliderId = editorId + '_slider_' + this.props.propName + '_' + this.props.obj.id;\n    if(this.props.child)\n      this.sliderId = editorId + '_slider_' + this.props.child + '_' + this.props.propName + '_' + this.props.obj.id\n\n    return(\n      <div className='divEditorSliderContainer'>\n        <label>{this.props.propName}</label><br/>\n        <div id={this.sliderId}></div>\n      </div>\n    )\n  }\n})\n\nexport const UIFilterRolloffControl = observer(class UIFilterRolloffControl extends Component {\n  slider;\n  obj;\n  sliderId;\n\n  componentDidMount(){\n    let self = this;\n    let props = this.props;\n    this.slider = document.getElementById(this.sliderId);\n\n    if(props.child)\n      self.obj = props.obj[props.child]\n    else\n      self.obj = props.obj;\n    \n    noUiSlider.create(this.slider, {\n      start: self.obj[props.propName],\n      connect: [true, false],\n      range: {\n        'min': 1,\n        'max': 4\n      },\n      step: 1,\n      pips: {\n        mode: 'steps',\n        density: 25,\n        format: {\n          to: function(a){\n            return {'1':'-12', '2':'-24', '3':'-48', '4':'-96'}[a];\n          }\n        }\n      },\n      tooltips: true,\n      format: {\n        to: function ( value ) {\n          let val = Math.round(value);\n\n          if(val === 1)\n            return -12;\n          else if(val === 2)\n            return -24;\n          else if(val === 3)\n            return -48;\n          else if(val === 4)\n            return -96;\n        },\n        from: function ( value ) {\n          if(parseInt(value, 10) === -12)\n            return 1;\n          else if(parseInt(value, 10) === -24)\n            return 2;\n          else if(parseInt(value, 10) === -48)\n            return 3;\n          else if(parseInt(value, 10) === -96)\n            return 4;\n        }\n      }\n    });\n    \n    this.slider.noUiSlider.on('update', function ( values, handle ) {\n      self.updateValue(values[handle]);\n    });\n\n    this.slider.noUiSlider.on('set', function ( values, handle ) {\n      self.updateValue(values[handle]);\n    });\n  }\n\n  updateValue = (val) => {\n    let bValChanged = false;\n    if(val){\n      if(this.props.child){\n        if(this.props.obj[this.props.child][this.props.propName] !== parseInt(val, 10))\n          bValChanged = true;\n      }\n      else if(this.props.obj[this.props.propName] !== parseInt(val, 10))\n        bValChanged = true;\n    }\n\n    if(bValChanged){\n      this.props.obj.setPropVal(this.props.propName, val, false, this.props.child)\n    }\n  }\n\n  componentWillUnmount(){\n    this.slider.noUiSlider.destroy();\n  }\n\n  setRandomVal = () => {\n    let min = 0, max = 3, types = [-12,-24,-48,-96]\n    let randVal = Math.floor(Math.random() * (max - min + 1)) + min;\n    this.slider.noUiSlider.set(types[randVal]);\n  }\n\n  componentDidUpdate(prevProps){\n    if(prevProps.random !== this.props.random){\n      this.setRandomVal();\n    }\n    else{\n      if(this.props.child)\n        this.obj = this.props.obj[this.props.child]\n      else\n        this.obj = this.props.obj;\n\n      this.slider.noUiSlider.set(this.obj[this.props.propName]);\n    }\n  }\n\n  render(){\n    const editorId = 'editor' + this.props.editorNum;\n\n    this.sliderId = editorId + '_slider_' + this.props.propName + '_' + this.props.obj.id;\n    if(this.props.child)\n      this.sliderId = editorId + '_slider_' + this.props.child + '_' + this.props.propName + '_' + this.props.obj.id\n\n    return(\n      <div className='divEditorSliderContainer'>\n        <label>{this.props.propName}</label><br/>\n        <div id={this.sliderId}></div>\n      </div>\n    )\n  }\n})\n\n\nexport const UINoiseTypeControl = observer(class UINoiseTypeControl extends Component {\n  slider;\n  obj;\n  sliderId;\n\n  componentDidMount(){\n    let self = this;\n    let props = this.props;\n    this.slider = document.getElementById(this.sliderId);\n\n    if(props.child)\n      self.obj = props.obj[props.child]\n    else\n      self.obj = props.obj;\n\n    noUiSlider.create(this.slider, {\n      start: self.obj[props.propName],\n      connect: [true, false],\n      range: {\n        'min': 1,\n        'max': 3\n      },\n      step: 1,\n      pips: {\n        mode: 'steps',\n        density: 100,\n        format: {\n          to: function(a){\n            return {'1':'WHITE', '2':'PINK', '3':'BROWN'}[a];\n          }\n        }\n      },\n      tooltips: true,\n      format: {\n        to: function ( value ) {\n          let val = Math.round(value);\n\n          if(val === 1)\n            return 'white';\n          else if(val === 2)\n            return 'pink';\n          else if(val === 3)\n            return 'brown';\n        },\n        from: function ( value ) {\n          if(value === 'white')\n            return 1;\n          else if(value === 'pink')\n            return 2;\n          else if(value === 'brown')\n            return 3;\n        }\n      }\n    });\n    \n    this.slider.noUiSlider.on('update', function ( values, handle ) {\n      self.updateValue(values[handle]);\n    });\n  }\n\n  updateValue = (val) => {\n    let bValChanged = false;\n    if(val){\n      if(this.props.child){\n        if(this.props.obj[this.props.child][this.props.propName] !== val)\n          bValChanged = true;\n      }\n      else if(this.props.obj[this.props.propName] !== val)\n        bValChanged = true;\n    }\n\n    if(bValChanged){\n      this.props.obj.setPropVal(this.props.propName, val, false, this.props.child)\n    }\n  }\n\n  componentWillUnmount(){\n    this.slider.noUiSlider.destroy();\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot){\n    if(this.props.child)\n      this.obj = this.props.obj[this.props.child]\n    else\n      this.obj = this.props.obj;\n\n    this.slider.noUiSlider.set(this.obj[this.props.propName]);\n  }\n\n  render(){\n    const editorId = 'editor' + this.props.editorNum;\n\n    this.sliderId = editorId + '_slider_' + this.props.propName + '_' + this.props.obj.id;\n    if(this.props.child)\n      this.sliderId = editorId + '_slider_' + this.props.child + '_' + this.props.propName + '_' + this.props.obj.id\n\n    return(\n      <div className='divEditorSliderContainer'>\n        <label>{this.props.propName}</label><br/>\n        <div id={this.sliderId}></div>\n      </div>\n    )\n  }\n})\n\nexport const UIOverSample = observer(class UIOverSample extends Component {\n  obj;\n  slider;\n  sliderId;\n\n  componentDidMount(){\n    let self = this;\n    let props = this.props;\n\n    this.slider = document.getElementById(this.sliderId);\n\n    noUiSlider.create(this.slider, {\n      start: self.props.obj[props.propName],\n      connect: [true, false],\n      range: {\n        'min': 1,\n        'max': 3\n      },\n      step: 1,\n      pips: {\n        mode: 'steps',\n        density: 33.333,\n        format: {\n          to: function(a){\n            return {'1':'NONE', '2':'2x', '3':'4x'}[a];\n          }\n        }\n      },\n      tooltips: true,\n      format: {\n        to: function ( value ) {\n          if(parseInt(value, 10) === 1)\n            return 'none';\n          if(parseInt(value, 10) === 2)\n            return '2x';\n          if(parseInt(value, 10) === 3)\n            return '4x';\n        },\n        from: function ( value ) {\n          if(value === 'none')\n            return 1;\n          if(value === '2x')\n            return 2;\n          if(value === '4x')\n            return 3;\n        }\n      }\n    });\n\n    this.slider.noUiSlider.on('update', function ( values, handle ) {\n      self.updateValue(values[handle]);\n    });\n\n    this.slider.noUiSlider.on('set', function ( values, handle ) {\n      self.updateValue(values[handle]);\n    });\n  }\n\n  updateValue = (val) => {\n    let bValChanged = false;\n    if(val){\n        if(this.props.obj[this.props.propName] !== val)\n          bValChanged = true;\n    }\n\n    if(bValChanged){\n      this.props.obj.setPropVal(this.props.propName, val, this.props.signal)\n    }\n  }\n\n  componentWillUnmount(){\n    this.slider.noUiSlider.destroy();\n  }\n\n  setRandomVal = () => {\n    let min = 0, max = 2, types = ['none','2x','4x'];\n    let randVal = Math.floor(Math.random() * (max - min + 1)) + min;\n    this.slider.noUiSlider.set(types[randVal]);\n  }\n\n  componentDidUpdate(prevProps){\n    if(prevProps.random !== this.props.random){\n      this.setRandomVal();\n    }\n    else{\n      this.slider.noUiSlider.set(this.props.obj[this.props.propName]);\n    }\n  }\n\n  render(){\n    const editorId = 'editor' + this.props.editorNum;\n    this.sliderId = editorId + '_slider_' + this.props.propName + '_' + this.props.obj.id;\n\n    return(\n      <div className='divEditorSliderContainer'>\n        <label>{this.props.propName}</label><br/>\n        <div id={this.sliderId}></div>\n      </div>\n    )\n  }\n})\n\n\nexport const UIOmniOscTypeControl = observer(class UIOmniOscTypeControl extends Component {\n  slider;\n  sliderId;\n  obj;\n  oscType;\n\n  componentDidMount(){\n    this.slider = document.getElementById(this.sliderId);\n\n    noUiSlider.create(this.slider, {\n      start: this.getOscType(),\n      connect: [true, false],\n      range: {\n        'min': 1,\n        'max': 6\n      },\n      step: 1,\n      pips: {\n        mode: 'steps',\n        density: 25,\n        format: {\n          to: function(a){\n            return {'1':'REG', '2':'FM', '3':'AM', '4':'FAT', '5':'PULSE', '6':'PWM'}[a];\n          }\n        }\n      },\n      tooltips: true,\n      format: {\n        to: function ( value ) {\n          let val = Math.round(value);\n\n          if(val === 1)\n            return 'basic';\n          else if(val === 2)\n            return 'fm';\n          else if(val === 3)\n            return 'am';\n          else if(val === 4)\n            return 'fat';\n          else if(val === 5)\n            return 'pulse';\n          else if(val === 6)\n            return 'pwm';\n        },\n        from: function ( value ) {\n          if(value === 'basic')\n            return 1;\n          else if(value === 'fm')\n            return 2;\n          else if(value === 'am')\n            return 3;\n          else if(value === 'fat')\n            return 4;\n          else if(value === 'pulse')\n            return 5;\n          else if(value === 'pwm')\n            return 6;\n        }\n      }\n    });\n    \n    this.slider.noUiSlider.on('update', (values, handle) => {\n      this.updateValue(values[handle]);\n    });\n\n    this.slider.noUiSlider.on('set', (values, handle) => {\n      this.updateValue(values[handle]);\n    });\n  }\n\n  getOscType = () => {\n    let type = this.obj.type;\n\n    if(type.substr(0, 2) === \"fm\")\n      return \"fm\"\n    else if(type.substr(0, 2) === \"am\")\n      return \"am\"\n    else if(type.substr(0, 3) === \"fat\")\n      return \"fat\"\n    else if(type === \"pwm\" || type === \"pulse\")\n      return type;\n    else \n      return \"basic\";\n  }\n\n  updateValue = (val) => {\n    if(val !== this.oscType){\n      this.oscType = val;\n      this.forceUpdate();\n    }\n  }\n\n  componentWillUnmount(){\n    this.slider.noUiSlider.destroy();\n  }\n  \n  setRandomVal = () => {\n    let min = 0, max = 5, types = ['fm', 'am', 'fat', 'pwm', 'pulse', 'basic'];\n    let randVal = Math.floor(Math.random() * (max - min + 1)) + min;\n    this.slider.noUiSlider.set(types[randVal]);\n  }\n\n  componentDidUpdate(prevProps){\n    if(prevProps.random !== this.props.random)\n      this.setRandomVal();\n  }\n\n  render(){\n    const editorId = 'editor' + this.props.editorNum;\n\n    if(this.props.child){\n      this.obj = this.props.obj[this.props.child];\n      this.sliderId = editorId + '_slider_' + this.props.child + '_' + this.props.propName + '_' + this.props.obj.id;\n    }\n    else{\n      this.obj = this.props.obj;\n      this.sliderId = editorId + '_slider_' + this.props.propName + '_' + this.props.obj.id;\n    }\n\n    if(!this.oscType)\n      this.oscType = this.getOscType();\n\n    return(\n      <div>\n        <div className='divEditorSliderContainer'>\n          <label>{this.props.propName}</label><br/>\n          <div id={this.sliderId}></div>\n        </div>\n        <UIOmniOscWaveTypeControl obj={this.props.obj} editorNum={this.props.editorNum} child={this.props.child} oscType={this.oscType} random={this.props.random}/>\n      </div>\n    )\n  }\n})\n\nconst UIOmniOscWaveTypeControl = observer(class UIOmniOscWaveTypeControl extends Component {\n  slider;\n  sliderId;\n  waveType;\n  obj;\n  \n  componentDidMount(){\n    this.slider = document.getElementById(this.sliderId);\n    \n    noUiSlider.create(this.slider, {\n      start: this.getWaveType(),\n      connect: [true, false],\n      range: {\n        'min': 1,\n        'max': 4\n      },\n      step: 1,\n      pips: {\n        mode: 'steps',\n        density: 25,\n        format: {\n          to: function(a){\n            return {'1':'SINE', '2':'TRI', '3':'SAW', '4':'SQR'}[a];\n          }\n        }\n      },\n      tooltips: true,\n      format: {\n        to: function ( value ) {\n          let val = Math.round(value);\n\n          if(val === 1)\n            return 'sine';\n          else if(val === 2)\n            return 'triangle';\n          else if(val === 3)\n            return 'sawtooth';\n          else if(val === 4)\n            return 'square';\n        },\n        from: function ( value ) {\n          if(value === 'sine')\n            return 1;\n          else if(value === 'triangle')\n            return 2;\n          else if(value === 'sawtooth')\n            return 3;\n          else if(value === 'square')\n            return 4;\n        }\n      }\n    });\n    \n    this.slider.noUiSlider.on('update', (values, handle) => {\n      this.updateValue(values[handle]);\n    });\n\n    this.slider.noUiSlider.on('set', (values, handle) => {\n      this.updateValue(values[handle]);\n    });\n  }\n\n  //only used for init\n  getWaveType = () => {\n    let type = this.obj.type;\n\n    if(type.substr(0, 2) === \"fm\" || type.substr(0, 2) === \"am\")\n      return type.substr(2);\n    else if(type.substr(0, 3) === \"fat\")\n      return type.substr(3);\n    else if(type === \"pwm\" || type === \"pulse\")\n      return \"sine\";\n    else\n      return type;\n  }\n\n  updateValue = (val) => {\n    if(val){\n      if(val !== this.waveType){\n        this.waveType = val;\n        \n        let newVal;\n        if(this.props.oscType === 'basic')\n          newVal = this.waveType;\n        else if(this.props.oscType === \"pwm\" || this.props.oscType === \"pulse\")\n          newVal = this.props.oscType;\n        else\n          newVal = this.props.oscType + this.waveType;\n\n        this.props.obj.setPropVal('type', newVal, false, this.props.child)\n      }\n    }\n  }\n\n  componentWillUnmount(){\n    this.slider.noUiSlider.destroy();\n  }\n  \n  setRandomVal = () => {\n    let min = 0, max = 3, types = ['sine', 'triangle', 'sawtooth', 'square'];\n    let randVal = Math.floor(Math.random() * (max - min + 1)) + min;\n    if(this.props.oscType !== \"pulse\" && this.props.oscType !== \"pwm\")\n      this.slider.noUiSlider.set(types[randVal]);\n  }\n\n  componentDidUpdate(prevProps){\n    if(prevProps.random !== this.props.random){\n      this.setRandomVal();\n    }\n\n    if(prevProps.oscType !== this.props.oscType){\n      let newVal = this.props.oscType;\n\n      if(this.props.oscType === \"pulse\" || this.props.oscType === \"pwm\"){\n        this.slider.setAttribute('disabled', true);\n      }\n      else{\n        this.slider.removeAttribute('disabled');\n\n        if(this.props.oscType === \"basic\")\n          newVal = this.waveType;\n        else\n          newVal = this.props.oscType + this.waveType;\n      }\n      \n      this.props.obj.setPropVal('type', newVal, false, this.props.child)\n    }\n  }\n\n  render(){\n    const editorId = 'editor' + this.props.editorNum;\n\n    if(this.props.child){\n      this.obj = this.props.obj[this.props.child];\n      this.sliderId = editorId + '_slider_' + this.props.child + '_wavetype_' + this.props.obj.id;\n    }\n    else{\n      this.obj = this.props.obj;\n      this.sliderId = editorId + '_slider_wavetype_' + this.props.obj.id;\n    }\n\n    return(\n      <div className='divEditorSliderContainer'>\n        <label>wavetype</label><br/>\n        <div id={this.sliderId}></div>\n      </div>\n    )\n  }\n})","//Copyright 2018-2019 Timothy Boie\n\nimport React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport { store } from '../../../../../data/store.js'\nimport { UIEditorHeader, UICustomRangeControl, UITimeControl, UIWaveTypeControl, UIFilterTypeControl, UIFilterRolloffControl, UIOverSample } from './template.js';\n\n\n//TODO: add filter? and check ALL octave type details , double check start (stop?) functionalities\nexport const UIAutoFilter = observer(class UIAutoFilter extends Component {\n  arrSections = ['main', 'filter'];\n  selSection = 'main';\n\n  selectSection = (section) => {\n    this.selSection = section;\n    this.forceUpdate();\n  }\n\n  getDisplay = (s) => {\n    return s === this.selSection ? 'block' : 'none';\n  }\n\n  render() {\n    this.obj = store.effects.autofilters.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} sections={this.arrSections} selSection={this.selSection} type={this.props.type} selectSection={this.selectSection}/>\n        <div style={{display:this.getDisplay('main')}}>\n          <UITimeControl obj={this.obj} editorNum={this.props.editorNum} propName=\"frequency\"/>\n          <UIWaveTypeControl obj={this.obj} editorNum={this.props.editorNum} propName=\"type\"/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'depth'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='baseFrequency' min={20} max={1000} mode='range' step={null} density={1} numType={'float'} signal={false}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='octaves' min={0} max={10} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n        </div>\n        <div style={{display:this.getDisplay('filter')}}>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='Q' min={0} max={10} mode={'steps'} step={1} density={10} numType={'integer'} signal={true} child={'filter'}/>\n          <UIFilterTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"type\"} child={'filter'}/>\n          <UIFilterRolloffControl obj={this.obj} editorNum={this.props.editorNum} propName={\"rolloff\"} child={'filter'}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='gain' min={-20} max={3} mode={'range'} step={null} density={1} numType={'float'} signal={true} child={'filter'}/>\n        </div>\n      </div>\n    )\n  }\n})\n\n//TODO: verify .start()\nexport const UIAutoPanner = observer(class UIAutoPanner extends Component {\n  render() {\n    this.obj = store.effects.autopanners.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'depth'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n        <UITimeControl obj={this.obj} editorNum={this.props.editorNum} propName=\"frequency\"/>\n        <UIWaveTypeControl obj={this.obj} editorNum={this.props.editorNum} propName=\"type\"/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n  \n//TODO: fix follower\n//      double check range max's\nexport const UIAutoWah = observer(class UIAutoWah extends Component {\n  render() {\n    this.obj = store.effects.autowahs.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='baseFrequency' min={20} max={1000} mode='range' step={null} density={1} numType={'float'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='octaves' min={0} max={10} mode={'steps'} step={1} density={10} numType={'integer'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='sensitivity' min={-40} max={0} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='Q' min={0} max={10} mode={'steps'} step={1} density={10} numType={'integer'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='gain' min={-20} max={3} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\nexport const UIBitCrusher = observer(class UIBitCrusher extends Component {\n  render() {\n    this.obj = store.effects.bitcrushers.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'bits'} min={1} max={8} mode={'steps'} step={1} density={12.5} numType={'integer'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n  \n//TODO: verify oversample not working\nexport const UIChebyshev = observer(class UIChebyshev extends Component{\n  render() {\n    this.obj = store.effects.chebyshevs.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'order'} min={0} max={10} mode={'steps'} step={1} density={10} numType={'integer'} signal={false}/>\n        <UIOverSample obj={this.obj} editorNum={this.props.editorNum} propName={'oversample'} min={0} max={2} mode={'steps'} step={1} density={10} numType={'integer'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\n  \n  //TODO: check ranges as usual\nexport const UIChorus = observer(class UIChorus extends Component {\n  render() {\n    this.obj = store.effects.choruss.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'frequency'} min={0} max={20} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'delayTime'} min={0} max={25} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'depth'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n        <UIWaveTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"type\"}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'spread'} min={0} max={360} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\n//TODO: figure out impulse responses and layout\nexport const UIConvolver = observer(class UIConvolver extends Component {\n  render() {\n    return null;\n  }\n})\n  \n  //TODO: oversample not working?\nexport const UIDistortion = observer(class UIDistortion extends Component {\n  render() {\n    this.obj = store.effects.distortions.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'distortion'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n        <UIOverSample obj={this.obj} editorNum={this.props.editorNum} propName={'oversample'} min={0} max={2} mode={'steps'} step={1} density={10} numType={'integer'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n  \n//TODO: bug for 1n time delay\nexport const UIFeedbackDelay = observer(class UIFeedbackDelay extends Component {\n  render() {\n    this.obj = store.effects.feedbackdelays.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UITimeControl obj={this.obj} editorNum={this.props.editorNum} propName='delayTime'/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'feedback'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\nexport const UIFreeverb = observer(class UIFreeverb extends Component{\n  render() {\n    this.obj = store.effects.freeverbs.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'roomSize'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'dampening'} min={0} max={15000} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n  \nexport const UIJCReverb = observer(class UIJCReverb extends Component{\n  render() {\n    this.obj = store.effects.jcreverbs.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'roomSize'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\n//TODO: ranges and funcitonanlity\nexport const UIPhaser = observer(class UIPhaser extends Component{\n  render() {\n    this.obj = store.effects.phasers.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='frequency' min={0} max={25} mode='range' step={null} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='octaves' min={0} max={10} mode={'steps'} step={1} density={10} numType={'integer'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='stages' min={0} max={20} mode={'steps'} step={1} density={1} numType={'integer'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='Q' min={0} max={10} mode={'steps'} step={1} density={10} numType={'integer'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='baseFrequency' min={20} max={1000} mode='range' step={null} density={1} numType={'float'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n  \n//TODO: verify 1n\nexport  const UIPingPongDelay = observer(class UIPingPongDelay extends Component{\n  render() {\n    this.obj = store.effects.pingpongdelays.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UITimeControl obj={this.obj} editorNum={this.props.editorNum} propName='delayTime'/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'feedback'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\n//TODO: add rest of params? \nexport const UIPitchShift = observer(class UIPitchShift extends Component{\n  render() {\n    this.obj = store.effects.pitchshifts.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'pitch'} min={-24} max={24} mode={'steps'} step={1} density={10} numType={'integer'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\nexport const UIReverb = observer(class UIReverb extends Component{\n  render() {\n    this.obj = store.effects.reverbs.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'decay'} min={0.1} max={4} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'preDelay'} min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\nexport const UIStereoWidener = observer(class UIStereoWidener extends Component{\n  render() {\n    this.obj = store.effects.stereowideners.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='width' min={0} max={1} mode='range' step={null} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\nexport  const UITremolo = observer(class UITremolo extends Component{\n  render() {\n    this.obj = store.effects.tremolos.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='frequency' min={0} max={50} mode='range' step={null} density={1} numType={'float'} signal={true}/>\n        <UIWaveTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"type\"}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='depth' min={0} max={1} mode='range' step={null} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='spread' min={0} max={360} mode='range' step={null} density={1} numType={'float'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\nexport const UIVibrato = observer(class UIVibrato extends Component{\n  render() {\n    this.obj = store.effects.vibratos.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='frequency' min={0} max={50} mode='range' step={null} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='depth' min={0} max={1} mode='range' step={null} density={1} numType={'float'} signal={true}/>\n        <UIWaveTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"type\"}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'wet'} min={0} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})","//Copyright 2018-2019 Timothy Boie\n\nimport React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport { store } from '../../../../../data/store.js';\nimport { UIEditorHeader, UICustomRangeControl, UITimeControl, UIWaveTypeControl, UIFilterTypeControl, UIFilterRolloffControl } from './template.js';\n\n\nexport const UIFilter = props => {\n  let obj = store.components.filters.find(o => o.id === props.objId);\n\n  return (\n    <div className='divToolRowEditorContainer'>\n      <UIEditorHeader obj={obj} editorNum={props.editorNum} type={props.type}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='Q' min={0} max={10} mode={'steps'} step={1} density={10} numType={'integer'} signal={true}/>\n      <UIFilterTypeControl obj={obj} editorNum={props.editorNum} propName={\"type\"}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='frequency' min={0} max={10000} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      <UIFilterRolloffControl obj={obj} editorNum={props.editorNum} propName={\"rolloff\"}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='gain' min={-20} max={3} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n    </div>\n  )\n}\n\nexport const UIFrequencyEnvelope = props => {\n  let obj = store.components.frequencyenvelopes.find(o => o.id === props.objId);\n\n  return (\n    <div className='divToolRowEditorContainer'>\n      <UIEditorHeader obj={obj} editorNum={props.editorNum} type={props.type}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='attack' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='decay' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='sustain' min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='release' min={0.01} max={4} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='baseFrequency' min={20} max={1000} mode='range' step={null} density={1} numType={'float'} signal={false}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='octaves' min={0} max={10} mode={'steps'} step={1} density={1} numType={'float'} signal={false}/>\n    </div>\n  )\n}\n\n\nexport const UIAmplitudeEnvelope = props => {\n  let obj = store.components.amplitudeenvelopes.find(o => o.id === props.objId);\n    /*\n    attack: types.optional(types.number, 0.1),\n    decay: types.optional(types.number, 0.2),\n    sustain: types.optional(types.number, 1),\n    release: types.optional(types.number, 0.8),\n\n    attackCurve: types.optional(types.union(types.string, types.array(types.number)), \"linear\"), //linear exponential sine cosine bounce ripple step\n    decayCurve: types.optional(types.union(types.string, types.array(types.number)), \"exponential\"), \n    releaseCurve: types.optional(types.union(types.string, types.array(types.number)), \"exponential\"), \n    */\n\n  return (\n    <div className='divToolRowEditorContainer'>\n      <UIEditorHeader obj={obj} editorNum={props.editorNum} type={props.type}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='attack' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='decay' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='sustain' min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='release' min={0.01} max={4} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n    </div>\n  )\n}\n\nexport const UIGate = props => {\n  let obj = store.components.gates.find(o => o.id === props.objId);\n\n  return (\n    <div className='divToolRowEditorContainer'>\n      <UIEditorHeader obj={obj} editorNum={props.editorNum} type={props.type}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='threshold' min={-50} max={20} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='attack' min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='release' min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n    </div>\n  )\n}\n  \nexport const UILimiter = props => {\n  let obj = store.components.limiters.find(o => o.id === props.objId);\n\n  return (\n    <div className='divToolRowEditorContainer'>\n      <UIEditorHeader obj={obj} editorNum={props.editorNum} type={props.type}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='threshold' min={-100} max={0} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n    </div>\n  )\n}\n\n export const UILFO = props => {\n  let obj = store.components.lfos.find(o => o.id === props.objId);\n\n  return (\n    <div className='divToolRowEditorContainer'>\n      <UIEditorHeader obj={obj} editorNum={props.editorNum} type={props.type}/>\n      <UIWaveTypeControl obj={obj} editorNum={props.editorNum} propName={\"type\"}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName={'min'} min={-10000} max={10000} mode={'range'} step={1} density={1} numType={'integer'} signal={false}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName={'max'} min={-10000} max={10000} mode={'range'} step={1} density={1} numType={'integer'} signal={false}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName={'phase'} min={0} max={360} mode={'range'} step={1} density={1} numType={'integer'} signal={false}/>\n      <UITimeControl obj={obj} editorNum={props.editorNum} propName=\"frequency\"/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName={'amplitude'} min={0} max={1} mode={'range'} step={0.01} density={1} numType={'float'} signal={true}/>\n    </div>\n  )\n}\n  \n export const UICompressor = props => {\n  let obj = store.components.compressors.find(o => o.id === props.objId);\n  //attack/release min and max values probably need to be verified\n  return (\n    <div className='divToolRowEditorContainer'>\n      <UIEditorHeader obj={obj} editorNum={props.editorNum} type={props.type}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='ratio' min={1} max={30} mode={'steps'} step={1} density={30} numType={'integer'} signal={true}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='threshold' min={-50} max={0} mode={'range'} step={0.01} density={1} numType={'float'} signal={true}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='attack' min={0} max={0.2} mode={'range'} step={0.001} density={1} numType={'float'} signal={true}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='release' min={0.001} max={5} mode={'range'} step={0.001} density={1} numType={'float'} signal={true}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='knee' min={-50} max={50} mode={'range'} step={0.01} density={1} numType={'float'} signal={true}/>\n    </div>\n  )\n}\n  \nexport const UIMultibandCompressor = observer(class UIMultibandCompressor extends Component {\n  obj;\n  arrSections = ['main', 'low', 'mid', 'high'];\n  selSection = 'main';\n\n  selectSection = (section) => {\n    this.selSection = section;\n    this.forceUpdate();\n  }\n\n  getDisplay = (s) => {\n    return s === this.selSection ? 'block' : 'none';\n  }\n\n  render() {\n    this.obj = store.components.multibandcompressors.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} sections={this.arrSections} selSection={this.selSection} type={this.props.type} selectSection={this.selectSection}/>\n        <div style={{display:this.getDisplay('main')}}>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='lowFrequency' min={20} max={20000} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='highFrequency' min={20} max={20000} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n        </div>\n        { \n          this.arrSections.map(section => {\n            if(section !== 'main'){\n              return <div key={section + '_' + this.obj.id} style={{display:this.getDisplay(section)}}>\n                      <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='ratio' min={1} max={30} mode={'steps'} step={1} density={30} numType={'integer'} signal={true} child={section}/>\n                      <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='threshold' min={-50} max={0} mode={'range'} step={0.01} density={1} numType={'float'} signal={true} child={section}/>\n                      <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='attack' min={0} max={0.2} mode={'range'} step={0.001} density={1} numType={'float'} signal={true} child={section}/>\n                      <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='release' min={0.001} max={5} mode={'range'} step={0.001} density={1} numType={'float'} signal={true} child={section}/>\n                      <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='knee' min={-50} max={50} mode={'range'} step={0.01} density={1} numType={'float'} signal={true} child={section}/>\n                    </div>\n            }\n            else{\n              return null;\n            }\n          }) \n        }\n      </div>\n    )\n  }\n})\n\nexport const UIMidSideCompressor = observer(class UIMidSideCompressor extends Component {\n  obj;\n  arrSections = ['mid', 'side'];\n  selSection = 'mid';\n\n  selectSection = (section) => {\n    this.selSection = section;\n    this.forceUpdate();\n  }\n\n  getDisplay = (s) => {\n    return s === this.selSection ? 'block' : 'none';\n  }\n\n  render() {\n    this.obj = store.components.midsidecompressors.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} sections={this.arrSections} selSection={this.selSection} type={this.props.type} selectSection={this.selectSection}/>\n        { \n          this.arrSections.map(section => {\n            return <div key={section + '_' + this.obj.id} style={{display:this.getDisplay(section)}}>\n                      <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='ratio' min={1} max={30} mode={'steps'} step={1} density={30} numType={'integer'} signal={true} child={section}/>\n                      <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='threshold' min={-50} max={0} mode={'range'} step={0.01} density={1} numType={'float'} signal={true} child={section}/>\n                      <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='attack' min={0} max={0.2} mode={'range'} step={0.001} density={1} numType={'float'} signal={true} child={section}/>\n                      <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='release' min={0.001} max={5} mode={'range'} step={0.001} density={1} numType={'float'} signal={true} child={section}/>\n                      <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='knee' min={-50} max={50} mode={'range'} step={0.01} density={1} numType={'float'} signal={true} child={section}/>\n                  </div>\n          }) \n        }\n      </div>\n    )\n  }\n})\n  \nexport const UIMono = props => {\n  let obj = store.components.monos.find(o => o.id === props.objId);\n\n  return (\n    <div className='divToolRowEditorContainer'>\n      <UIEditorHeader obj={obj} editorNum={props.editorNum} type={props.type}/>\n    </div>\n  )\n}\n  \nexport const UIEQ3 = props => {\n  let obj = store.components.eq3s.find(o => o.id === props.objId);\n\n  return (\n    <div className='divToolRowEditorContainer'>\n      <UIEditorHeader obj={obj} editorNum={props.editorNum} type={props.type}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='low' min={-30} max={30} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='mid' min={-30} max={30} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='high' min={-30} max={30} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='lowFrequency' min={20} max={20000} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='highFrequency' min={20} max={20000} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='Q' min={0} max={10} mode={'steps'} step={1} density={10} numType={'integer'} signal={true}/>\n    </div>\n  )\n}\n  \nexport const UIPanVol = props => {\n  let obj = store.components.panvols.find(o => o.id === props.objId);\n\n  return (\n    <div className='divToolRowEditorContainer'>\n      <UIEditorHeader obj={obj} editorNum={props.editorNum} type={props.type}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='volume' min={-100} max={10} mode='range' step={null} density={1} numType={'float'} signal={true}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='pan' min={-1} max={1} mode='range' step={null} density={1} numType={'float'} signal={true}/>\n    </div>\n  )\n}\n\nexport const UILowpassCombFilter = props => {\n  let obj = store.components.lowpasscombfilters.find(o => o.id === props.objId);\n\n  return (\n    <div className='divToolRowEditorContainer'>\n      <UIEditorHeader obj={obj} editorNum={props.editorNum} type={props.type}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName={'delayTime'} min={0.001} max={1} mode={'range'} step={0.001} density={1} numType={'float'} signal={true}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName={'resonance'} min={0} max={1} mode={'range'} step={0.001} density={1} numType={'float'} signal={true}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName={'dampening'} min={20} max={20000} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n    </div>\n  )\n}\n\n  \nexport const UIFeedbackCombFilter = props => {\n  let obj = store.components.feedbackcombfilters.find(o => o.id === props.objId);\n\n  return (\n    <div className='divToolRowEditorContainer'>\n      <UIEditorHeader obj={obj} editorNum={props.editorNum} type={props.type}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName={'delayTime'} min={0.001} max={1} mode={'range'} step={0.001} density={1} numType={'float'} signal={true}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName={'resonance'} min={0} max={1} mode={'range'} step={0.001} density={1} numType={'float'} signal={true}/>\n    </div>\n  )\n}\n\nexport const UIMultibandSplit = observer(class UIMultibandSplit extends Component {\n  obj;\n  arrSections = ['main', 'low', 'mid', 'high'];\n  selSection = 'main';\n\n  selectSection = (section) => {\n    this.selSection = section;\n    this.forceUpdate();\n  }\n\n  getDisplay = (s) => {\n    return s === this.selSection ? 'block' : 'none';\n  }\n\n  render() {\n    this.obj = store.components.multibandsplits.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} sections={this.arrSections} selSection={this.selSection} type={this.props.type} selectSection={this.selectSection}/>\n        <div style={{display:this.getDisplay('main')}}>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='lowFrequency' min={20} max={20000} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='highFrequency' min={20} max={20000} mode={'range'} step={null} density={1} numType={'float'} signal={true}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='Q' min={0} max={10} mode={'steps'} step={1} density={10} numType={'integer'} signal={true}/>\n        </div>\n        { \n          this.arrSections.map(section => {\n            if(section !== 'main'){\n              return <div key={this.props.objId + '_' + section} style={{display:this.getDisplay(section)}}>\n                        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='Q' min={0} max={10} mode={'steps'} step={1} density={10} numType={'integer'} signal={true} child={section}/>\n                        <UIFilterTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"type\"}  child={section}/>\n                        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='frequency' min={0} max={10000} mode={'range'} step={null} density={1} numType={'float'} signal={true} child={section}/>\n                        <UIFilterRolloffControl obj={this.obj} editorNum={this.props.editorNum} propName={\"rolloff\"} child={section}/>\n                      </div>\n            }\n            else{\n              return null;\n            }\n          }) \n        }\n      </div>\n    )\n  }\n})\n\nexport const UIVolume = props => {\n  let obj = store.components.volumes.find(o => o.id === props.objId);\n\n  return (\n    <div className='divToolRowEditorContainer'>\n      <UIEditorHeader obj={obj} editorNum={props.editorNum} type={props.type}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='volume' min={-100} max={10} mode='range' step={null} density={1} numType={'float'} signal={true}/>\n    </div>\n  )\n}\n\n  \nexport const UIPanner = props => {\n  let obj = store.components.panners.find(o => o.id === props.objId);\n\n  return (\n    <div className='divToolRowEditorContainer'>\n      <UIEditorHeader obj={obj} editorNum={props.editorNum} type={props.type}/>\n      <UICustomRangeControl obj={obj} editorNum={props.editorNum} propName='pan' min={-1} max={1} mode='range' step={null} density={1} numType={'float'} signal={true}/>\n    </div>\n  )\n}","//Copyright 2018-2019 Timothy Boie\n\nimport React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport { store } from '../../../../../data/store.js';\nimport { UIEditorHeader, UICustomRangeControl, UIWaveTypeControl, UIFilterTypeControl, UIFilterRolloffControl, UICurveTypeControl, UINoiseTypeControl, UIOmniOscTypeControl } from './template.js';\n\nconst randomId = () => Math.random().toString(36).substr(2, 5)\n\nexport const UISynth = observer(class UISynth extends Component {\n  obj;\n  arrSections = ['main', 'env'];\n  selSection = 'main';\n\n  selectSection = (section) => {\n    this.selSection = section;\n    this.forceUpdate();\n  }\n\n  getDisplay = (s) => {\n    return s === this.selSection ? 'block' : 'none';\n  }\n\n  setRandomVals = () => {\n    this.random = randomId();\n    this.forceUpdate();\n  }\n\n  render() {\n    this.obj = store.instruments.synths.find(o => o.id === this.props.objId);\n    \n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} sections={this.arrSections} selSection={this.selSection} type={this.props.type} selectSection={this.selectSection} funcRandom={this.setRandomVals}/>\n        <div style={{display:this.getDisplay('main')}}>\n          <UIOmniOscTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={'type'} child={'oscillator'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='portamento' min={0} max={0.3} mode={'range'} step={0.01} density={1} numType={'float'} signal={false}/>\n        </div>\n        <div style={{display:this.getDisplay('env')}}>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='attack' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='decay' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='sustain' min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='release' min={0.01} max={4} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n        </div>\n      </div>\n    )\n  }\n})\n\n\nexport const UIAMSynth = observer(class UIAMSynth extends Component {\n  obj;\n  arrSections = ['main', 'env', 'mod'];\n  selSection = 'main';\n\n  selectSection = (section) => {\n    this.selSection = section;\n    this.forceUpdate();\n  }\n\n  getDisplay = (s) => {\n    return s === this.selSection ? 'block' : 'none';\n  }\n\n  setRandomVals = () => {\n    this.random = randomId();\n    this.forceUpdate();\n  }\n\n  render() {\n    this.obj = store.instruments.amsynths.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} sections={this.arrSections} selSection={this.selSection} type={this.props.type} selectSection={this.selectSection} funcRandom={this.setRandomVals}/>\n        <div style={{display:this.getDisplay('main')}}>\n          <UIOmniOscTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={'type'} child={'oscillator'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='harmonicity' min={0} max={4} mode={'range'} step={0.1} density={1} numType={'float'} signal={true} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='portamento' min={0} max={0.3} mode={'range'} step={0.01} density={1} numType={'float'} signal={false}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='detune' min={-100} max={100} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n        </div>\n        <div style={{display:this.getDisplay('env')}}>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='attack' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='decay' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='sustain' min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='release' min={0.01} max={4} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n        </div>\n        <div style={{display:this.getDisplay('mod')}}>\n          <UIWaveTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"type\"} child={'modulation'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='attack' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'modulationEnvelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='decay' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'modulationEnvelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='sustain' min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'modulationEnvelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='release' min={0.01} max={4} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'modulationEnvelope'} random={this.random}/>\n        </div>\n      </div>\n    )\n  }\n})\n\nexport const UIFMSynth = observer(class UIFMSynth extends Component {\n  obj;\n  arrSections = ['main', 'osc', 'mod'];\n  selSection = 'main';\n\n  selectSection = (section) => {\n    this.selSection = section;\n    this.forceUpdate();\n  }\n\n  getDisplay = (s) => {\n    return s === this.selSection ? 'block' : 'none';\n  }\n\n  setRandomVals = () => {\n    this.random = randomId();\n    this.forceUpdate();\n  }\n\n  render() {\n    this.obj = store.instruments.fmsynths.find(o => o.id === this.props.objId);\n    \n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} sections={this.arrSections} selSection={this.selSection} type={this.props.type} selectSection={this.selectSection} funcRandom={this.setRandomVals}/>\n        <div style={{display:this.getDisplay('main')}}>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='modulationIndex' min={0} max={40} mode={'range'} step={0.1} density={1} numType={'float'} signal={true} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='harmonicity' min={0} max={4} mode={'range'} step={0.1} density={1} numType={'float'} signal={true} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='portamento' min={0} max={0.3} mode={'range'} step={0.01} density={1} numType={'float'} signal={false}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='detune' min={-100} max={100} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n        </div>\n        <div style={{display:this.getDisplay('osc')}}>\n          <UIOmniOscTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={'type'} child={'oscillator'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='attack' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='decay' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='sustain' min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='release' min={0.01} max={4} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n        </div>\n        <div style={{display:this.getDisplay('mod')}}>\n          <UIWaveTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"type\"} child={'modulation'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='attack' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'modulationEnvelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='decay' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'modulationEnvelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='sustain' min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'modulationEnvelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='release' min={0.01} max={4} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'modulationEnvelope'} random={this.random}/>\n        </div>\n\n      </div>\n    )\n  }\n})\n\n\nexport const UIMonoSynth = observer(class UIMonoSynth extends Component {\n  obj;\n  arrSections = ['main', 'filter', 'env1', 'env2'];\n  selSection = \"main\";\n\n  selectSection = (section) => {\n    this.selSection = section;\n    this.forceUpdate();\n  }\n\n  getDisplay = (s) => {\n    return s === this.selSection || !s ? 'block' : 'none';\n  }\n\n  setRandomVals = () => {\n    this.random = randomId();\n    this.forceUpdate();\n  }\n\n  render() {\n    this.obj = store.instruments.monosynths.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} sections={this.arrSections} selSection={this.selSection} type={this.props.type} selectSection={this.selectSection} funcRandom={this.setRandomVals}/>\n        <MonoSynthVoice obj={this.obj} editorNum={this.props.editorNum} voice={null} getDisplay={(section, child) => this.getDisplay(section)} random={this.random}/>\n      </div>\n    )\n  }\n})\n\n\nexport const UIMetalSynth = observer(class UIMetalSynth extends Component {\n  obj;\n  arrSections = ['main', 'env'];\n  selSection = 'main';\n\n  selectSection = (section) => {\n    this.selSection = section;\n    this.forceUpdate();\n  }\n\n  getDisplay = (s) => {\n    return s === this.selSection ? 'block' : 'none';\n  }\n\n  setRandomVals = () => {\n    this.random = randomId();\n    this.forceUpdate();\n  }\n\n  render() {\n    this.obj = store.instruments.metalsynths.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} sections={this.arrSections} selSection={this.selSection} type={this.props.type} selectSection={this.selectSection} funcRandom={this.setRandomVals}/>\n        <div style={{display:this.getDisplay('main')}}>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='modulationIndex' min={0} max={40} mode={'range'} step={0.1} density={1} numType={'float'} signal={false} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='resonance' min={0} max={8000} mode={'range'} step={null} density={1} numType={'float'} signal={false}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='octaves' min={0} max={4} mode={'steps'} step={0.25} density={1} numType={'float'} signal={false}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='harmonicity' min={0} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={false} random={this.random}/>\n        </div>\n        <div style={{display:this.getDisplay('env')}}>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='attack' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='decay' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='sustain' min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='release' min={0.01} max={4} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n        </div>\n      </div>\n    )\n  }\n})\n\nexport const UIMembraneSynth = observer(class UIMembraneSynth extends Component {\n  obj;\n  arrSections = ['main', 'env'];\n  selSection = 'main';\n\n  selectSection = (section) => {\n    this.selSection = section;\n    this.forceUpdate();\n  }\n\n  getDisplay = (s) => {\n    return s === this.selSection ? 'block' : 'none';\n  }\n\n  setRandomVals = () => {\n    this.random = randomId();\n    this.forceUpdate();\n  }\n\n  render() {\n    this.obj = store.instruments.membranesynths.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} sections={this.arrSections} selSection={this.selSection} type={this.props.type} selectSection={this.selectSection} funcRandom={this.setRandomVals}/>\n        <div style={{display:this.getDisplay('main')}}>\n          <UIOmniOscTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={'type'} child={'oscillator'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='octaves' min={0.5} max={6} mode={'steps'} step={0.5} density={1} numType={'float'} signal={false} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='pitchDecay' min={0} max={0.2} mode={'range'} step={0.01} density={1} numType={'float'} signal={false} random={this.random}/>\n        </div>\n        <div style={{display:this.getDisplay('env')}}>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='attack' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='decay' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='sustain' min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='release' min={0.01} max={4} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={this.random}/>\n          <UICurveTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"attackCurve\"} child={'envelope'} random={this.random}/>\n        </div>\n      </div>\n    )\n  }\n})\n\nexport const UIPluckSynth = observer(class UIPluckSynth extends Component {\n  obj;\n\n  setRandomVals = () => {\n    this.random = randomId();\n    this.forceUpdate();\n  }\n\n  render() {\n    this.obj = store.instruments.plucksynths.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type} funcRandom={this.setRandomVals}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='attackNoise' min={0.1} max={20} mode={'range'} step={0.01} density={1} numType={'float'} signal={false} random={this.random}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='dampening' min={20} max={10000} mode='range' step={null} density={1} numType={'float'} signal={false} random={this.random}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='resonance' min={0} max={1} mode='range' step={0.01} density={1} numType={'float'} signal={false} random={this.random}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\nexport const UINoiseSynth = observer(class UINoiseSynth extends Component {\n  obj;\n\n  render() {\n    this.obj = store.instruments.noisesynths.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type} />\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n        <UINoiseTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"type\"} child={'noise'}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='attack' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='decay' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='sustain' min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='release' min={0.01} max={4} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'}/>\n      </div>\n    )\n  }\n})\n\nexport const UIDuoSynth = observer(class UIDuoSynth extends Component {\n  obj;\n  arrSections = ['main', 'voice0', 'voice1'];\n  arrChildSections = [];\n  selSection = \"main\";\n  selChildSection = \"main\";\n\n  selectSection = (section, child) => {\n    if(!child){\n      this.selSection = section;\n\n      if(this.selSection === 'main')\n        this.arrChildSections = [];\n      else\n        this.arrChildSections = ['main', 'filter', 'env1', 'env2'];\n    }\n    else\n      this.selChildSection = section;\n    \n    this.forceUpdate();\n  }\n\n  getDisplay = (s, child) => {\n    let selection = this.selSection;\n    if(child)\n      selection = this.selChildSection;\n\n    return s === selection ? 'block' : 'none';\n  }\n\n  setRandomVals = () => {\n    this.random = randomId();\n    this.forceUpdate();\n  }\n\n  render() {\n    this.obj = store.instruments.duosynths.find(o => o.id === this.props.objId);\n\n    let childHeader = null;\n    if(this.selSection !== \"main\")\n      childHeader = <div style={{height:'32px'}}><UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} sections={this.arrChildSections} selSection={this.selChildSection} type={this.props.type} selectSection={this.selectSection} parent={this.selSection}/><br/><br/></div>\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} sections={this.arrSections} selSection={this.selSection} type={this.props.type} selectSection={this.selectSection} funcRandom={this.setRandomVals}/>\n        { childHeader }\n        <div style={{display:this.getDisplay('main')}}>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='vibratoAmount' min={0} max={1} mode={'range'} step={0.01} density={1} numType={'float'} signal={true} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='vibratoRate' min={0} max={1000} mode={'range'} step={null} density={1} numType={'float'} signal={true} random={this.random}/>\n          <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='harmonicity' min={0} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true} random={this.random}/>\n        </div>\n        <MonoSynthVoice obj={this.obj.voice0} editorNum={this.props.editorNum} voice={'voice0'} getDisplay={(section, child) => this.getDisplay(section, child)} random={this.random}/>\n        <MonoSynthVoice obj={this.obj.voice1} editorNum={this.props.editorNum} voice={'voice1'} getDisplay={(section, child) => this.getDisplay(section, child)} random={this.random}/>\n    </div>\n    )\n  }\n})\n\nconst MonoSynthVoice = observer(props =>\n  <div style={{display: props.getDisplay(props.voice)}}>\n    <div style={{display: props.getDisplay('main', true)}}>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n      <UIOmniOscTypeControl obj={props.obj} editorNum={props.editorNum} propName={'type'} child={'oscillator'} random={props.random}/>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='detune' min={-100} max={100} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='portamento' min={0} max={0.3} mode={'range'} step={0.01} density={1} numType={'float'} signal={false}/>\n    </div>\n    <div style={{display: props.getDisplay('filter', true)}}>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='Q' min={0} max={10} mode={'steps'} step={1} density={10} numType={'integer'} signal={true} child={'filter'} random={props.random}/>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='frequency' min={0} max={10000} mode={'range'} step={null} density={1} numType={'float'} signal={true} child={'filter'} random={props.random}/>\n      <UIFilterTypeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='type' child={'filter'} random={props.random}/>\n      <UIFilterRolloffControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='rolloff' child={'filter'} random={props.random}/>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='gain' min={-20} max={3} mode={'range'} step={null} density={1} numType={'float'} signal={true} child={'filter'} random={props.random}/>\n    </div>\n    <div style={{display: props.getDisplay('env1', true)}}>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='attack' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={props.random}/>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='decay' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={props.random}/>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='sustain' min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={props.random}/>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='release' min={0.01} max={4} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'envelope'} random={props.random}/>\n    </div>\n    <div style={{display: props.getDisplay('env2', true)}}>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='attack' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'filterEnvelope'} random={props.random}/>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='decay' min={0.01} max={2} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'filterEnvelope'} random={props.random}/>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='sustain' min={0.01} max={1} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'filterEnvelope'} random={props.random}/>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='release' min={0.01} max={4} mode={'range'} step={null} density={1} numType={'float'} signal={false} child={'filterEnvelope'} random={props.random}/>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='baseFrequency' min={20} max={1000} mode='range' step={null} density={1} numType={'float'} signal={false} child={'filterEnvelope'} random={props.random}/>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='octaves' min={0} max={10} mode={'steps'} step={1} density={1} numType={'float'} signal={false} child={'filterEnvelope'} random={props.random}/>\n      <UICustomRangeControl obj={props.obj} editorNum={props.editorNum} voice={props.voice} propName='exponent' min={1} max={10} mode={'steps'} step={1} density={1} numType={'integer'} signal={false} child={'filterEnvelope'} random={props.random}/>\n    </div>\n  </div>\n)\n\nexport const UITinySynth = observer(class UITinySynth extends Component {\n  obj;\n\n  render() {\n    // tinysynth -> panvol\n    let tokens = this.props.objId.split('_')\n    this.obj = store.instruments.tinysynths.find(o => o.id === tokens[0] + '_' + tokens[2]);\n    this.panvol = store.components.panvols.find(o => o.id === this.props.objId);\n    \n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type} />\n        {/*<UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='channel' min={0} max={15} mode={'steps'} step={1} density={1} numType={'integer'} signal={false}/>*/}\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='instrument' min={0} max={127} mode={'steps'} step={1} density={10} numType={'integer'} signal={false}/>\n        <UICustomRangeControl obj={this.panvol} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})","//Copyright 2018-2019 Timothy Boie\n\nimport React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport { store } from '../../../../../data/store.js';\nimport { UIEditorHeader, UICustomRangeControl, UIWaveTypeControl, UINoiseTypeControl } from './template.js';\n\n\nexport const UIOscillator = observer(class UIOscillator extends Component {\n  render() {\n    this.obj = store.sources.oscillators.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type} />\n        <UIWaveTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"type\"}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'detune'} min={-100} max={100} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'phase'} min={0} max={360} mode={'range'} step={1} density={1} numType={'integer'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\nexport const UIAMOscillator = observer(class UIAMOscillator extends Component {\n  render() {\n    this.obj = store.sources.amoscillators.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type} />\n        <UIWaveTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"type\"}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'detune'} min={-100} max={100} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'phase'} min={0} max={360} mode={'range'} step={1} density={1} numType={'integer'} signal={false}/>\n        <UIWaveTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"modulationType\"}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='harmonicity' min={0} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\nexport const UIFMOscillator = observer(class UIFMOscillator extends Component {\n  render() {\n    this.obj = store.sources.fmoscillators.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type} />\n        <UIWaveTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"type\"}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'detune'} min={-100} max={100} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'phase'} min={0} max={360} mode={'range'} step={1} density={1} numType={'integer'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='modulationIndex' min={0} max={100} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n        <UIWaveTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"modulationType\"}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='harmonicity' min={0} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\nexport const UIFatOscillator = observer(class UIFatOscillator extends Component {\n  render() {\n    this.obj = store.sources.fatoscillators.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type} />\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'detune'} min={-100} max={100} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'phase'} min={0} max={360} mode={'range'} step={1} density={1} numType={'integer'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'spread'} min={0} max={360} mode={'range'} step={1} density={1} numType={'integer'} signal={false}/>\n        { /*} rapid firing breaks this\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'count'} min={1} max={10} mode={'steps'} step={1} density={10} numType={'integer'} signal={false}/>\n*/ }\n        <UIWaveTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"type\"}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\nexport const UIPWMOscillator = observer(class UIPWMOscillator extends Component {\n  render() {\n    this.obj = store.sources.pwmoscillators.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type} />\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'detune'} min={-100} max={100} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'phase'} min={0} max={360} mode={'range'} step={1} density={1} numType={'integer'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'modulationFrequency'} min={0} max={1000} mode={'range'} step={1} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\nexport const UIPulseOscillator = observer(class UIPulseOscillator extends Component {\n  render() {\n    this.obj = store.sources.pulseoscillators.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type} />\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'detune'} min={-100} max={100} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'phase'} min={0} max={360} mode={'range'} step={1} density={1} numType={'integer'} signal={false}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'width'} min={0} max={1} mode={'range'} step={0.01} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\nexport const UINoise = observer(class UINoise extends Component {\n  render() {\n    this.obj = store.sources.noises.find(o => o.id === this.props.objId);\n\n    return (\n      <div className='divToolRowEditorContainer'>\n        <UIEditorHeader obj={this.obj} editorNum={this.props.editorNum} type={this.props.type} />\n        <UINoiseTypeControl obj={this.obj} editorNum={this.props.editorNum} propName={\"type\"}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName={'playbackRate'} min={0} max={100} mode={'range'} step={0.01} density={1} numType={'float'} signal={true}/>\n        <UICustomRangeControl obj={this.obj} editorNum={this.props.editorNum} propName='volume' min={-100} max={10} mode={'range'} step={0.1} density={1} numType={'float'} signal={true}/>\n      </div>\n    )\n  }\n})\n\n\n\n\n","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\n\nimport { UIAutoFilter, UIAutoPanner, UIAutoWah, UIBitCrusher, UIChebyshev, UIChorus, UIConvolver, UIDistortion, UIFeedbackDelay, UIFreeverb, UIJCReverb, UIPhaser, UIPingPongDelay, UIPitchShift, UIReverb, UIStereoWidener, UITremolo, UIVibrato } from './panels/effects.js';\nimport { UIAmplitudeEnvelope, UICompressor, UIEQ3, UIFilter, UILFO, UIFrequencyEnvelope, UILimiter, UIGate, UIMono, UIPanVol, UIFeedbackCombFilter, UILowpassCombFilter, UIMultibandCompressor, UIMidSideCompressor, UIMultibandSplit, UIVolume, UIPanner } from './panels/components.js';\nimport { UISynth, UIAMSynth, UIFMSynth, UIMonoSynth, UIMetalSynth, UIMembraneSynth, UIPluckSynth, UINoiseSynth, UIDuoSynth, UITinySynth } from './panels/instruments.js';\nimport { UIOscillator, UIAMOscillator, UIFMOscillator, UIFatOscillator, UIPWMOscillator, UIPulseOscillator, UINoise } from './panels/sources.js';\n\n\nexport const ToolObjEditor = observer(class ToolObjEditor extends Component {\n    componentDidMount(){ }\n  \n    update = () => {\n      this.forceUpdate();\n    }\n  \n    render(){\n      let display = null;\n      let type = this.props.objId.split(\"_\")[0];\n  \n      switch(type) {\n        case \"autofilter\":\n          display = <UIAutoFilter objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"autopanner\":\n          display = <UIAutoPanner objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"autowah\":\n          display = <UIAutoWah objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"bitcrusher\":\n          display = <UIBitCrusher objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"chebyshev\":\n          display = <UIChebyshev objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"chorus\":\n          display = <UIChorus objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"convolver\":\n          display = <UIConvolver objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"distortion\":\n          display = <UIDistortion objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"feedbackdelay\":\n          display = <UIFeedbackDelay objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"freeverb\":\n          display = <UIFreeverb objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"jcreverb\":\n          display = <UIJCReverb objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"phaser\":\n          display = <UIPhaser objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"pingpongdelay\":\n          display = <UIPingPongDelay objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"pitchshift\":\n          display = <UIPitchShift objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"reverb\":\n          display = <UIReverb objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"stereowidener\":\n          display = <UIStereoWidener objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"tremolo\":\n          display = <UITremolo objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n        case \"vibrato\":\n          display = <UIVibrato objId={this.props.objId} editorNum={this.props.editorNum} type=\"effect\"/>\n          break;\n  \n        //components\n        case \"amplitudeenvelope\":\n          display = <UIAmplitudeEnvelope objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"compressor\":\n          display = <UICompressor objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"eq3\":\n          display = <UIEQ3 objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"filter\":\n          display = <UIFilter objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"frequencyenvelope\":\n          display = <UIFrequencyEnvelope objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"limiter\":\n          display = <UILimiter objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"lfo\":\n          display = <UILFO objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"gate\":\n          display = <UIGate objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"mono\":\n          display = <UIMono objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"panvol\":\n          display = <UIPanVol objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"feedbackcombfilter\":\n          display = <UIFeedbackCombFilter objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"lowpasscombfilter\":\n          display = <UILowpassCombFilter objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"multibandcompressor\":\n          display = <UIMultibandCompressor objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"midsidecompressor\":\n          display = <UIMidSideCompressor objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"multibandsplit\":\n          display = <UIMultibandSplit objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"volume\":\n          display = <UIVolume objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n        case \"panner\":\n          display = <UIPanner objId={this.props.objId} editorNum={this.props.editorNum} type=\"component\"/>\n          break;\n  \n        //instruments\n        case \"synth\":\n          display = <UISynth objId={this.props.objId} editorNum={this.props.editorNum} type=\"instrument\"/>\n          break;\n        case \"amsynth\":\n          display = <UIAMSynth objId={this.props.objId} editorNum={this.props.editorNum} type=\"instrument\"/>\n          break;\n        case \"fmsynth\":\n          display = <UIFMSynth objId={this.props.objId} editorNum={this.props.editorNum} type=\"instrument\"/>\n          break;\n        case \"monosynth\":\n          display = <UIMonoSynth objId={this.props.objId} editorNum={this.props.editorNum} type=\"instrument\"/>\n          break;\n        case \"metalsynth\":\n          display = <UIMetalSynth objId={this.props.objId} editorNum={this.props.editorNum} type=\"instrument\"/>\n          break;\n        case \"membranesynth\":\n          display = <UIMembraneSynth objId={this.props.objId} editorNum={this.props.editorNum} type=\"instrument\"/>\n          break\n        case \"plucksynth\":\n          display = <UIPluckSynth objId={this.props.objId} editorNum={this.props.editorNum} type=\"instrument\"/>\n          break\n        case \"noisesynth\":\n          display = <UINoiseSynth objId={this.props.objId} editorNum={this.props.editorNum} type=\"instrument\"/>\n          break\n        case \"duosynth\":\n          display = <UIDuoSynth objId={this.props.objId} editorNum={this.props.editorNum} type=\"instrument\"/>\n          break\n        case \"tinysynth\":\n          display = <UITinySynth objId={this.props.objId} editorNum={this.props.editorNum} type=\"instrument\"/>\n          break\n  \n        //sources\n        case \"oscillator\":\n          display = <UIOscillator objId={this.props.objId} editorNum={this.props.editorNum} type=\"source\"/>\n          break;\n        case \"amoscillator\":\n          display = <UIAMOscillator objId={this.props.objId} editorNum={this.props.editorNum} type=\"source\"/>\n          break;\n        case \"fmoscillator\":\n          display = <UIFMOscillator objId={this.props.objId} editorNum={this.props.editorNum} type=\"source\"/>\n          break;\n        case \"fatoscillator\":\n          display = <UIFatOscillator objId={this.props.objId} editorNum={this.props.editorNum} type=\"source\"/>\n          break;\n        case \"pwmoscillator\":\n          display = <UIPWMOscillator objId={this.props.objId} editorNum={this.props.editorNum} type=\"source\"/>\n          break;\n        case \"pulseoscillator\":\n          display = <UIPulseOscillator objId={this.props.objId} editorNum={this.props.editorNum} type=\"source\"/>\n          break;\n        case \"noise\":\n          display = <UINoise objId={this.props.objId} editorNum={this.props.editorNum} type=\"source\"/>\n          break;\n  \n        case null:\n          display = null;\n          break;\n        default:\n          display = null;\n      }\n  \n      return(display)\n    }\n  })","import React from 'react';\n\nimport { ToolSampleEditor } from \"./sample/sample.js\";\nimport { ToolRecord } from \"./record/record.js\";\nimport { ToolObjEditor } from \"./objs/objs.js\";\n\nexport const ToolEditor = props => {\n  let type;\n  \n  if(props.objId){\n    if(props.objId.split(\"_\")[0] === \"player\" || props.objId.split(\"_\")[0] === \"sample\"){\n      type = <ToolSampleEditor store={props.store} \n                  file={props.file} \n                  tracks={props.tracks} \n                  objId={props.objId} \n                  selectedTrack={props.store.ui.selectedTrack} \n                  winWidth={props.store.ui.windowWidth}\n                  selectedToolbar={props.store.ui.selectedToolbar} \n                  selectedGroup={props.store.ui.selectedGroup}\n                  editorNum={props.editorNum}\n                />\n    }\n    else if(props.objId.split(\"_\")[0] === \"record\"){\n      type = <ToolRecord store={props.store} objId={props.objId} editorNum={props.editorNum}/>\n    }\n    else{\n      type = <ToolObjEditor objId={props.objId} editorNum={props.editorNum}/>\n    }\n  }\n  else{\n    type = <div style={{width:'100%', height:'100%', display:'table'}}>\n              <div className='labelCenter'>No Object Selected</div>\n            </div>\n  }\n\n  return(\n      <div id={\"divToolEditor\" + props.editorNum} className=\"divToolRowPanelContainer\">\n        {type}\n      </div>\n    )\n}","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport * as Tone from \"tone\";\nimport { store } from \"../../data/store.js\";\nimport interact from 'interactjs';\nimport { randomId } from \"../../models/models.js\";\n\nimport { ListBrowser } from \"./browse/browse.js\";\nimport { ToolHome } from \"./home/home.js\";\nimport { ToolSynth } from \"./synth/synth.js\";\nimport { ToolEditor } from \"./editor/editor.js\";\n\nexport const ToolRow = observer(class ToolRow extends Component {\n    activeTool;\n    selectedFile;\n    toolRowHeight = '200px'; //set in css \n    action;\n    songList;\n  \n    componentDidMount(){\n      this.applyResizable();\n\n      if(this.props.selectedToolbar !== 'home')\n        document.getElementById('btnToolHome').click();\n\n      window.addEventListener(\"wheel\", e => {\n        //don't zoom if curosr over bottom tool window\n        let bottom = store.ui.windowHeight - 80;\n        if(this.activeTool)\n          bottom -= this.toolRowHeight.replace('px','');\n        \n        if(e.pageY < bottom && e.pageX < store.ui.windowWidth){\n          let dir = Math.sign(e.deltaY);\n          if(dir > 0)\n            this.UIZoomIn();\n          else\n            this.UIZoomOut();\n        }\n      })\n  \n      interact('#container')\n        .gesturable({\n          onstart: e => {},\n          onmove: e => {\n            if(e.ds > 0)\n              this.UIZoomIn();\n            else\n              this.UIZoomOut();\n          },\n          onend: e => {}\n        })\n    }\n  \n    componentDidUpdate(prevProps){\n      if(prevProps.windowHeight !== this.props.windowHeight){\n        let ele = document.getElementById('divToolRow');\n        if(ele){\n          let eleHeight = ele.style.height.replace('px','');\n          if(eleHeight > this.props.windowHeight - 140)\n            ele.style.height = (this.props.windowHeight - 140) + 'px';\n        }\n      }\n      if(prevProps.selectedToolbar !== this.props.selectedToolbar){\n        this.displayTool(this.props.selectedToolbar)\n      }\n\n      //hide zoom icons for manager mode\n      if(this.props.mode === 'manager'){\n        document.getElementById('divZoom').style.display = 'none';\n      }\n      else{\n        document.getElementById('divZoom').style.display = 'block';\n      }\n    }\n  \n    applyResizable = () => {\n      let self = this;\n      let handleBG = document.getElementsByClassName('divToolRowHandleBG');\n  \n      interact('#divToolRow').resizable({\n        edges: {\n          top: '#divToolRowHandle',\n          left: false,\n          bottom: false,\n          right: false \n        },\n        inertia: true,\n        allowFrom: '#divToolRowHandle',\n        onend: function(event){\n          handleBG[0].style.backgroundColor = \"#19937a\";\n          handleBG[1].style.backgroundColor = \"#19937a\";\n        },\n      }).on('down', function(event) {\n        if(event.target.id === \"divToolRowHandle\"){\n          handleBG[0].style.backgroundColor = \"gray\";\n          handleBG[1].style.backgroundColor = \"gray\";\n        }\n      }).on('up', function(event) {\n          handleBG[0].style.backgroundColor = \"#19937a\";\n          handleBG[1].style.backgroundColor = \"#19937a\";\n      }).on('resizemove', function (event) {\n        if(event.rect){\n          if(event.rect.height < (store.ui.getWindowSizes.height - 140))\n            event.target.style.height = event.rect.height + 'px';\n\n          handleBG[0].style.backgroundColor = \"gray\";\n          handleBG[1].style.backgroundColor = \"gray\";\n        }\n  \n        if(event.target.style.height)\n          self.toolRowHeight = event.target.style.height;\n  \n        if(store.ui.selectedToolbar === 'synth'){\n          self.forceUpdate();\n        }\n      })\n    }\n  \n    UIZoomIn = () => {\n      let viewLength = this.props.store.ui.viewLength;\n      let newTime = Tone.Time(viewLength) - Tone.Time(\"0:1:0\");\n      this.props.store.ui.setViewLength(Tone.Time(newTime).toBarsBeatsSixteenths());\n    }\n  \n    UIZoomOut = () => {\n      let viewLength = this.props.store.ui.viewLength;\n      let newTime = Tone.Time(viewLength) + Tone.Time(\"0:1:0\");\n      this.props.store.ui.setViewLength(Tone.Time(newTime).toBarsBeatsSixteenths());\n    }\n  \n    toggleTool = (e) => {\n      let selection = e.target.id.substr(7).toLowerCase();\n      if(store.ui.selectedToolbar === selection)\n        store.ui.selectToolbar(undefined);\n      else\n        store.ui.selectToolbar(selection)\n    }\n\n    displayTool = (tool) => {\n      if(tool)\n        tool = 'btnTool' + tool.charAt(0).toUpperCase() + tool.slice(1);\n\n      this.activeTool = tool;\n\n      //toggle nav button class\n      let btns = document.getElementsByClassName('btnToolRowNav');\n      for(let i=0; i < btns.length; i++){\n        if(btns[i].id === this.activeTool && !btns[i].classList.contains('btnToolRowNavSelected'))\n          btns[i].classList.add('btnToolRowNavSelected');\n        else\n          btns[i].classList.remove('btnToolRowNavSelected');\n      }\n\n      //main container \n      if(this.activeTool)\n        document.getElementById('divToolRow').style.display = 'block';\n      else\n        document.getElementById('divToolRow').style.display = 'none';\n\n      //individual panels\n      let panels = document.getElementsByClassName('divToolRowPanelContainer');\n      for(let k=0; k < panels.length; k++){\n        if(this.activeTool){\n          if(this.activeTool.substr(3) === panels[k].id.substr(3)){\n            panels[k].classList.remove('hidden');\n          }\n          else if(!panels[k].classList.contains('hidden')){\n            panels[k].classList.add('hidden');\n          }\n        }\n        else if(!panels[k].classList.contains('hidden')){\n          panels[k].classList.add('hidden')\n        }\n      }\n\n      //update height for synth panel\n      //TODO: observable toolRowHeight?\n      if(store.ui.selectedToolbar === 'synth'){\n        interact('#divToolRow').fire({ type: 'resizemove', target: document.getElementById('divToolRow')});\n      }\n    }\n  \n    selectBrowserFile = (e, node) => {\n      if(node.type === \"instrument\" || node.type === \"source\"){\n        if(this.activeTool !== 'btnToolSynth')\n          document.getElementById('btnToolSynth').click();\n      }\n      else if(node.type === \"component\" || node.type === \"effect\"){\n        if(this.activeTool !== 'btnToolEditor1')\n          document.getElementById('btnToolEditor1').click();\n      }\n      else if(node.type === \"sample\"){\n        if(node.name === \"...Record\"){\n          store.ui.selectObj(\"record_\" + randomId());\n        }\n        else if(node.id){\n          this.selectedFile = node.id;\n          store.ui.selectObj(\"player_\");\n          this.forceUpdate();\n        }\n        else if(node.url && node.name){\n          this.selectedFile = node.url + '/' + node.name;\n          store.ui.selectObj(\"player_\");\n          this.forceUpdate();\n        }\n  \n        if(this.activeTool !== 'btnToolEditor1')\n          document.getElementById('btnToolEditor1').click();\n      }\n    }\n\n    render(){\n      let toolBrowse;\n\n      let arrayBrowsers = ['browser1','browser2'].map(name => {\n              return <ListBrowser selectedDir={this.props.store.ui.toolbar.browser[name].selectedDir} id={name}\n                        songKey={this.props.store.settings.key} songScale={this.props.store.settings.scale}\n                        songSwing={this.props.store.settings.swingSubdivision} modified={this.props.store.settings.modified}\n                        numSamples={this.props.store.numSamples} numRegions={this.props.store.numRegions}\n                        selectedGroup={this.props.store.ui.selectedGroup}/>\n      })\n\n      if(this.props.store.ui.windowWidth >= 480){\n        toolBrowse =  <div id=\"divToolBrowse\" className=\"divToolRowPanelContainer\">\n                        <div style={{width:'50%', height:'100%', float:'left', position:'relative'}}>\n                          { arrayBrowsers[0] }\n                        </div>\n                        <div style={{width:'50%', height:'100%', float:'left', position:'relative'}}>\n                          { arrayBrowsers[1] }\n                        </div>\n                      </div>\n      }\n      else{\n        toolBrowse = <div id=\"divToolBrowse\" className=\"divToolRowPanelContainer\">\n                        { arrayBrowsers[0]}\n                      </div>\n      }\n      \n      return(\n        <div id=\"divToolRowContainer\" style={{width: this.props.store.ui.windowWidth + 'px'}}>\n          <ToggleModeIcons store={this.props.store} windowWidth={this.props.store.ui.windowWidth} viewMode={this.props.store.ui.viewMode} \n                              selectedGroup={this.props.store.ui.selectedGroup} mixMode={this.props.store.ui.mixMode} editMode={this.props.store.ui.editMode}\n                              editViewMode={this.props.store.ui.views.edit.mode} managerMode={this.props.store.ui.views.manager.mode}\n                              multiNoteSelect={this.props.store.ui.views.edit.multiNoteSelect}/>\n          <div id=\"divZoom\">\n            <button id=\"btnUIZoomOut\" className=\"btnUIZoom\" onClick={this.UIZoomOut}><i className=\"material-icons i-36\" style={{marginLeft: '-4px'}}>remove_circle</i></button>\n            <button id=\"btnUIZoomIn\" className=\"btnUIZoom\" onClick={this.UIZoomIn}><i className=\"material-icons i-36\" style={{marginLeft: '-4px'}}>add_circle</i></button>\n          </div>\n          <div id='divToolRowIconsBG'></div>\n          <div id=\"divToolRow\">\n            <div id=\"divToolRowHandle\" className=\"divToolRowHandleBG\">\n              <div id=\"divToolRowHandleThumb\" className=\"divToolRowHandleBG\">\n                <i className=\"material-icons i-28\" style={{marginLeft:'11px', marginTop:'4px', color:'#12121e', pointerEvents:'none'}}>swap_vert</i>\n              </div>\n            </div>\n            <ToolHome store={this.props.store}/>\n            { toolBrowse }\n            <ToolEditor store={this.props.store} editorNum={1} file={this.selectedFile} tracks={this.props.store.tracks} objId={this.props.store.ui.toolbar.editor1.selectedObj}/>\n            <ToolEditor store={this.props.store} editorNum={2} file={this.selectedFile} tracks={this.props.store.tracks} objId={this.props.store.ui.toolbar.editor2.selectedObj}/>\n            <ToolSynth store={this.props.store} selectedTrack={this.props.store.ui.selectedTrack} height={this.toolRowHeight} \n                            scale={this.props.store.settings.scale} scaleKey={this.props.store.settings.key} chord={this.props.store.ui.selectedChord}/>\n          </div>\n          <div id=\"divToolRowNav\">\n            <button id=\"btnToolHome\" className=\"btnToolRowNav\" onClick={this.toggleTool}>Main</button>\n            <button id=\"btnToolBrowse\" className=\"btnToolRowNav\" onClick={this.toggleTool}>Lib</button>\n            <button id=\"btnToolEditor1\" className=\"btnToolRowNav\" onClick={this.toggleTool}>Edt1</button>\n            <button id=\"btnToolEditor2\" className=\"btnToolRowNav\" onClick={this.toggleTool}>Edt2</button>\n            <button id=\"btnToolSynth\" className=\"btnToolRowNav\" onClick={this.toggleTool}>Keys</button> \n          </div>\n        </div>\n      )\n    }\n  })\n\n\nconst ToggleModeIcons = props => {\n  const setEditIcon = () => {\n    if(props.viewMode === \"edit\"){\n      if(props.editViewMode === 'graph'){\n        if(props.editMode)\n          return \"open_with\";\n        else\n          return \"arrow_right_alt\";\n      }\n      else if(props.editViewMode === 'bar'){\n        return \"file_copy\";\n      }\n    }\n    else if(props.viewMode === \"button\"){\n      if(props.editMode)\n        return \"open_with\";\n      else\n        return \"volume_up\";\n    }\n    else if(props.viewMode === \"manager\"){\n      return props.managerMode === \"scene\" ? \"T\" : \"S\";\n    }\n    else {\n      return \"equalizer\";\n    }\n  }\n\n  const toggleGroup = (e, next) => {\n    let group = undefined;\n\n    if(next){\n      if(props.selectedGroup === \"M\")\n        group = 'A'\n      else if(props.selectedGroup === 'A')\n        group = 'B'\n      else if(props.selectedGroup === 'B')\n        group = 'C'\n      else if(props.selectedGroup === 'C')\n        group = 'D'\n      else if(props.selectedGroup === 'D'){\n        if(store.ui.viewMode === 'button')\n          group = 'A';\n        else\n          group = 'M';\n      }\n    }\n    else {\n      if(!e.target.id)\n        group = e.target.innerHTML;\n      else\n        group = e.target.children[0].innerHTML;\n    }\n\n    store.ui.selectGroup(group);\n  }\n\n  const toggleMultiNoteSelect = (e) => {\n    store.ui.views.edit.toggleMultiNoteSelect();\n  }\n\n  const toggleMode = () => {\n    if(props.viewMode === \"edit\" || props.viewMode === \"button\"){\n      store.ui.toggleEditMode();\n    }\n    else if(props.viewMode === \"sequencer\" && props.selectedGroup !== 'M'){\n      store.ui.toggleMixMode();\n    }\n    else if(props.viewMode === 'manager'){\n      if(props.managerMode === 'scene')\n        store.ui.views.manager.setMode('track')\n      else\n        store.ui.views.manager.setMode('scene')\n    }\n  }\n\n  let bgVisibility= 'visible';\n\n  let iconOpacity = 1;\n  if((props.viewMode === \"sequencer\" && !props.mixMode) || (props.viewMode === 'edit' && props.editViewMode === 'bar' && !props.editMode))\n      iconOpacity = 0.3;\n  \n  let showGroupIcon = 'block', iconStyleClass = '';\n  if(props.viewMode === 'edit'){\n    showGroupIcon = store.ui.views.edit.mode === 'bar' ? 'visible' : 'none';\n    iconStyleClass = ' editViewIconsBottom';\n  }\n\n  let showEditIcon = 'visible';\n  if(props.viewMode === \"button\"){\n    showEditIcon = 'hidden';\n  }\n  else if(props.viewMode === 'manager'){\n    iconStyleClass = ' editViewIconsBottom';\n    bgVisibility = 'hidden';\n    showGroupIcon = 'hidden';\n  }\n\n  let groupIcons;\n  if(props.viewMode === 'sequencer' || props.viewMode === 'button'){\n      groupIcons = <button id=\"btnToggleGroup\" className=\"btnToolRowIconsLeft\" onClick={e => toggleGroup(e, true)} style={{visibility:showGroupIcon, top:'-6px'}}>\n                      <i className=\"material-icons i-36\">{props.selectedGroup}</i>\n                    </button>\n    \n    if(props.windowWidth > 550){\n      groupIcons = ['A','B','C','D','M'].map((group, idx) => {\n                    //no master option for button view\n                    if(group === 'M' && store.ui.viewMode === 'button')\n                      return null;\n                    \n                    let opacity = 0.3;\n                    if(props.selectedGroup === group)\n                      opacity = 1;\n                    \n                    return <button key={idx} id={\"btnToggleGroup_\" + group} className=\"btnToolRowIconsLeft\" onClick={toggleGroup} style={{display:showGroupIcon, opacity:opacity, top:'-6px'}}>\n                              <i key={idx} className=\"material-icons i-36\">{group}</i>\n                            </button>\n                  });\n    }\n  }\n  else if(props.viewMode === 'edit' && store.ui.views.edit.mode === 'bar'){\n    const opacity = props.multiNoteSelect ? 1 : 0.3;\n    groupIcons = <button id={'btnToggleMultNoteSelect'} className=\"btnToolRowIconsLeft\" onClick={toggleMultiNoteSelect} style={{display:showGroupIcon, opacity:opacity, top:'-6px'}}>\n                   <i className=\"material-icons i-36\">music_note</i>\n                 </button>\n  }\n  \n  return (\n    <div id=\"divToggleMode\" style={{visibility: bgVisibility}}>\n      { groupIcons }\n      <button id=\"btnToggleMode\" className={\"btnToolRowIconsLeft\" + iconStyleClass} onClick={toggleMode} style={{visibility:showEditIcon, opacity:iconOpacity}}>\n        <i id=\"iconEdit\" className=\"material-icons i-36\">{setEditIcon()}</i>\n      </button>\n    </div>\n  )\n}","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\n\nexport const ToolSideBar = observer(class ToolSideBar extends Component {\n    render(){\n      return (\n        <div id=\"divSideBarContainer\">\n            { this.props.content }\n        </div>\n      )\n    }\n})\n  ","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport * as Tone from \"tone\";\nimport { store } from \"../../data/store.js\";\nimport interact from 'interactjs';\n\n\nexport const LoopTile = observer(class LoopTile extends Component{\n    loopStart;\n    loopEnd;\n  \n    //TODO BUGFIX: adjust times on BPM change\n    componentDidMount(){\n      this.loopStart = store.settings.loopStart;\n      this.loopEnd = store.settings.loopEnd;\n  \n      this.setupLoopTile();\n      store.settings.setLoopStart(store.settings.loopStart);\n      store.settings.setLoopEnd(store.settings.loopEnd);\n      Tone.Transport.loop = true;\n    }\n  \n    componentDidUpdate(prevProps, prevState){\n      interact('#divLoopTile').unset();\n      this.setupLoopTile();\n    }\n  \n    componentWillUnmount(){\n      interact('#divLoopTile').unset();\n    }\n  \n    setupLoopTile = () => {\n      let self = this;\n      let props = self.props;\n      let divLoop = document.getElementById('divLoopTile');\n  \n      //set loop start position\n      let x = (Tone.Time(store.settings.loopStart) / props.songLength * this.props.windowWidth);\n      divLoop.setAttribute('data-x', x);\n      divLoop.style.webkitTransform = divLoop.style.transform ='translateX(' + x + 'px)';\n  \n      //set loop tile width\n      divLoop.textContent = Tone.Time(store.getLoopLength).toBarsBeatsSixteenths();\n      divLoop.style.width = (store.getLoopLength / props.songLength * this.props.windowWidth) + 'px';\n      \n      //setup loop tile snaps\n      let arraySnap = [{x:0}];\n      props.scenes.forEach(function(scene){\n        let pixelSnap = Tone.Time(scene.start) / Tone.Time(props.songLength) * props.windowWidth;\n        arraySnap.push({x: pixelSnap})\n      })\n      arraySnap.push({x: this.props.windowWidth})\n  \n      //loop tile element\n      let rHandleX = 0;\n      if(!interact.isSet('#divLoopTile')){\n        interact('#divLoopTile')\n          .draggable({\n            modifiers: [\n              interact.modifiers.restrictRect({\n                restriction: 'parent',\n                elementRect: { top: 0, left: 0, bottom: 1, right: 1 }\n              })\n            ]\n          })\n          .resizable({\n            edges: { left: true, right: true, bottom: false, top: false},\n            restrictEdges: {\n              outer: 'parent',\n              endOnly: true,\n            },\n            restrictSize: {\n              min: { width: 0 },\n            },\n            inertia: false,\n            snap: {\n              targets: arraySnap,\n              range: 25,\n            }\n          }).on('tap', function(event){\n            //continue tap to canvasHeaderTimeline\n            interact('#canvasHeaderTimeline').fire(event);\n          }).on('hold', function(event) {\n            Tone.Transport.loop = !Tone.Transport.loop;\n  \n            if(Tone.Transport.loop){\n              event.target.style.backgroundColor = 'rgba(25, 147, 122, 0.25)';\n              divLoop.textContent = Tone.Time(store.getLoopLength).toBarsBeatsSixteenths();\n            }\n            else{\n              event.target.style.backgroundColor = 'transparent';\n              divLoop.textContent = 'off';\n            }\n          }).on('resizestart', function(event) {\n            //store right handle on start (prevent let drag overlap)\n            let target = event.target, x = (parseFloat(target.getAttribute('data-x')) || 0);\n            rHandleX = x + event.rect.width;\n          }).on('resizemove', function (event) {\n            let target = event.target, x = (parseFloat(target.getAttribute('data-x')) || 0);\n            let offset = 0, timeEnd, timeStart;\n\n            if(event.modifiers[0]){\n              const snapped = event.modifiers[0].inRange;\n              const snapX = event.modifiers[0].target.x;\n\n              //left handle (loop start)\n              if(event.pageX >= 0 && event.pageX <= props.windowWidth){\n                if(event.edges.left && event.pageX < rHandleX){\n                  if(!snapped)\n                    x = event.pageX;\n                  else \n                    x = snapX;\n    \n                  timeStart = (x / props.windowWidth) * Tone.Time(props.songLength);\n                  let loopStart = Tone.Time(timeStart).quantize(\"8n\");\n                  self.loopStart = Tone.Time(loopStart).toBarsBeatsSixteenths();\n                  Tone.Transport.loopStart = self.loopStart;\n                \n                  target.style.width = (rHandleX - x) + 'px';\n                  target.style.webkitTransform = target.style.transform ='translateX(' + x + 'px)';\n                  target.setAttribute('data-x', x);\n                }\n                //right handle (loop end)\n                if(event.edges.right && event.pageX >= x){\n                  if(!snapped){\n                    timeEnd = (event.pageX / props.windowWidth) * props.songLength;\n                  }\n                  else{\n                    timeEnd = (snapX / props.windowWidth) * props.songLength;  \n                  }\n                  \n                  let loopEnd = Tone.Time(timeEnd).quantize(\"8n\");\n                  self.loopEnd = Tone.Time(loopEnd).toBarsBeatsSixteenths();\n                  Tone.Transport.loopEnd = self.loopEnd;\n    \n                  if(snapped){\n                    target.style.width = (snapX - x) + 'px';\n                  }\n                  else{\n                    offset = (x + event.rect.width) - event.pageX;\n                    target.style.width = (event.rect.width - offset) + 'px';\n                  }\n                }\n    \n                target.textContent = Tone.Time(Tone.Time(self.loopEnd) - Tone.Time(self.loopStart)).toBarsBeatsSixteenths();\n              }\n            }\n          }).on('dragmove', function (event) {\n            x = (parseFloat(event.target.getAttribute('data-x')) || 0);\n            x += event.dx;\n  \n            event.target.style.webkitTransform = event.target.style.transform = 'translateX(' + x + 'px)';\n            event.target.setAttribute('data-x', x);\n            \n            let timeStart = (x / props.windowWidth) * Tone.Time(props.songLength);\n            let timeEnd = Tone.Time(timeStart) + Tone.Time(store.getLoopLength);\n  \n            let loopStart = Tone.Time(timeStart).quantize(\"8n\");\n            let loopEnd = Tone.Time(timeEnd).quantize(\"8n\");\n  \n            self.loopStart = Tone.Time(loopStart).toBarsBeatsSixteenths();\n            self.loopEnd = Tone.Time(loopEnd).toBarsBeatsSixteenths();\n            \n            Tone.Transport.loopStart = self.loopStart;\n            Tone.Transport.loopEnd = self.loopEnd;\n  \n          }).on('resizeend', function (event){\n            self.updateModel();\n          }).on('dragend', function (event){\n            self.updateModel();\n          });\n        }\n    }\n  \n    updateModel = () => {\n      if(this.loopStart)\n        store.settings.setLoopStart(this.loopStart);\n      if(this.loopEnd)\n        store.settings.setLoopEnd(this.loopEnd);\n    }\n  \n    render(){\n      return (\n        <div id=\"divLoopTile\"/>\n      )\n    }\n  })","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport * as Tone from \"tone\";\nimport { store } from \"../../data/store.js\";\nimport interact from 'interactjs';\n\nexport const CanvasHeaderTimeline = observer(class CanvasHeaderTimeline extends Component{\n    ctx;\n    c;\n  \n    componentDidMount(){\n      interact('#canvasHeaderTimeline').on('tap', event => { this.canvasTap(event.pageX) });\n      this.drawScenes();\n    }\n  \n    componentDidUpdate(prevProps, prevState){\n      this.drawScenes();\n    }\n  \n    componentWillUnmount(){\n      if(interact.isSet('#canvasHeaderTimeline'))\n        interact('#canvasHeaderTimeline').unset();\n    }\n  \n    canvasTap = (tapX) => {\n      let self = this;\n  \n      store.getScenesAsc.some((s, idx) => {\n        let x1 = Tone.Time(s.start) / self.props.songLength * store.ui.windowWidth;\n        let x2 = Tone.Time(s.end) / self.props.songLength * store.ui.windowWidth;\n  \n        if(tapX > x1 && tapX < x2){\n          /* de-select scene\n          if(self.props.selectedScene){\n            if(self.props.selectedScene.id === s.id){\n              store.ui.selectScene(undefined);\n              return true;\n            }\n          }\n          */\n          store.ui.selectScene(s.id);\n          return true;\n        }\n        \n        return false;\n      })\n    }\n  \n    drawScenes = () => {\n      let self = this;\n  \n      self.c = document.getElementById(\"canvasHeaderTimeline\");\n      self.ctx = self.c.getContext(\"2d\");\n  \n      let c = self.c;\n      let ctx = self.ctx;\n  \n      c.width = this.props.windowWidth;\n      c.height = 40;\n  \n      ctx.canvas.width = c.width;\n      ctx.canvas.height = c.height;\n  \n      //initial ctx setup for drawing\n      ctx.clearRect(0, 0, c.width, c.height);\n      ctx.strokeStyle = 'lightgray';\n      ctx.lineWidth = 2;\n      ctx.beginPath();\n  \n      this.props.scenes.forEach((s, idx) => {\n        let x1 = Math.floor(Tone.Time(s.start) / self.props.songLength * store.ui.windowWidth);\n        let x2 = Math.floor(Tone.Time(s.end) / self.props.songLength * store.ui.windowWidth);\n        let w = x2 - x1;\n  \n        //color selected scene\n        if(store.ui.selectedScene){\n          if(store.ui.selectedScene.id === s.id){\n            ctx.fillStyle = 'white';\n            ctx.fillRect(x1, 0, w, c.height);\n          }\n        }\n  \n        //line\n        ctx.moveTo(x2, 0);\n        ctx.lineTo(x2, c.height);\n       \n        //text\n        let text = Tone.Time(store.getSceneLength(s.id)).toBarsBeatsSixteenths().split(':')[0];\n       \n        let middle = (w / 2) - 4;\n        if(text.length > 1)\n          middle = (w / 2) - 8;\n  \n        ctx.font = '12px Verdana';\n        ctx.fillStyle = 'black';\n        ctx.fillText(text, x1 + middle, 24, w);\n      })\n  \n      //draw lines\n      ctx.stroke();\n    }\n  \n    render(){\n      return(\n        <canvas id=\"canvasHeaderTimeline\" style={{width:this.props.windowWidth + 'px', height:'40px', backgroundColor:'gray'}}/>\n      )\n    }\n  })","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport { store } from \"../../data/store.js\";\nimport { LoopTile } from \"./looptile.js\";\nimport { CanvasHeaderTimeline } from \"./timeline.js\";\n\nexport const HeaderView = observer(class HeaderView extends Component{\n  render(){\n    return (\n      <div id=\"divHeader\" className=\"divHeader\" style={{width: this.props.windowWidth + 'px'}}>\n        <div id=\"divHeaderTimeline\">\n          <CanvasHeaderTimeline store={this.props.store} songLength={this.props.songLength} windowWidth={this.props.windowWidth} selectedScene={this.props.store.ui.selectedScene} scenes={store.getScenesAsc}/>\n          <div id=\"hdrPlayhead\" className=\"progressLine\" style={{height:'40px', top:0}}></div>\n          <LoopTile settings={this.props.store.ui.settings} windowWidth={this.props.windowWidth} songLength={this.props.songLength} scenes={this.props.store.getScenesAsc} bpm={this.props.store.settings.bpm}/>\n        </div>\n      </div>\n    )\n  }\n});","import React, { Component } from 'react';\nimport { observer } from 'mobx-react';\nimport { store } from '../../../data/store.js';\nimport * as Tone from \"tone\";\nimport { ToneObjs } from '../../../models/models.js';\n\nexport const MixRowView = observer(class MixRowView extends Component{\n  player;\n  panvol;\n\n  componentDidMount(){\n    this.applyTransformOffset()\n  }\n\n  componentDidUpdate(prevProps){\n    if(prevProps.viewLength !== this.props.viewLength){\n      this.applyTransformOffset();\n    }\n  }\n\n  applyTransformOffset = () => {\n    if(store.ui.viewMode !== 'edit' || (store.ui.viewMode === 'edit' && store.ui.views.edit.mode !== 'bar')){\n      let gridContainer = document.getElementById('gridContainer');\n      if(gridContainer){\n        let transformX = gridContainer.getAttribute('data-x') * -1;\n        document.getElementById('trackrowmix_' + this.props.track.id).style.transform = 'translateX(' + transformX + 'px)';\n      }\n    }\n  }\n\n  render(){\n    if(!this.player && this.props.track.type === 'audio')\n      this.player = store.instruments.getPlayerByTrack(this.props.track.id);\n\n    if(!this.panvol)\n      this.panvol = this.props.track.getPanVol;\n    \n    let firstButton = <MixRowButtonEdit track={this.props.track} />\n    if(this.props.store.ui.viewMode === 'edit')\n      firstButton = <MixRowButtonToggleEditViewMode track={this.props.track} editViewMode={this.props.store.ui.views.edit.mode} />\n\n    let fourthButton = <MixRowButtonToggleRes track={this.props.track} selection={this.props.selection}/>\n    if(this.props.track.type === 'master')\n      fourthButton = <MixRowButtonToggleGroup track={this.props.track}/>\n\n    let cssTopGap = '';\n    if(this.props.store.ui.viewMode === 'button' || (this.props.store.ui.viewMode === 'edit' && this.props.store.ui.views.edit.mode === 'graph')){\n      cssTopGap = ' mixrowTopGap';\n    }\n      \n    return (\n      <div className={'track-rowmix' + cssTopGap} id={'trackrowmix_' + this.props.track.id} style={{width: + this.props.store.ui.windowWidth}}>\n        <div className='track-rowmix-left'>\n          { firstButton }\n          <MixRowButtonMute track={this.props.track} mute={this.props.track.mute}/>\n          <MixRowButtonSolo track={this.props.track} solo={this.props.track.solo}/>\n          { fourthButton }\n          <MixRowButtonSliderProp track={this.props.track} playbackRate={this.props.playbackRate} selection={this.props.selection}/>\n        </div>\n        <div className='track-rowmix-right'>\n          <MixMeters track={this.props.track}/>\n          <MixRowSlider track={this.props.track} selection={this.props.selection} panvol={this.panvol} player={this.player} playbackRate={this.props.playbackRate}/>\n        </div>\n      </div>\n    )\n  }\n})\n\nconst MixRowButtonSliderProp = observer(class MixRowButtonSliderProp extends Component{\n  timeout;\n\n  componentDidMount(){\n    this.toggleStyleSelect();\n  }\n\n  componentWillUnmount(){}\n\n  componentDidUpdate(prevProps){\n    this.toggleStyleSelect();\n\n    //auto set if value changed not from slider (ex. midi controller)\n    if(prevProps.playbackRate !== this.props.playbackRate){\n      if(this.props.selection !== 'Spd' && this.props.track.type === 'audio'){\n        this.props.track.mixRow.setMainSelection('Spd');\n      }\n\n      //set btn text to val \n      let eleBtn = document.getElementById('btnMixLevel_' + this.props.track.id);\n      if(eleBtn){\n        eleBtn.innerHTML = this.props.playbackRate;\n\n        clearTimeout(this.timeout);\n        this.timeout = setTimeout(() => {\n          eleBtn = document.getElementById('btnMixLevel_' + this.props.track.id);\n          if(eleBtn){\n            eleBtn.innerHTML = this.props.selection;\n          }\n        }, 1500);\n      }\n    }\n  }\n\n  toggleStyleSelect = () => {\n    let eleBtn = document.getElementById(this.id);\n\n    if(this.props.selection !== 'Res'){\n      if(!eleBtn.classList.contains('btnSelected'))\n        eleBtn.classList.add('btnSelected');\n    }\n    else{\n      if(eleBtn.classList.contains('btnSelected'))\n        eleBtn.classList.remove('btnSelected');\n    }\n  }\n\n  toggleMixButton = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    let text = e.target.innerHTML;\n\n    if(this.props.selection !== 'Res'){\n      if(e.target.innerHTML === 'Vol'){\n        text = 'Pan';\n      }\n      else if(e.target.innerHTML === 'Pan'){\n        text = 'Vol';\n\n        if(this.props.track.type === 'audio')\n          text = 'Spd';\n      }\n      else if(e.target.innerHTML === 'Spd'){\n        text = 'Vol';\n      }\n    }\n\n    e.target.innerHTML = text;\n    this.props.track.mixRow.setMainSelection(text);\n  }\n\n  render(){\n    this.id = 'btnMixLevel_' + this.props.track.id;\n\n    return (\n      <button id={this.id} className='btn-mix' onClick={this.toggleMixButton}>\n        { (!this.props.selection || this.props.selection === 'Res') ? 'Vol' : this.props.selection }\n      </button>\n    );\n  }\n})\n\nconst MixRowButtonSolo = observer(class MixRowButtonSolo extends Component{\n  componentDidMount(){}\n  componentWillUnmount(){}\n\n  toggleSolo = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.props.track.toggleSolo();\n  }\n\n  render(){\n    this.id = 'btnMixSolo_' + this.props.track.id;\n    (this.props.solo) ? this.soloColor = {'backgroundColor' : '#2671ea'} : this.soloColor = null;\n\n    let disabled = false;\n    if(this.props.track.type === 'master' && this.props.track.group === 'M')\n        disabled = true;\n\n    return (\n      <button id={this.id} className='btn-mix' style={this.soloColor} disabled={disabled} onClick={this.toggleSolo}>S</button>\n    );\n  }\n})\n\nconst MixRowSlider = observer(class MixRowSlider extends Component{\n  arrayRes = ['8n','8t','16n','16t','32n','32t','64n','64t'];\n\n  componentDidUpdate(prevProps){\n    if(prevProps.playbackRate !== this.props.playbackRate){\n      if(!this.bPressed){\n        let eleSlider = document.getElementById('mixSlider_' + this.props.track.id);\n        if(eleSlider){\n          eleSlider.value = this.props.playbackRate;\n        }\n      }\n    }\n  }\n\n  changeSlider = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    //TODO: only call MST set prop onpresssup?\n    if(this.props.selection === 'Vol')\n      this.props.panvol.setPropVal('volume', parseFloat(e.target.value), true);\n    else if(this.props.selection === 'Pan')\n      this.props.panvol.setPropVal('pan', parseFloat(e.target.value), true);\n    else if(this.props.selection === 'Spd')\n      this.props.player.setPropVal('playbackRate', parseFloat(e.target.value));\n    else if(this.props.selection === 'Res')\n      this.props.track.setResolution(this.arrayRes[e.target.value]);\n  \n    if(this.props.selection !== 'Res'){\n      if(this.bPressed)\n        this.setButtonText(e.target.value);\n      else\n        this.setButtonText(this.props.selection);\n    }\n  }\n\n  onPressDown = (e) => {\n    e.stopPropagation();\n\n    if(this.props.selection !== 'Res'){\n      this.bPressed = true;\n      this.setButtonText(e.target.value);\n    }\n  }\n\n  onPressUp = (e) => {\n    e.stopPropagation();\n\n    if(this.props.selection !== 'Res'){\n      this.bPressed = false;\n      this.setButtonText(this.props.selection);\n    }\n  }\n\n  setButtonText = (txt) => {\n    document.getElementById(this.btnId).innerHTML = txt;\n  }\n\n  render(){\n    //corresponding button\n    this.btnId = 'btnMixLevel_' + this.props.track.id;\n\n    let sliderVal = 0, sliderEle;\n    if(this.props.selection === 'Vol'){\n      sliderVal = this.props.panvol.volume;\n      sliderEle = <input  id={'mixSlider_' + this.props.track.id} type='range' min='-40' max='10' value={sliderVal} className='trackMixSlider' step='0.05'\n                    onChange={this.changeSlider} onInput={this.changeSlider} onMouseDown={this.onPressDown} onMouseUp={this.onPressUp} onTouchStart={this.onPressDown} onTouchEnd={this.onPressUp}/>\n    }\n    else if(this.props.selection === 'Pan'){\n      sliderVal = this.props.panvol.pan;\n      sliderEle = <input  id={'mixSlider_' + this.props.track.id} type='range' min='-1' max='1' value={sliderVal} className='trackMixSlider' step='0.01'\n                    onChange={this.changeSlider} onInput={this.changeSlider} onMouseDown={this.onPressDown} onMouseUp={this.onPressUp} onTouchStart={this.onPressDown} onTouchEnd={this.onPressUp}/>\n    }\n    else if(this.props.selection === 'Spd'){\n      sliderVal = this.props.player.playbackRate;\n      sliderEle = <input  id={'mixSlider_' + this.props.track.id} type='range' min='0.01' max='2' value={sliderVal} className='trackMixSlider' step='0.01'\n                    onChange={this.changeSlider} onInput={this.changeSlider} onMouseDown={this.onPressDown} onMouseUp={this.onPressUp} onTouchStart={this.onPressDown} onTouchEnd={this.onPressUp}/>\n    }\n    else if(this.props.selection === 'Res'){\n      sliderVal = this.arrayRes.indexOf(this.props.track.resolution);\n      sliderEle = <input  id={'mixSlider_' + this.props.track.id} type='range' min='0' max='7' value={sliderVal} className='trackMixSlider' step='1'\n                    onChange={this.changeSlider} onInput={this.changeSlider} onMouseDown={this.onPressDown} onMouseUp={this.onPressUp} onTouchStart={this.onPressDown} onTouchEnd={this.onPressUp}/>\n    }\n\n    return (\n      <div style={{marginLeft:'10px', marginRight:'10px', height:'50%'}}>\n        { sliderEle }\n      </div>\n    );\n  }\n})\n\nexport const MixMeters = observer(class MixMeters extends Component{\n  idSplit;\n  idMeterL;\n  idMeterR;\n  split;\n  meterL;\n  meterR;\n  \n  componentDidMount(){\n    this.addMeter();\n  }\n\n  componentDidUpdate(prevProps){\n    if(prevProps.track !== this.props.track){\n      this.addMeter();\n    }\n  }\n\n  componentWillUnmount(){\n    this.split.disconnect(this.meterL, 0);\n    this.split.disconnect(this.meterR, 1);\n\n    ToneObjs.delAudioObj(this.idMeterL, 'component');\n    ToneObjs.delAudioObj(this.idMeterR, 'component');\n    ToneObjs.delAudioObj(this.idSplit, 'component');\n  }\n\n  addMeter = () => {\n    this.idTrack = this.props.track.id;\n\n    this.idSplit = \"mix_split_\" + this.idTrack;\n    if(!ToneObjs.components.find(c => c.id === this.idSplit))\n      ToneObjs.components.push({id: this.idSplit, track: this.props.track.id, obj: new Tone.Split()})\n\n    this.idMeterL = \"mix_meter_L_\" + this.idTrack;\n    if(!ToneObjs.components.find(c => c.id === this.idMeterL))\n      ToneObjs.components.push({id: this.idMeterL, track: this.props.track.id, obj: new Tone.Meter()})\n\n    this.idMeterR = \"mix_meter_R_\" + this.idTrack;\n    if(!ToneObjs.components.find(c => c.id === this.idMeterR))\n      ToneObjs.components.push({id: this.idMeterR, track: this.props.track.id, obj: new Tone.Meter()})\n\n    this.split = ToneObjs.components.find(o => o.id === this.idSplit).obj;\n    this.meterL = ToneObjs.components.find(o => o.id === this.idMeterL).obj;\n    this.meterR = ToneObjs.components.find(o => o.id === this.idMeterR).obj;\n\n    //connect to panvol out for master tracks\n    if(this.props.track.type === 'master'){\n      let idPanVol = 'panvol_' + this.props.track.group + '_out';\n      if(this.props.track.group === 'M')\n        idPanVol = 'panvol_master_out';\n      \n      ToneObjs.components.find(o => o.id === idPanVol).obj.connect(this.split);\n    }\n    else{\n      ToneObjs.components.find(o => o.id === this.props.track.getPanVol.id).obj.connect(this.split);\n    }\n\n    this.split.connect(this.meterL, 0);\n    this.split.connect(this.meterR, 1);\n  }\n\n  render(){\n    return(\n      <div style={{height:'50%'}}>\n        <canvas id={'canvas-L-' + this.props.track.id} className='canvasMeterL'></canvas>\n        <canvas id={'canvas-R-' + this.props.track.id} className='canvasMeterR'></canvas>\n      </div>\n    );\n  }\n})\n\nconst MixRowButtonMute = observer(class MixRowButtonMute extends Component{\n  componentDidMount(){}\n  componentWillUnmount(){}\n\n  toggleMute = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.props.track.toggleMute();\n  }\n\n  render(){\n    this.id = 'btnMixMute_' + this.props.track.id;\n    this.props.mute ? this.muteColor = {'backgroundColor' : '#2671ea'} : this.muteColor = null;\n\n    return (\n      <button id={this.id} className='btn-mix' style={this.muteColor} onClick={this.toggleMute}>M</button>\n    );\n  }\n})\n\nconst MixRowButtonToggleGroup = observer(class MixRowButtonToggleGroup extends Component{\n  componentDidMount(){}\n  componentWillUnmount(){}\n\n  toggleGroup = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    store.ui.selectGroup(e.target.innerHTML);\n  }\n\n  render(){\n    this.id = 'btnMixToggleGroup_' + this.props.track.id;\n    \n    return (\n      <button id={this.id} className='btn-mix' disabled={this.props.track.group === 'M' ? true : false} onClick={this.toggleGroup}>{this.props.track.group}</button>\n    );\n  }\n});\n\nconst MixRowButtonToggleRes = observer(class MixRowButtonToggleRes extends Component{\n  componentDidMount(){}\n  componentWillUnmount(){}\n\n  toggleResolution = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    if(this.props.selection !== 'Res'){\n      this.props.track.mixRow.setMainSelection('Res');\n    }\n    else{\n      let ele = e.target;\n\n      switch(ele.innerHTML){\n        case '8n':\n          ele.innerHTML = '8t';\n          break;\n        case '8t':\n          ele.innerHTML = '16n';\n          break;\n        case '16n':\n          ele.innerHTML = '16t';\n          break;\n        case '16t':\n          ele.innerHTML = '32n';\n          break;\n        case '32n':\n          ele.innerHTML = '32t';\n          break;\n        case '32t':\n          ele.innerHTML = '64n';\n          break;\n        case '64n':\n          ele.innerHTML = '64t';\n          break;\n        case '64t':\n          ele.innerHTML = '8n';\n          break;\n        default:\n      }\n\n      this.props.track.setResolution(ele.innerHTML);\n    }\n  }\n\n  render(){\n    this.id = 'btnMixToggleRes_' + this.props.track.id;\n    let res = store.getPatternByTrackScene(this.props.track.id, store.ui.selectedScene.id).resolution;\n    let selected = this.props.selection === 'Res' ? ' btnSelected' : '';\n\n    return (\n      <button id={this.id} className={'btn-mix' + selected} onClick={this.toggleResolution}>{res}</button>\n    );\n  }\n});\n\n\nconst MixRowButtonEdit = observer(class MixRowButtonEditDelete extends Component{\n  componentDidMount(){}\n  componentWillUnmount(){}\n\n  toggleEditView = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    store.ui.selectTrack(this.props.track.id);\n    store.ui.toggleViewMode('edit');\n  }\n\n  render(){\n    this.id = 'btnMixEdit_' + this.props.track.id;\n\n    return (\n      <button id={this.id} className='btn-mix' onClick={this.toggleEditView}>Edt</button>\n    );\n  }\n});\n\n\nconst MixRowButtonToggleEditViewMode = observer(class MixRowButtonToggleEditViewMode extends Component {\n  componentDidMount(){}\n  componentWillUnmount(){}\n\n  toggleEditViewMode = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    store.ui.views.edit.toggleMode();\n  }\n\n  render(){\n    this.id = 'btnMixToggleEditViewMode_' + this.props.track.id;\n    (this.props.track.type === 'master') ? this.disabled = true : this.disabled = false\n\n    let text = 'Grph';\n    if(this.props.editViewMode === 'graph')\n      text = 'Bars';\n    \n    return (\n      <button id={this.id} className='btn-mix' disabled={this.disabled} onClick={this.toggleEditViewMode}>{text}</button>\n    );\n  }\n});\n\n/*\nconst MixRowButtonDeleteTrack = observer(class MixRowButtonDeleteTrack extends Component{\n  componentDidMount(){}\n  componentWillUnmount(){}\n\n  deleteTrack = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n\n    store.ui.toggleViewMode();\n    store.delTrack(this.props.track.id);\n  }\n\n  render(){\n    this.id = 'btnMixDelTrack_' + this.props.track.id;\n    (this.props.track.type === 'master') ? this.disabled = true : this.disabled = false\n    \n    return (\n      <button id={this.id} className='btn-mix' disabled={this.disabled} style={{color:'red'}} onClick={this.deleteTrack}>Del</button>\n    );\n  }\n});\n*/","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport * as Tone from \"tone\";\nimport { MixMeters } from './mixrow.js';\nimport { mapVal } from '../../utils.js';\n\n\nexport const MixRowViewEdit = observer(class MixRowViewEdit extends Component{\n    player;\n    panvol;\n    bPressed;\n  \n    componentDidMount(){\n      this.applyTransformOffset();\n    }\n    \n    componentWillUnmount(){}\n\n    componentDidUpdate(prevProps){\n      if(prevProps.viewLength !== this.props.viewLength){\n        this.applyTransformOffset();\n      }\n    }\n\n    applyTransformOffset = () => {\n      if(this.props.store.ui.viewMode !== 'edit' || (this.props.store.ui.viewMode === 'edit' && this.props.store.ui.views.edit.mode !== 'bar')){\n        let gridContainer = document.getElementById('gridContainer');\n        if(gridContainer){\n          let transformX = gridContainer.getAttribute('data-x') * -1;\n          document.getElementById('trackrowmixedit_' + this.props.track.id).style.transform = 'translateX(' + transformX + 'px)';\n        }\n      }\n    }\n\n    backButton = (e) => {\n      this.props.store.ui.selectNote(undefined);\n    }\n  \n    selectMixButton = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n  \n      this.props.track.mixRow.setEditSelection(e.target.id.split('_')[1]);\n    }\n  \n    changeSlider = (e) => {\n      e.preventDefault();\n      e.stopPropagation();\n  \n      if(this.props.selection === \"Vel\"){\n        if(this.props.track.type === 'audio')\n          this.props.note.setVelocity(mapVal(parseFloat(e.target.value), 0, 1, -40, 0));\n        else\n          this.props.note.setVelocity(parseFloat(e.target.value));\n      }\n      else if(this.props.selection === \"Prb\"){\n        this.props.note.setProbability(parseFloat(e.target.value));\n      }\n      else if(this.props.selection === \"Dur\"){\n        if(this.props.track.type === \"audio\"){\n          this.props.note.setDuration(parseFloat(e.target.value));\n        }\n        else{\n          let noteDelta = Tone.Time(this.props.note.getPattern.getLength) - Tone.Time(this.props.note.time);\n          let notation = Tone.Time(noteDelta * parseFloat(e.target.value)).toBarsBeatsSixteenths();\n          let offsetTime = this.props.note.offset * Tone.Time(this.props.note.getPattern.resolution);\n  \n          if(Tone.Time(notation) - Tone.Time(offsetTime) > 0){\n            this.props.note.setDuration(notation);\n          }\n        }\n      }\n      else if(this.props.selection === \"Dly\"){\n        let offsetTime = this.props.note.offset * Tone.Time(this.props.note.getPattern.resolution);\n  \n        if(Tone.Time(this.props.note.duration) > Tone.Time(offsetTime)){\n          this.props.note.setOffset(parseFloat(e.target.value));\n        }\n      }\n  \n      let btn = document.getElementById(\"btnMixNote_\" + this.props.selection);\n  \n      if(this.bPressed)\n        btn.innerHTML = Math.round(parseFloat(e.target.value) * 100);\n      else\n        btn.innerHTML = this.props.selection;\n    }\n  \n    onPressDown = (e) => {\n      e.stopPropagation();\n  \n      this.bPressed = true;\n      let btn = document.getElementById(\"btnMixNote_\" + this.props.selection);\n      btn.innerHTML = Math.round(parseFloat(e.target.value) * 100);\n    }\n  \n    onPressUp = (e) => {\n      e.stopPropagation();\n  \n      this.bPressed = false;\n      let btn = document.getElementById(\"btnMixNote_\" + this.props.selection);\n      btn.innerHTML = this.props.selection\n    }\n  \n    getSlider = () => {\n      let eleSlider = null;\n  \n      //TODO: 1 slider, change attributes on selection\n      switch (this.props.selection) {\n        case \"Vel\":\n          let val = this.props.note.velocity;\n          \n          if(this.props.track.type === \"audio\")\n            val = mapVal(val, -40, 0, 0, 1);\n\n          eleSlider = <input type=\"range\" min=\"0\" max=\"1\" value={val} className=\"trackMixSlider\" step=\"0.01\" id={\"velSlider\" + this.props.trackId} \n                          onChange={this.changeSlider} onInput={this.changeSlider} onMouseDown={this.onPressDown} onMouseUp={this.onPressUp} onTouchStart={this.onPressDown} onTouchEnd={this.onPressUp}/>;\n          break;\n        case \"Prb\":\n          eleSlider = <input type=\"range\" min=\"0\" max=\"1\" value={this.props.note.probability} className=\"trackMixSlider\" step=\"0.01\" id={\"velSlider\" + this.props.trackId} \n                            onChange={this.changeSlider} onInput={this.changeSlider} onMouseDown={this.onPressDown} onMouseUp={this.onPressUp} onTouchStart={this.onPressDown} onTouchEnd={this.onPressUp}/>;\n          break;\n        /*\n        case \"Hum\":\n          eleSlider = <input type=\"range\" min=\"0\" max=\"1\" value={this.props.note.humanize} className=\"trackMixSlider\" step=\"0.01\" id={\"velSlider\" + this.props.trackId} \n                            onChange={this.changeSlider} onInput={this.changeSlider} onMouseDown={this.onPressDown} onMouseUp={this.onPressUp} onTouchStart={this.onPressDown} onTouchEnd={this.onPressUp}/>;\n          break;\n        */\n        case \"Dur\":\n          if(this.props.track.type === \"audio\")\n            eleSlider = <input type=\"range\" min=\"0.01\" max=\"1\" value={this.props.note.duration} className=\"trackMixSlider\" step=\"0.01\" id={\"velSlider\" + this.props.trackId} \n                            onChange={this.changeSlider} onInput={this.changeSlider} onMouseDown={this.onPressDown} onMouseUp={this.onPressUp} onTouchStart={this.onPressDown} onTouchEnd={this.onPressUp}/>;\n          else{\n            let patternLen = Tone.Time(this.props.note.getPattern.getLength).toBarsBeatsSixteenths();\n            let noteDelta = Tone.Time(patternLen) - Tone.Time(this.props.note.time);\n            let stepLen = (1 / (Tone.Time(noteDelta) / Tone.Time(\"64n\"))).toFixed(6);\n            let currVal = (Tone.Time(this.props.note.duration) / Tone.Time(noteDelta)).toFixed(6);\n            eleSlider = <input type=\"range\" min={stepLen} value={currVal} max=\"1.001\" className=\"trackMixSlider\" step={stepLen} id={\"velSlider\" + this.props.trackId} \n                            onChange={this.changeSlider} onInput={this.changeSlider} onMouseDown={this.onPressDown} onMouseUp={this.onPressUp} onTouchStart={this.onPressDown} onTouchEnd={this.onPressUp}/>;\n          }\n          break;\n        case \"Dly\":\n          eleSlider = <input type=\"range\" min=\"0\" max=\"0.99\" value={this.props.note.offset} className=\"trackMixSlider\" step=\"0.01\" id={\"velSlider\" + this.props.trackId} \n                            onChange={this.changeSlider} onInput={this.changeSlider} onMouseDown={this.onPressDown} onMouseUp={this.onPressUp} onTouchStart={this.onPressDown} onTouchEnd={this.onPressUp}/>;\n          break;\n        case \"Spd\":\n          eleSlider = <input disabled={true} type=\"range\" min=\"0.01\" max=\"3\" value={1} className=\"trackMixSlider\" step=\"0.01\" id={\"velSlider\" + this.props.trackId} \n                            onChange={this.changeSlider} onInput={this.changeSlider} onMouseDown={this.onPressDown} onMouseUp={this.onPressUp} onTouchStart={this.onPressDown} onTouchEnd={this.onPressUp}/>\n          break;\n        default:\n          eleSlider = null;\n          break;\n        /*\n        default:\n          eleSlider = <input type=\"range\" min=\"-40\" max=\"10\" value={0} className=\"trackMixSlider\" step=\"0.05\" id={\"velSlider\" + this.props.trackId} \n                            onChange={this.changeSlider} onInput={this.changeSlider} onMouseDown={this.onPressDown} onMouseUp={this.onPressUp} onTouchStart={this.onPressDown} onTouchEnd={this.onPressUp}/>;\n        */\n        }\n  \n      return eleSlider;\n    }\n  \n    render(){\n      let cssTopGap = '';\n      if(this.props.store.ui.viewMode === 'button' || (this.props.store.ui.viewMode === 'edit' && this.props.store.ui.views.edit.mode === 'graph')){\n        cssTopGap = ' mixrowTopGap';\n      }\n        \n      return (\n        <div className={\"track-rowmix\" + cssTopGap} id={'trackrowmixedit_' + this.props.track.id} style={{width: + this.props.store.ui.windowWidth}}>\n          <div id=\"divMixRowBtnContainer\" className=\"track-rowmix-left\">\n            <button id=\"btnMixBack\" className=\"btn-mix\" onClick={this.backButton}>{'<'}</button>\n            <button id=\"btnMixNote_Dur\" className={this.props.selection === \"Dur\" ? \"btn-mix btnSelected\" : \"btn-mix\"} onClick={this.selectMixButton}>Dur</button>\n            <button id=\"btnMixNote_Vel\" className={this.props.selection === \"Vel\" ? \"btn-mix btnSelected\" : \"btn-mix\"} onClick={this.selectMixButton}>Vel</button>\n            <button id=\"btnMixNote_Dly\" className={this.props.selection === \"Dly\" ? \"btn-mix btnSelected\" : \"btn-mix\"} onClick={this.selectMixButton}>Dly</button>\n            <button id=\"btnMixNote_Prb\" className={this.props.selection === \"Prb\" ? \"btn-mix btnSelected\" : \"btn-mix\"} onClick={this.selectMixButton}>Prb</button>\n            { /* <button id=\"btnMixNote_Spd\" className=\"btn-mix\" disabled={true} onClick={this.selectMixButton}>Spd</button> */ }\n          </div>\n          <div className=\"track-rowmix-right\">\n            <MixMeters track={this.props.track}/>\n            <div style={{marginLeft:'10px', marginRight:'10px'}}>\n              { this.getSlider() }\n            </div>\n          </div>\n        </div>\n      )\n    }\n  })\n  ","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport { isAlive } from \"mobx-state-tree\";\nimport * as Tone from \"tone\";\nimport interact from 'interactjs';\nimport { ToneObjs } from '../../../models/models.js';\nimport { store } from '../../../data/store.js';\nimport { renderWaveform } from \"../../utils.js\";\nimport { MixRowView } from \"./mixrow.js\";\nimport { MixRowViewEdit } from \"./mixrowedit.js\";\nimport { mapVal } from '../../utils.js';\n\n\nexport const TrackRowView = observer(class TrackRowView extends Component {\n  player;\n  canvasHeight = 40;\n  c;\n  ctx;\n  img;\n  mStartPos;\n  mStopPos;\n  mouseHold;\n  id;\n  bSelectedNote;\n  waveRedrawTimeout;\n\n  componentDidMount(){\n    if(this.props.track.type !== \"master\"){\n      if(this.props.track.type === \"audio\"){\n        this.player = ToneObjs.instruments.find(inst => inst.track === this.props.track.id).obj;\n\n        //force draw on first load\n        this.ensureBufferIsLoaded(this.player.buffer).then(() => {\n          this.init(true)\n        });\n      }\n      else if(this.props.track.type === \"instrument\"){\n        this.init();\n      }\n    }\n\n    //update waveforms on zoom in out\n    document.getElementById(\"gridContainer\").addEventListener(\"transitionend\", this.initRenderWaveform);\n  }\n\n  ensureBufferIsLoaded = (buffer) => {\n    return new Promise(function (resolve, reject) {\n      let waitForBuffer = () => {\n        if (buffer.loaded) \n          return resolve();\n        setTimeout(waitForBuffer, 5);\n      };\n      waitForBuffer();\n    });\n  }\n\n  componentDidUpdate(prevProps){\n    //console.log('trackrowview updated')\n    if(this.props.track.type !== \"master\"){\n      if(this.props.track.type === \"audio\"){\n\n        //region was updated\n        //update all views or only 1st bar in edit view bars (limit async renderSVG to be called once)\n        if(!this.props.bar || this.props.bar === 1){\n          if(prevProps.region && this.props.region){\n            if(prevProps.region.start !== this.props.region.start || prevProps.region.end !== this.props.region.end){\n              this.init(true);\n              return;\n            }\n          }\n        }\n      }\n      \n      //only update sequencer tracks that are modified\n      if(store.ui.viewMode === 'sequencer'){\n        \n        //sequencer view uses track instead of selectedPattern\n        if(prevProps.selectedPatternRes !== this.props.selectedPatternRes){\n          this.init();\n          return;\n        }\n        else if(prevProps.selectedPatternNotesLen !== this.props.selectedPatternNotesLen && store.ui.recordMode){\n          this.init();\n          return;\n        }\n\n        if(!store.ui.mixMode){\n          if(prevProps.playbackRate !== this.props.playbackRate){\n            clearTimeout(this.waveRedrawTimeout);\n            this.waveRedrawTimeout = setTimeout(() => {\n              this.init(true);\n            }, 1000);\n\n            this.init();\n            return;\n          }\n\n          if(prevProps.bpm !== this.props.bpm){\n            this.init();\n            return;\n          }\n\n          if(prevProps.songLength !== this.props.songLength){\n            this.init();\n            return;\n          }\n\n          //transition eventlistener calls init\n          if(prevProps.viewLength !== this.props.viewLength){\n            return;\n          }\n\n          if(prevProps.selectedNote && this.props.selectedNote){\n            if(isAlive(prevProps.selectedNote)){\n              if(prevProps.selectedNote.id === this.props.selectedNote.id){\n                if(prevProps.selectedNoteDuration !== this.props.selectedNoteDuration || prevProps.selectedNoteOffset !== this.props.selectedNoteOffset){\n                  this.init();\n                  return;\n                }\n                //updated blank selectednote to same selectedkey (select key, create new note, select same key)\n                if(prevProps.selectedNoteValue !== this.props.selectedNoteValue && prevProps.selectedKey === this.props.selectedKey){\n                  this.init();\n                  return;\n                }\n              }\n            }\n          }\n          \n          //update previous/current track containing selectednote\n          if(prevProps.selectedNote !== this.props.selectedNote){\n            if(this.props.selectedNote){\n              if(this.props.selectedNote.getPattern.track.id === this.props.track.id){\n                this.bSelectedNote = true;\n                this.init();\n                return;\n              }\n              else if(this.bSelectedNote){\n                this.bSelectedNote = false;\n                this.init();\n                return;\n              }\n            }\n            //note was de-selected\n            else{\n              this.bSelectedNote = false;\n              this.init();\n              return;\n            }\n          }\n          \n          if(prevProps.selectedKey !== this.props.selectedKey){\n            if(this.props.selectedNote){\n              if(this.props.selectedNote.getPattern.track.id === this.props.track.id){\n                this.init();\n                return;\n              }\n            }\n          }\n\n          if(prevProps.selectedPattern !== this.props.selectedPattern){\n            if(isAlive(prevProps.selectedPattern)){\n              if(prevProps.selectedPattern.track.id === this.props.track.id){\n                this.init();\n                return;\n              }\n            }\n\n            if(this.props.selectedPattern){\n              if(this.props.selectedPattern.track.id === this.props.track.id){\n                this.init();\n                return;\n              }\n            }\n          }\n\n          /*      \n          if(prevProps.notes !== this.props.notes){\n            console.log('notes changed for track; ' + this.props.track.id)\n            this.init();\n          }\n          */\n\n          if(prevProps.selectedScene !== this.props.selectedScene){\n            this.init();\n            return;\n          }\n        \n          if(prevProps.selectedGroup !== this.props.selectedGroup){\n            this.init();\n            return;\n          }\n        }\n      }\n      //all other views\n      else{\n        if(this.props.track.type === 'audio'){\n          if(prevProps.playbackRate !== this.props.playbackRate){\n            clearTimeout(this.waveRedrawTimeout);\n            this.waveRedrawTimeout = setTimeout(() => {\n              this.init(true);\n            }, 1000);\n          }\n        }\n\n        this.init();\n      }\n    }\n  }\n\n  //used for eventlisteners (so we can detach the instance when unmounting)\n  //triggers audio waveform render\n  initRenderWaveform = () => {\n    this.init(true);\n  }\n\n  init = (update) => {\n    this.c = document.getElementById(\"canvas\" + this.id);\n\n    if(this.c && this.props.track.type !== \"master\"){\n      this.ctx = this.c.getContext(\"2d\");\n\n      if(this.props.track.type === \"audio\"){\n        if(this.player){\n          if(this.player.buffer.loaded)\n            this.drawTrack(update);\n        }\n      }\n      else if(this.props.track.type === \"instrument\"){\n        this.drawTrack();\n      }\n    }\n  }\n\n  componentWillUnmount(){\n    interact(\"#canvas\" + this.id).unset();\n    document.getElementById(\"gridContainer\").removeEventListener(\"transitionend\", this.initRenderWaveform);\n  }\n  \n  handleMouseUp = (e) => {\n    //e.stopPropagation();\n    //prevents consecutive actions ... (mouseup) on touchend\n    e.preventDefault();\n\n    if(e.changedTouches){\n      if(e.changedTouches.length > 0){\n        this.mStopPos = {x: e.changedTouches[0].clientX, y: e.changedTouches[0].clientY};\n      }\n    }\n    else{\n      this.mStopPos = {x: e.clientX, y: e.clientY};\n    }\n\n    if(!this.mouseHold)\n      this.handleClick(null, false)\n    else\n      this.mouseHold = false;\n  }\n  \n  handleMouseDown = (e) => {\n    if(e.touches){\n      if(e.touches.length > 0){\n        this.mStartPos = {x: e.touches[0].clientX, y: e.touches[0].clientY};\n      }\n    }\n    else{\n      this.mStartPos = {x: e.clientX, y: e.clientY};\n    }\n  }\n\n  handleClick = (e, hold) => {\n    if(hold)\n      e.preventDefault();\n\n    let distance = 0, clickX;\n\n    if(this.mStartPos){\n      if(this.mStopPos){\n        let a, b;\n        a = this.mStartPos.x - this.mStopPos.x;\n        b = this.mStartPos.y - this.mStopPos.y;\n\n        distance = Math.sqrt(a*a + b*b);\n\n        let gridOffset = document.getElementById('gridContainer').getAttribute('data-x');\n        clickX = this.mStopPos.x - gridOffset;\n      }\n    }\n  \n    if(distance <= 60 && clickX){\n      //bar view toggle select during edit mode\n      if(store.ui.viewMode === 'edit' && store.ui.views.edit.mode === 'bar' && store.ui.editMode){\n          if(!store.ui.views.edit.multiNoteSelect){\n            store.ui.views.edit.toggleBarSelect(this.props.bar);\n            return;\n          }\n      }\n  \n      //Get click Seconds and also Tone time of click\n      let clickSecs = (clickX / this.props.windowWidth) * Tone.Time(this.props.viewLength).toSeconds();\n    \n      if(this.props.selectedScene){\n        let scene = this.props.selectedScene;\n        let pattern = store.getPatternByTrackScene(this.props.track.id, scene.id)\n        let sceneStart = 0;\n        let sceneEnd;\n        \n        if(this.props.bar){\n          sceneStart = Tone.Time(this.props.bar-1 + ':0:0');\n          sceneEnd = sceneStart + Tone.Time('1:0:0');\n          clickSecs = (clickX / this.props.windowWidth) * Tone.Time(this.props.viewLength).toSeconds();\n          clickSecs += sceneStart;\n        }\n        else{\n          sceneEnd = Tone.Time(store.getSceneLength(scene.id));\n        }\n\n        if(clickSecs >= sceneStart && clickSecs < sceneEnd){\n          let timeQuant = Tone.Time(Tone.Time(clickSecs).quantize(pattern.resolution)).toBarsBeatsSixteenths();\n\n          //quantize will use next note past a certain point\n          if(Tone.Time(timeQuant) > Tone.Time(clickSecs)){\n            //no negative 1st note\n            if(Tone.Time(timeQuant) < Tone.Time(pattern.resolution))\n              timeQuant = '0:0:0';\n            else\n              timeQuant = Tone.Time(Tone.Time(timeQuant) - Tone.Time(pattern.resolution)).toBarsBeatsSixteenths();\n          }\n          \n          //some triplet times resulting in .667\n          //breaks note UI functionality - quick fix for now\n          let nTime = timeQuant.replace('.667','.666');       \n          let note = pattern.getNote(nTime);\n\n          if(!note){ \n            if(pattern.track.type === \"audio\" && !store.ui.views.edit.multiNoteSelect){\n              pattern.addNote(nTime, false, undefined, 1);\n              note = pattern.getNote(nTime);\n            }\n            else if(pattern.track.type === \"instrument\"){\n              pattern.addNote(nTime, false, [''], pattern.resolution);\n              note = pattern.getNote(nTime);\n            }\n\n            //select\n            if(store.ui.views.edit.multiNoteSelect){\n              if(note)\n                store.ui.views.edit.toggleNote(note.id);\n            }\n            else\n              store.ui.selectNote(note);\n            \n          } \n          else if(note){\n            //edit bar view multiple note select \n            if(store.ui.views.edit.multiNoteSelect){\n              store.ui.views.edit.toggleNote(note.id);\n            }\n            else{\n              if(pattern.track.type === \"audio\"){\n                if(note !== this.props.selectedNote){\n                  store.ui.selectNote(note);\n                }\n                else{\n                  store.ui.selectNote(undefined);\n                  note.getPattern.deleteNote(note);\n                }\n              }\n              else if(pattern.track.type === \"instrument\"){\n                //unselect and delete\n                if(this.props.selectedNote === note && this.props.selectedNote.getNote[0]){  \n                  store.ui.selectNote(undefined);\n                  note.getPattern.deleteNote(note);\n                }\n                //unselect (selectnote() will delete empty note)\n                else if(this.props.selectedNote === note && !this.props.selectedNote.getNote[0]){  \n                  store.ui.selectNote(undefined);\n                }\n                else{\n                  store.ui.selectNote(note);\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  drawTrack = (update) => {\n    this.c.width = document.getElementById('gridContainer').style.width.replace('px','');\n    this.c.height = this.canvasHeight;\n    this.ctx.clearRect(0, 0, this.c.width, this.c.height);\n\n    if(this.props.selectedScene){\n      let scene = this.props.selectedScene;\n      let pattern = store.getPatternByTrackScene(this.props.track.id, scene.id);\n\n      this.drawGridLines(this.ctx, pattern, scene, this.props.viewLength);\n      if(this.props.track.type === \"audio\"){\n        this.drawAudioNotes(pattern, this.props.viewLength, update);\n      }\n      else if(this.props.track.type === \"instrument\"){\n        this.drawInstNotes(pattern, this.props.viewLength);\n      }\n\n      if(store.ui.viewMode === 'edit' && store.ui.views.edit.mode === 'bar' && this.props.editMode){\n        if(store.ui.views.edit.isBarSelected(this.props.bar) || store.ui.views.edit.isBarCopied(this.props.bar))\n          this.highlightTrack(this.ctx, this.c.width, this.canvasHeight)\n      }\n    }\n  }\n\n  highlightTrack = (ctx, w, h) => {\n    let currPattern = store.getPatternByTrackScene(this.props.track.id, this.props.selectedScene.id);\n\n    if(store.ui.views.edit.copiedPattern){\n      if(store.ui.views.edit.isBarCopied(this.props.bar) && store.ui.views.edit.copiedPattern.id === currPattern.id){\n        ctx.fillStyle = '#19937a';\n        ctx.globalAlpha = 0.4;\n        ctx.fillRect(0, 0, w, h);\n      }\n    }\n    if(store.ui.views.edit.isBarSelected(this.props.bar)){\n      ctx.fillStyle = 'white';\n      ctx.globalAlpha = 0.4;\n      ctx.fillRect(0, 0, w, h);\n    }\n\n  }\n\n  drawInstNotes = (pattern, viewLength) => {\n    let ctx = this.ctx;\n    let height = this.canvasHeight;\n    let windowWidth = this.props.windowWidth;\n    let viewSquares = Tone.Time(viewLength).toBarsBeatsSixteenths();\n    let res = parseInt(pattern.resolution.slice(0, -1), 10);\n    let resType = pattern.resolution.slice(-1);\n    if(resType === 't')\n      res += (res/2);\n    \n    viewSquares = parseInt(viewSquares.split(\":\")[0] * res, 10) + parseInt(viewSquares.split(\":\")[1] * (res/4), 10);\n    let squareWidth = windowWidth / viewSquares;\n\n    let sorted = pattern.getSortedNotesAsc.filter(n => !n.mute);\n\n    let currBar, nextBar;\n    if(this.props.bar){\n      currBar = (this.props.bar - 1) + ':0:0';\n      nextBar = this.props.bar + ':0:0';\n\n      //check if previous bars note extend into current bar\n      let prevNote;\n      sorted.filter(n => Tone.Time(n.time) < Tone.Time(currBar)).reverse().some(n => {\n        if((Tone.Time(n.time) + Tone.Time(n.duration)) > Tone.Time(currBar)){\n          prevNote = n;\n          return true;\n        }\n        else{\n          return false;\n        }\n      })\n\n      sorted = sorted.filter(n => Tone.Time(n.time) >= Tone.Time(currBar) && Tone.Time(n.time) < Tone.Time(nextBar));\n\n      //add to beginning of array\n      if(prevNote)\n        sorted.unshift(prevNote);\n    }\n\n    sorted.forEach(note => {\n      if(note.note || store.ui.views.edit.multiNoteSelect){\n        if(note.note[0] !== '' || this.props.selectedNote === note || store.ui.views.edit.selectedNotes.find(n => n === note.id)){\n          let x;\n          if(this.props.bar){\n            let barOffset = Tone.Time(note.time) - Tone.Time(currBar);\n            x = barOffset / Tone.Time(viewLength) * windowWidth;\n          }\n          else{\n            x = Tone.Time(note.time) / Tone.Time(viewLength) * windowWidth;\n          }\n\n          let noteWidth = Tone.Time(note.duration) / Tone.Time(viewLength) * windowWidth;\n          let offsetWidth = squareWidth * note.offset;\n          \n          //color notes\n          ctx.fillStyle = '#133e83';\n\n          if(store.ui.editMode && store.ui.views.edit.copiedNotes.find(copied => copied.id.split('_')[2] === note.id.split('_')[1]))\n            ctx.fillStyle = '#19937a';\n\n          if(this.props.selectedNote){\n            if(note.id === this.props.selectedNote.id)\n              ctx.fillStyle = '#065ae0'\n          }\n\n          //editviewbars multinote select\n          if(store.ui.views.edit.multiNoteSelect && store.ui.views.edit.selectedNotes.find(n => n === note.id))\n            ctx.fillStyle = '#065ae0';\n          \n          //draw note\n          ctx.globalAlpha = 0.8;\n          ctx.fillRect((x+1) + offsetWidth, 0, (noteWidth - offsetWidth) - 1, height);\n\n          //draw velocity\n          if(store.ui.selectedNote && this.props.track.mixRow.editSelection === 'Vel'){\n            ctx.fillStyle = 'gray';\n            \n            if(this.props.selectedNote){\n              if(note.id === this.props.selectedNote.id)\n                ctx.fillStyle = '#19937a';\n            }\n            \n            ctx.fillRect((x+1) + offsetWidth, 40 - (note.velocity * height), (noteWidth - offsetWidth) - 1, note.velocity * height);\n          }\n\n          //draw white lines at beginning and end of note\n          ctx.globalAlpha = 1;\n          ctx.fillStyle = '#ffffff';\n\n          ctx.fillRect(x + offsetWidth, 0, 1, height);\n          ctx.fillRect(x + noteWidth, 0, 1, height);\n\n          //note value text\n          ctx.font=\"12px Arial\";\n          let count = 0;\n          note.note.forEach(n => {\n            ctx.fillText(n, (x + 1) + offsetWidth, 10 * (count + 1), noteWidth - 2);\n            count += 1;            \n          })\n        }\n      }\n    })\n  }\n\n  drawAudioNotes = (pattern, viewLength, update) => {\n    let canvasWaveformId = 'canvasWaveform_' + this.id;\n    let trackId = this.id;\n    let buffer = this.player.buffer;\n    let duration = buffer.duration / this.props.playbackRate;\n    let imgWidth = (duration/Tone.Time(viewLength)) * this.props.windowWidth;\n    let res = parseInt(pattern.resolution.slice(0, -1), 10);\n    let resType = pattern.resolution.slice(-1);\n    if(resType === 't')\n      res += (res/2);\n\n    let viewSquares = Tone.Time(viewLength).toBarsBeatsSixteenths();\n    viewSquares = parseInt(viewSquares.split(\":\")[0] * res, 10) + parseInt(viewSquares.split(\":\")[1] * (res/4), 10);\n    let squareWidth = this.props.windowWidth / viewSquares;\n\n    if(!this.img)\n      this.img = new Image();\n\n    if(!this.img.src || update || (this.props.bar && this.props.strSVG !== this.img.src)){\n      if(!this.props.bar || this.props.bar === 1){\n        renderWaveform(buffer.toArray(0), '#' + canvasWaveformId, imgWidth, this.canvasHeight).then(() => {\n          let divCanvas = document.getElementById('canvasWaveform_' + trackId);\n          if(divCanvas){\n            let canvasWaveform = divCanvas.childNodes[0];\n            if(canvasWaveform){\n              this.img.src = canvasWaveform.toDataURL();\n              divCanvas.removeChild(canvasWaveform);\n            }\n          }\n        });\n      }\n      else if(this.props.strSVG !== this.img.src){\n        this.img.src = this.props.strSVG;\n      }\n    }\n    else if(this.img.complete){\n      this.drawAudioNote(this.img, buffer, duration, pattern, viewLength, squareWidth, imgWidth);\n    }\n\n    this.img.onload = () => {\n      if(this.props.bar === 1){\n        this.props.setSVG(this.img.src)\n      }\n      else{\n        this.drawAudioNote(this.img, buffer, duration, pattern, viewLength, squareWidth, imgWidth);\n      }\n    }\n  }\n\n  drawAudioNote = (img, buffer, duration, pattern, viewLength, squareWidth, imgWidth) => {\n    let ctx = this.ctx;\n    let height = this.canvasHeight;\n    let sorted = pattern.getSortedNotesAsc.filter(n => !n.mute);\n\n    let currBar, nextBar;\n    if(this.props.bar){\n      currBar = (this.props.bar - 1) + ':0:0';\n      nextBar = this.props.bar + ':0:0';\n\n      //check if previous bars note extend into current bar\n      let prevNote;\n      sorted.filter(n => Tone.Time(n.time) < Tone.Time(currBar)).reverse().some(n => {\n        if((Tone.Time(n.time) + Tone.Time(this.player.buffer.duration)) > Tone.Time(currBar)){\n          prevNote = n;\n          return true;\n        }\n        else{\n          return false;\n        }\n      })\n\n      sorted = sorted.filter(n => Tone.Time(n.time) >= Tone.Time(currBar) && Tone.Time(n.time) < Tone.Time(nextBar));\n\n      //add to beginning of array\n      if(prevNote)\n        sorted.unshift(prevNote);\n    }\n\n    sorted.forEach(note => {\n      //console.log('track: ' + this.id + ' dealing with note: ' + Tone.Time(note.time).toBarsBeatsSixteenths())\n      let noteOffset = Tone.Time(pattern.resolution) * note.offset;\n      let x, xOffset;\n      \n      if(this.props.bar){\n        let barOffset = Tone.Time(note.time) - Tone.Time(currBar);\n        x = barOffset / Tone.Time(viewLength) * this.props.windowWidth;\n        xOffset = (barOffset + noteOffset) / Tone.Time(viewLength) * this.props.windowWidth;\n      }\n      else{\n        x = Tone.Time(note.time) / Tone.Time(viewLength) * this.props.windowWidth;\n        xOffset = (Tone.Time(note.time) + noteOffset) / Tone.Time(viewLength) * this.props.windowWidth;\n      }\n\n      //set note color\n      ctx.fillStyle = '#133e83';\n      if(store.ui.editMode && store.ui.views.edit.copiedNotes.find(copied => copied.id.split('_')[2] === note.id.split('_')[1]))\n        ctx.fillStyle = '#19937a';\n      if(this.props.selectedNote === note || (store.ui.views.edit.multiNoteSelect && store.ui.views.edit.selectedNotes.find(n => n === note.id)))\n        ctx.fillStyle = '#065ae0';\n       \n      //Draw note square\n      ctx.fillRect(x, 0, squareWidth, height);\n\n      //draw border separator lines\n      ctx.fillStyle = '#ffffff';\n      ctx.fillRect(xOffset, 0, 1, height);\n      //ctx.fillRect(x + noteWidth, 0, 1, height);\n      \n      let widthDelta = 0;\n      let noteTimeDelta = 0;\n      let cutDuration = (buffer.duration * note.duration) / this.props.playbackRate;\n\n      sorted.some(n2 => {\n        if(Tone.Time(n2.time) > Tone.Time(note.time) && !n2.mute){\n          //seconds between notes\n          let n2Offset = Tone.Time(pattern.resolution) * n2.offset;\n          noteTimeDelta = (Tone.Time(n2.time) - Tone.Time(note.time)) - noteOffset + n2Offset;\n          if(cutDuration >= noteTimeDelta){\n            //sample seconds - note delta seconds to pixels\n            widthDelta = ((duration - noteTimeDelta) / Tone.Time(viewLength)) * this.props.windowWidth;\n            return true;\n          }\n        }\n        return false;\n      })\n\n      if(cutDuration > noteTimeDelta && noteTimeDelta !== 0){\n        let percent = noteTimeDelta / duration;\n        ctx.drawImage(img, 0, 0, img.width * percent, height, xOffset, 0, imgWidth - widthDelta, height);\n      }\n      else{\n        if(note.duration < 1){\n          widthDelta = ((duration - cutDuration) / Tone.Time(viewLength)) * this.props.windowWidth;\n          ctx.drawImage(img, 0, 0, img.width * note.duration, height, xOffset, 0, imgWidth - widthDelta, height);\n        }\n        else{\n          ctx.drawImage(img, xOffset, 0, imgWidth, height);\n        }\n      }\n\n      if(this.props.selectedNote === note \n        || (store.ui.views.edit.multiNoteSelect && store.ui.views.edit.selectedNotes.find(n => n === note.id))\n        || (store.ui.editMode && store.ui.views.edit.copiedNotes.find(copied => copied.id.split('_')[2] === note.id.split('_')[1]))){\n        ctx.fillStyle = '#065ae0';\n\n        if(store.ui.editMode && store.ui.views.edit.copiedNotes.find(copied => copied.id.split('_')[2] === note.id.split('_')[1]))\n          ctx.fillStyle = '#19937a';\n\n        ctx.globalAlpha = 0.4;\n        ctx.fillRect(x, 0, squareWidth, height);\n        ctx.globalAlpha = 1;\n      }\n\n      //draw velocity\n      if(store.ui.selectedNote && this.props.track.mixRow.editSelection === 'Vel'){\n        ctx.fillStyle = 'white';\n        \n        if(this.props.selectedNote){\n          if(note.id === this.props.selectedNote.id)\n            ctx.fillStyle = '#19937a';\n        }\n\n        const mappedVal = mapVal(note.velocity, -40, 0, 0, 1);\n        ctx.globalAlpha = 0.75;\n        ctx.fillRect(x+1, 40 - (mappedVal * height), squareWidth - 1, mappedVal * height);\n        ctx.globalAlpha = 1;\n\n      }\n    })\n  }\n\n  drawGridLines = (ctx, pattern, scene, viewLength) => {\n    let res = parseInt(pattern.resolution.slice(0, -1), 10);\n    let resType = pattern.resolution.slice(-1);\n    if(resType === 't')\n      res += (res/2);\n\n    let sceneStart = 0;\n    let sceneEnd;\n\n    if(this.props.bar)\n      sceneEnd = (Tone.Time('1:0:0') / Tone.Time(viewLength)) * this.props.windowWidth;\n    else\n      sceneEnd = (store.getSceneLength(scene.id) / Tone.Time(viewLength)) * this.props.windowWidth;\n\n    ctx.fillStyle = '#12121e';\n    ctx.fillRect(sceneStart, 0, sceneEnd - sceneStart, this.canvasHeight);\n    \n    let viewSquares = Tone.Time(viewLength).toBarsBeatsSixteenths();\n    viewSquares = parseInt(viewSquares.split(\":\")[0] * res, 10) + parseInt(viewSquares.split(\":\")[1] * (res/4), 10);\n    let w = this.props.windowWidth / viewSquares;\n\n    let squares;\n    if(this.props.bar){\n      squares = (1*res) + ':0:0';\n    }\n    else{\n      squares = Tone.Time(store.getSceneLength(scene.id)) * res;\n      squares = Tone.Time(squares).toBarsBeatsSixteenths();\n    }\n\n    let total = parseInt(squares.split(\":\")[0], 10) + parseInt(squares.split(\":\")[1], 10);\n    let resNum = resType === 'n' ? 4 : 3;\n\n    ctx.strokeStyle = \"#133e83\";\n    ctx.lineWidth = 1.5;\n    ctx.beginPath();\n    for(let k=0; k<=total; k++){\n      //skip every 4 lines\n      if(k % resNum !== 0){\n        ctx.moveTo((k * w) + sceneStart, 0);\n        ctx.lineTo((k * w) + sceneStart, this.canvasHeight); \n      }\n    }\n    ctx.stroke();\n    \n    //every 4(n) or 3(t) lines is a bit thicker\n    ctx.lineWidth = 3.5;\n    ctx.beginPath();\n    for(let k=0; k<=total; k+=resNum){\n      ctx.moveTo((k * w) + sceneStart, 0);\n      ctx.lineTo((k * w) + sceneStart, this.canvasHeight); \n    }\n    ctx.stroke();\n  }\n\n  render(){\n    let sDisplay = {display:'block'};\n    if((this.props.store.ui.viewMode === \"sequencer\" && this.props.mixMode)\n        || this.props.track.type === \"master\")\n      sDisplay = {display:'none'}\n\n    let mixView = null;\n\n    if((store.ui.viewMode === \"edit\" || store.ui.viewMode === 'button') && this.props.track.type !== \"master\"){\n      if(store.ui.views.edit.mode === 'graph' || store.ui.viewMode === 'button'){\n        if(this.props.selectedNote)\n          if(this.props.selectedNote.getPattern.track.id === this.props.track.id)\n            mixView = <MixRowViewEdit trackId={this.props.track.id} store={this.props.store} track={this.props.track} note={this.props.selectedNote} selection={this.props.track.mixRow.editSelection} viewLength={this.props.viewLength}/>\n          else\n            mixView = <MixRowView store={this.props.store} track={this.props.track} selection={this.props.track.mixRow.mainSelection} viewLength={this.props.viewLength} playbackRate={this.props.playbackRate}/>\n        else\n          mixView = <MixRowView store={this.props.store} track={this.props.track} selection={this.props.track.mixRow.mainSelection} viewLength={this.props.viewLength} playbackRate={this.props.playbackRate}/>\n      }\n    }\n    else if(this.props.mixMode || this.props.track.type === \"master\"){\n      mixView = <MixRowView store={this.props.store} track={this.props.track} selection={this.props.track.mixRow.mainSelection} viewLength={this.props.viewLength} playbackRate={this.props.playbackRate}/>\n    }\n    \n    let strSelected = \"\";\n    if(this.props.selectedTrack && this.props.store.ui.viewMode === \"sequencer\"){\n      if(this.props.selectedTrack.id === this.props.track.id){\n        strSelected = \"trackSelected\";\n      }\n    }\n\n    if(this.props.bar)\n      this.id = this.props.track.id + '_' + this.props.bar;\n    else\n      this.id = this.props.track.id;\n\n    let playhead = null;\n    if(this.props.bar)\n      playhead = <div className=\"progressLine\" id={'playhead_' + this.id} style={{display:'none'}}></div>\n\n    let lblBarNum = null;\n    if(this.props.bar){\n      lblBarNum = <label className='lblTrackBar'>{this.props.bar}</label>\n    }\n    return (\n      <div className=\"track-row\">\n        { playhead }\n        <canvas id={\"canvas\" + this.id} className={\"canvasTrack \" + strSelected} onTouchStart={this.handleMouseDown} onTouchEnd={this.handleMouseUp} \n        onMouseDown={this.handleMouseDown} onMouseUp={this.handleMouseUp}  style={sDisplay}></canvas>\n        { lblBarNum }\n        { mixView }\n        <div id={\"canvasWaveform_\" + this.id} className=\"divCanvasWaveformContainer\"></div>\n      </div>\n    )\n  }\n});","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport * as Tone from \"tone\";\nimport { store } from \"../../../data/store.js\";\n\nexport const GridTimeline = observer(class GridTimeline extends Component{\n    eleContainer;\n  \n    componentDidMount(){}\n  \n    handleClick = (e) => {\n      let offset = parseFloat(document.getElementById('gridContainer').getAttribute('data-x')).toFixed(3);\n  \n      if(isNaN(offset))\n        offset = 0;\n  \n      let x = e.pageX + (offset * -1);\n      let clickSecs = (x / this.props.windowWidth) * Tone.Time(this.props.ui.viewLength);\n      clickSecs += 0.1; //transport is started 0.1 in advance\n      Tone.Transport.position = Tone.Time(this.props.selectedScene.start) + Tone.Time(clickSecs);\n    }\n  \n    render() {\n      let len = this.props.ui.viewLength;\n      let start = 1;\n  \n      if(this.props.selectedScene){\n        if(store.ui.viewMode === 'edit' && store.ui.views.edit.mode === 'bar'){\n          len = Tone.Time('1:0:0');\n        }\n        else{\n          len = store.getSceneLength(this.props.selectedScene.id);\n          start = parseInt(Tone.Time(this.props.selectedScene.start).toBarsBeatsSixteenths().split(':')[0] * 4, 10);\n          start += 1;\n        }\n      }\n  \n      let total = Tone.Time(len).toBarsBeatsSixteenths().split(':');\n      total = parseInt(total[0] * 4, 10) + parseInt(total[1], 10);\n  \n      let percent = 100 / total;\n  \n      if(!this.eleContainer)\n        this.eleContainer = document.getElementById('gridContainer');\n  \n      let wPx, inc = 1, w = percent;\n      if(this.eleContainer)\n        wPx = this.eleContainer.style.width.replace('px','') * (percent * 0.01);\n  \n      if(wPx < 26 && wPx >= 13){\n        inc = 2;\n        w = 100 / (total / inc);\n      }\n      else if(wPx < 13 && wPx >= 6){\n        inc = 4;\n        w = 100 / (total / inc);\n      }\n      else if(wPx < 6){\n        inc = 8;\n        w = 100 / (total / inc);\n      }\n  \n      let labels = [];\n      for(let i=start; i<=(start-1) + total; i+=inc){\n        let left = -2;\n        if(i > 9)\n          left = -5;\n  \n        labels.push(<label key={'keyGridTimeline' + i} className='lblTimeline' style={{left: left + 'px',width: w + '%'}}>{i}</label>)\n      }\n  \n      return(\n        <div id=\"divGridTimeline\" onClick={this.handleClick}>\n          { labels.map((obj, index) => obj)}\n        </div>\n      )\n    }\n  })\n  ","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport * as Tone from \"tone\";\nimport { store } from \"../../data/store.js\";\nimport interact from 'interactjs';\nimport { ToneObjs } from '../../models/models.js';\nimport { applyDraggableGrid } from '../utils.js';\nimport { TrackRowView } from './trackrow/trackrow.js';\nimport { GridTimeline } from './timeline/timeline.js';\n\nexport const SequencerView = observer(class SequencerView extends Component {\n\n    componentDidMount(){\n      applyDraggableGrid();\n      this.props.store.ui.calibrateSizes();\n      document.addEventListener('keydown', this.keyDown);\n    }\n  \n    keyDown = (event) => {\n      const keysA = ['1','2','3','4','5','6','7','8','9','0','-','='];\n      const keysB = ['q','w','e','r','t','y','u','i','o','p','[',']'];\n      const keysC = ['a','s','d','f','g','h','j','k','l',';','\\''];\n      const keysD = ['z','x','c','v','b','n','m',',','.','/',',','.','/'];\n  \n      let idx, group;\n      let key = event.key.toString().toLowerCase();\n  \n      if(keysA.some(function(item, index) { idx = index; return item === key }))\n        group = 'A';\n      else if(keysB.some(function(item, index) { idx = index; return item === key }) )\n        group = 'B';\n      else if(keysC.some(function(item, index) { idx = index; return item === key }) )\n        group = 'C';\n      else if(keysD.some(function(item, index) { idx = index; return item === key }) )\n        group = 'D';\n      else{\n        idx = null;\n        group = null;\n      }\n  \n      //very careful with null checks here to avoid errors\n      if(!isNaN(idx) && group){\n        let tracks = this.props.store.tracks.filter(t => t.group === group && t.type === 'audio');\n        let track = tracks[idx];\n  \n        tracks.forEach(function(t) {\n          let toneInst = ToneObjs.instruments.find(o => o.track === t.id);\n          \n          if(toneInst){\n            let player = toneInst.obj;\n  \n            if(player)\n              player.stop();\n          }\n        })\n  \n        if(track){\n          let toneInst = ToneObjs.instruments.find(inst => inst.track === track.id);\n  \n          if(toneInst){\n            let player = toneInst.obj;\n  \n            if(player)\n              player.start(Tone.context.currentTime);\n  \n            store.ui.selectTrack(track.id);\n          }\n        }\n      }\n    }\n  \n    componentWillUnmount(){\n      interact(document.querySelector('body')).unset();\n      interact('#gridContainer').unset();\n      document.removeEventListener('keydown', this.keyDown);\n    }\n  \n    componentDidUpdate(prevProps, prevState, snapshot){\n     // if(this.props.mixMode)\n        //interact('#gridContainer').fire({type: 'dragmove', target: document.getElementById('gridContainer')});\n  \n      if(prevProps.numTracks !== this.props.numTracks || prevProps.windowHeight !== this.props.windowHeight){\n        store.ui.calibrateSizes(true);\n      }\n      //console.log('sequencerview updated')\n      //interact('#divGridButton_' + self.props.keyValue).fire({type: 'dragmove', target: eleButton});\n    }\n\n    \n    render() {\n      let tracks;\n      if(this.props.selectedGroup === \"M\"){\n        tracks = this.props.store.tracks.filter(t => t.type === 'master')\n      }\n      else{\n        //tracks = this.props.store.tracks.filter(t => (t.group === this.props.selectedGroup && t.type !== 'master'));\n        tracks = this.props.store.getTracksByGroup(this.props.selectedGroup);\n      }\n  \n      let sizes = store.ui.getGridSizes;\n      return (\n        <div id=\"gridParent\" style={{width: sizes.parent.width, left: sizes.parent.left}}>\n          <div className=\"divBody\" id=\"gridContainer\" style={{width: sizes.container.width, left: sizes.container.left}}>\n            <GridTimeline selectedScene={this.props.store.ui.selectedScene} ui={this.props.store.ui} windowWidth={this.props.store.ui.windowWidth}/>\n            <div className=\"progressLine\" id=\"playhead\"></div>\n              { tracks.map((track, index) => <TrackRowView key={track.id} keyValue={track.id} \n                  store={this.props.store} \n                  sample={track.sample} \n                  region={track.returnRegion} \n                  patterns={this.props.store.getPatternsByTrack(track.id)} \n                  scenes={this.props.store.getScenesAsc} \n                  rowIndex={index} \n                  mixMode={this.props.store.ui.mixMode} \n                  viewLength={this.props.store.ui.viewLength} \n                  songLength={this.props.store.getSongLength()} \n                  bpm={this.props.store.settings.bpm} \n                  selectedScene={this.props.store.ui.selectedScene} \n                  /*notes={this.props.store.getNotesByTrack(track.id)}*/ \n                  track={track} \n                  selectedGroup={this.props.selectedGroup} \n                  playbackRate={track.getPlaybackRate} \n                  selectedTrack={this.props.store.ui.selectedTrack} \n                  selectedNote={this.props.store.ui.selectedNote} \n                  selectedNoteValue={this.props.store.ui.getSelectedNoteValue} \n                  selectedNoteVelocity={this.props.store.ui.getSelectedNoteVelocity}\n                  selectedPattern={this.props.store.ui.selectedPattern} \n                  selectedPatternRes={this.props.store.ui.getSelectedPatternProp('resolution', track)} \n                  selectedPatternNotesLen={this.props.store.ui.getSelectedPatternProp('notes', track)}\n                  selectedKey={this.props.store.ui.selectedKey}\n                  windowWidth={this.props.store.ui.windowWidth}\n                  />) \n              }\n          </div>\n        </div>\n      )\n    }\n  })","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport * as Tone from \"tone\";\nimport { store } from \"../../data/store.js\";\nimport interact from 'interactjs';\nimport { ToneObjs } from '../../models/models.js';\nimport { applyDraggableGrid } from '../utils.js';\nimport { TrackRowView } from './trackrow/trackrow.js';\nimport { GridTimeline } from './timeline/timeline.js';\nimport { renderWaveform } from '../utils.js';\nimport { toneObjNames } from '../../data/tonenames.js';\n\n\nexport const GridButtonView = observer(class ButtonView extends Component {\n    componentDidMount(){\n      applyDraggableGrid();\n      this.props.store.ui.calibrateSizes();\n\n      if(!store.ui.selectedTrack || store.ui.selectedTrack.group !== store.ui.selectedGroup){\n        let tracks = store.getTracksByGroup(store.ui.selectedGroup).sort((a, b) =>  a.groupIndex - b.groupIndex);\n        if(tracks.length > 0){\n          store.ui.selectTrack(tracks[0].id);\n        }\n      }\n    }\n  \n    componentWillUnmount(){\n      interact(document.querySelector('body')).unset();\n      interact('#gridContainer').unset();\n    }\n  \n    componentDidUpdate(prevProps){\n      //store.ui.calibrateSizes();\n    }\n  \n    noteEdited = (note) => {\n      this.forceUpdate();\n    }\n    \n    render() {\n      let trackRow = null;\n      let track = this.props.selectedTrack;\n\n      if(track){\n        if(track.group === this.props.store.ui.selectedGroup){\n          trackRow = <TrackRowView key={track.id} keyValue={track.id} \n            store={this.props.store} sample={track.sample} \n            region={track.returnRegion} \n            patterns={this.props.store.getPatternsByTrack(track.id)} \n            scenes={this.props.store.getScenesAsc} \n            mixMode={this.props.store.ui.mixMode} \n            viewLength={this.props.store.ui.viewLength} \n            songLength={this.props.store.getSongLength()} \n            bpm={this.props.store.settings.bpm} \n            /* notes={this.props.store.getNotesByTrack(track.id)} */ \n            selectedScene={this.props.store.ui.selectedScene} \n            track={track} \n            selectedGroup={this.props.store.ui.selectedGroup}\n            playbackRate={track.getPlaybackRate} \n            selectedTrack={this.props.store.ui.selectedTrack} \n            selectedNote={this.props.store.ui.selectedNote} \n            selectedNoteValue={this.props.store.ui.getSelectedNoteValue}\n            selectedNoteVelocity={this.props.store.ui.getSelectedNoteVelocity}\n            selectedPattern={this.props.store.ui.selectedPattern} \n            selectedPatternRes={this.props.store.ui.getSelectedPatternProp('resolution')} \n            selectedPatternNotes={this.props.store.ui.getSelectedPatternProp('notes')}\n            selectedKey={this.props.store.ui.selectedKey}\n            windowWidth={this.props.store.ui.windowWidth}\n            selectedNoteDuration={this.props.store.ui.getSelectedNoteDuration}\n            selectedNoteOffset={this.props.store.ui.getSelectedNoteOffset}\n            />\n        }\n      }\n  \n      let tracks = this.props.store.tracks.filter(t => t.group === this.props.store.ui.selectedGroup && t.type !== \"master\");\n      let sizes = store.ui.getGridSizes;\n      return (\n        <div id=\"gridParent\" style={{width: sizes.parent.width, left: sizes.parent.left}}>\n          <div className=\"divBody\" id=\"gridContainer\" style={{width: sizes.container.width, left: sizes.container.left}}>\n            <GridTimeline selectedScene={this.props.store.ui.selectedScene} ui={this.props.store.ui} windowWidth={this.props.store.ui.windowWidth}/>\n            <div className=\"progressLine\" id=\"playhead\"></div>\n            { trackRow }\n          </div>\n          <div id=\"divGridButtonViewBG\" style={{width: store.ui.windowWidth + 'px'}}>\n            { tracks.map((track, index) => {\n                if(track.type === 'audio'){\n                  return <GridButtonAudio key={track.id} keyValue={track.id} \n                        store={this.props.store} \n                        sample={track.sample} \n                        region={track.returnRegion}\n                        patterns={this.props.store.getPatternsByTrack(track.id)} \n                        scenes={this.props.store.scenes} \n                        rowIndex={index} \n                        mixMode={this.props.store.ui.mixMode}\n                        viewLength={this.props.store.ui.viewLength} \n                        bpm={this.props.store.settings.bpm} \n                        editNote={this.noteEdited} \n                        selectedTrack={this.props.selectedTrack}\n                        editMode={this.props.editMode}\n                      />\n                }\n                else if(track.type === 'instrument'){\n                  return <GridButtonInstrument key={track.id} keyValue={track.id} \n                        store={this.props.store} \n                        patterns={this.props.store.getPatternsByTrack(track.id)} \n                        scenes={this.props.store.scenes} \n                        rowIndex={index} \n                        mixMode={this.props.store.ui.mixMode}\n                        viewLength={this.props.store.ui.viewLength} \n                        bpm={this.props.store.settings.bpm} \n                        editNote={this.noteEdited} \n                        selectedTrack={this.props.selectedTrack}\n                        editMode={this.props.editMode}\n                      />\n                }\n                else{\n                  return null;\n                }\n              })\n            }\n         </div>\n        </div>\n      )\n    }\n  })\n\n  const GridButtonInstrument = observer(class GridButtonInstrument extends Component {\n    objs = [];\n    track;\n\n    componentDidMount(){\n      this.track = store.getTrack(this.props.keyValue);\n\n      interact('#divGridButton_' + this.props.keyValue)\n        .draggable({\n          onmove: event => {\n            let dx = (event.dx === undefined) ? 0 : event.dx;\n            let dy = (event.dy === undefined) ? 0 : event.dy;\n  \n            let target = event.target,\n                x = (parseFloat(target.getAttribute('data-x')) || 0) + dx,\n                y = (parseFloat(target.getAttribute('data-y')) || 0) + dy;\n  \n            target.style.webkitTransform = target.style.transform = 'translate(' + x + 'px, ' + y + 'px)';\n  \n            target.setAttribute('data-x', x);\n            target.setAttribute('data-y', y);\n          },\n          restrict: {\n            restriction: 'parent',\n            elementRect: { top: 0, left: 0, bottom: 1, right: 1 }\n          }\n        })\n        .on('down', event => {\n         \n          this.noteOn(event);\n          \n          //testing recording shizzzz.  check latencyHint for responsiveness?\n          if(Tone.Transport.state === \"started\" && this.props.store.ui.recordMode){\n            let currScene = store.getSceneByTime(Tone.Transport.position);\n            if(currScene){\n              let pattern = store.getPatternByTrackScene(this.props.keyValue, currScene.id);\n              if(pattern){\n                //is this affected by transport start offset?\n                let t = Tone.Time(Tone.Transport.position).quantize(pattern.resolution);\n                t = Tone.Time(t).toBarsBeatsSixteenths();\n                \n                if(!pattern.getNote(t))\n                  pattern.addNote(t, false);\n                else\n                  pattern.getNote(t).toggle();\n  \n                this.props.editNote();\n              }\n            }\n          }\n        \n          //select track\n          if(this.props.store.ui.selectedTrack !== this.track){\n            this.props.store.ui.selectTrack(this.props.keyValue);\n          }\n\n          //select pattern\n          if(store.ui.selectedPattern){\n            if(store.ui.selectedPattern.track.id !== this.props.keyValue){\n              store.ui.selectPattern(store.getPatternByTrackScene(this.props.keyValue, store.ui.selectedScene.id).id)\n            }\n          }\n          else{\n            store.ui.selectPattern(store.getPatternByTrackScene(this.props.keyValue, store.ui.selectedScene.id).id)\n          }\n  \n          event.preventDefault();\n        }).on('up', event => {\n          this.noteOff(event);\n        });\n\n        interact('#divGridButton_' + this.props.keyValue).draggable(this.props.editMode);\n    }\n\n    noteOn = (e) => {\n      let notes = ['C3'];\n      ToneObjs.trackInstNoteOn(this.props.keyValue, notes);\n    }\n\n    noteOff = (e) => {\n      let notes = ['C3'];\n      ToneObjs.trackInstNoteOff(this.props.keyValue, notes);\n    }\n  \n    componentDidUpdate(prevProps){\n      if(prevProps.editMode !== this.props.editMode)\n        interact('#divGridButton_' + this.props.keyValue).draggable(this.props.editMode);\n    }\n\n    componentWillUnmount(){\n      interact('#divGridButton_' + this.props.keyValue).unset();\n    }\n\n    render() {\n      let strClass = \"divGridButton\";\n      if(this.props.selectedTrack){\n        if(this.props.selectedTrack.id === this.props.keyValue)\n          strClass = \"divGridButtonSelected\";\n      }\n  \n      return(\n        <div id={'divGridButton_' + this.props.keyValue} className={strClass} onMouseLeave={this.noteOff} onTouchEnd={this.noteOff}>\n          <canvas id={'canvasGridButton_' + this.props.keyValue} className='canvasGridButtonInst'></canvas>\n          <ul key={'ulGridButton_' + this.props.keyValue} className='ulGridButton'>\n            <li key={'li_' + this.props.keyValue}><b><label className='lblGridButton'>{this.props.keyValue}</label></b></li>\n            { store.instruments.getAllByTrack(this.props.keyValue).map(inst => \n                        <li key={'li_' + inst.id}><label className='lblGridButton'>{  toneObjNames.find(n => n.toLowerCase() === inst.id.split('_')[0]) } </label></li>)}\n            { store.sources.getAllByTrack(this.props.keyValue).map(source => \n                        <li key={'li_' + source.id}><label className='lblGridButton'>{ toneObjNames.find(n => n.toLowerCase() === source.id.split('_')[0]) } </label></li>)}\n          </ul>\n        </div>\n      )\n    }\n  })\n\n  const GridButtonAudio = observer(class GridButtonAudio extends Component {\n    player;\n    track;\n    divProgress;\n    tStart;\n  \n    componentDidMount(){\n      this.track = store.getTrack(this.props.keyValue);\n      let playerId = store.instruments.getPlayerByTrack(this.props.keyValue).id;\n      this.player = ToneObjs.instruments.find(i => i.id === playerId).obj;\n      let player = this.player;\n\n      this.drawWave();\n\n      let divGridButton = document.getElementById('divGridButton_' + this.props.keyValue);\n      this.divProgress = divGridButton.querySelector('.divGridButtonProgress');\n      this.divProgress.addEventListener('animationend', this.animationEnded); \n\n      interact('#divGridButton_' + this.props.keyValue)\n        .draggable({\n          onmove: event => {\n            let dx = (event.dx === undefined) ? 0 : event.dx;\n            let dy = (event.dy === undefined) ? 0 : event.dy;\n  \n            let target = event.target,\n                x = (parseFloat(target.getAttribute('data-x')) || 0) + dx,\n                y = (parseFloat(target.getAttribute('data-y')) || 0) + dy;\n  \n            target.style.webkitTransform = target.style.transform = 'translate(' + x + 'px, ' + y + 'px)';\n  \n            target.setAttribute('data-x', x);\n            target.setAttribute('data-y', y);\n          },\n          restrict: {\n            restriction: 'parent',\n            elementRect: { top: 0, left: 0, bottom: 1, right: 1 }\n          },\n        })\n        .on('down', event => {\n          if(player && !this.props.editMode && player.buffer.loaded){\n            player.start(Tone.context.currentTime);\n\n            if(divGridButton && this.divProgress){\n              let tNow = new Date().getTime(), percent = 0;\n              let tDelta = ((this.tStart - tNow) / 1000) * -1;\n              \n              let duration = player.buffer.duration / player.playbackRate;\n\n              if(tDelta < duration)\n                percent = (tDelta / duration) * 100;\n\n              this.tStart = new Date().getTime();\n\n              //restarting animation after % played of duration seems to fix problems with animations not starting after ~80% complete\n              if(player.state === 'started' || (percent > 80 && percent < 99)){\n                this.divProgress.style.animation = 'none';\n                window.requestAnimationFrame(time => {\n                  window.requestAnimationFrame(time => {\n                    this.divProgress.style.animation = 'progressWidth ' + duration + 's linear';\n                  });\n                });\n              }\n              else{\n                this.divProgress.style.animation = 'progressWidth ' + duration + 's linear';\n              }\n            }\n          }\n  \n          //testing recording shizzzz.  check latencyHint for responsiveness?\n          if(Tone.Transport.state === \"started\" && this.props.store.ui.recordMode){\n            let currScene = store.getSceneByTime(Tone.Transport.position);\n            if(currScene){\n              let pattern = store.getPatternByTrackScene(this.track.id, currScene.id);\n              if(pattern){\n                //is this affected by transport start offset?\n                let t = Tone.Time(Tone.Transport.position).quantize(pattern.resolution);\n                t = Tone.Time(t).toBarsBeatsSixteenths();\n                \n                if(!pattern.getNote(t))\n                  pattern.addNote(t, false);\n                else\n                  pattern.getNote(t).toggle();\n  \n                this.props.editNote();\n              }\n            }\n          }\n        \n          //select track\n          if(this.props.store.ui.selectedTrack !== this.track){\n            this.props.store.ui.selectTrack(this.props.keyValue);\n          }\n\n          //select pattern\n          if(store.ui.selectedPattern){\n            if(store.ui.selectedPattern.track.id !== this.props.keyValue){\n              store.ui.selectPattern(store.getPatternByTrackScene(this.props.keyValue, store.ui.selectedScene.id).id)\n            }\n          }\n          else{\n            store.ui.selectPattern(store.getPatternByTrackScene(this.props.keyValue, store.ui.selectedScene.id).id)\n          }\n  \n          event.preventDefault();\n        });\n\n        interact('#divGridButton_' + this.props.keyValue).draggable(this.props.editMode);\n    }\n  \n    componentDidUpdate(prevProps){\n      if(prevProps.region && this.props.region){\n        if(prevProps.region.start !== this.props.region.start \n          || prevProps.region.end !== this.props.region.end){\n          this.drawWave();\n        }\n      }\n  \n      if(prevProps.editMode !== this.props.editMode)\n        interact('#divGridButton_' + this.props.keyValue).draggable(this.props.editMode);\n    }\n\n    componentWillUnmount(){\n      interact('#divGridButton_' + this.props.keyValue).unset();\n      this.divProgress.removeEventListener('animationend', this.animationEnded);\n    }\n\n    animationEnded = (e) => {\n      e.target.style.animation = 'none';\n      //browsePlayer.stop();\n    }\n  \n    drawWave = () => {\n      let eleButton = document.getElementById('divGridButton_' + this.props.keyValue);\n      \n      this.ensureBufferIsLoaded(this.player.buffer).then(() => {\n        interact('#divGridButton_' + this.props.keyValue).fire({type: 'dragmove', target: eleButton});\n        \n        //remove previous canvas\n        let eleCanvas = document.querySelector('#divGridButton_' + this.props.keyValue + ' > canvas');\n        if(eleCanvas)\n          document.querySelector('#divGridButton_' + this.props.keyValue).removeChild(eleCanvas);\n        \n        renderWaveform(this.player.buffer.toArray(0), eleButton, 75, 75);\n      });\n    }\n  \n    ensureBufferIsLoaded = (buffer) => {\n      return new Promise(function (resolve, reject) {\n        (function waitForBuffer(){\n            if (buffer.loaded) return resolve();\n            setTimeout(waitForBuffer, 30);\n        })();\n      });\n    }\n\n    /*\n    handleClick = (e) => {\n      if(this.player)\n        this.player.start(Tone.context.currentTime);\n      \n        //e.stopPropagation();\n        //e.preventDefault();\n    }\n    */\n\n    render() {\n      let strClass = \"divGridButton\";\n      if(this.props.selectedTrack){\n        if(this.props.selectedTrack.id === this.props.keyValue)\n          strClass = \"divGridButtonSelected\";\n      }\n  \n      return(\n        <div id={'divGridButton_' + this.props.keyValue} className={strClass}>\n          <div className={'divGridButtonProgress'}></div>\n        </div>\n      )\n    }\n  })\n  ","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\n\nexport const MixRowViewBars = observer(class MixRowViewBars extends Component{\n    componentDidMount(){\n      this.props.store.ui.selectPattern(this.props.store.getPatternByTrackScene(this.props.track.id, this.props.selectedScene.id).id);\n\n      this.togglePasteButton();\n      this.toggleButtons(['Copy','Del','Rand']);\n    }\n\n    componentDidUpdate(prevProps){\n      if(prevProps.selectedScene.id !== this.props.selectedScene.id)\n        this.props.store.ui.selectPattern(this.props.store.getPatternByTrackScene(this.props.track.id, this.props.selectedScene.id).id);\n\n      this.togglePasteButton();\n      this.toggleButtons(['Copy','Del','Rand']);\n    }\n\n    componentWillUnmount(){}\n\n    togglePasteButton = () => {\n      let eleBtn = document.getElementById('btnMixBar_Paste');\n      eleBtn.disabled = (this.props.numSelectedBars > 0 && this.props.numCopiedBars > 0) ? false : true;\n    }\n\n    toggleButtons = (btnIds) => {\n      btnIds.forEach(id => {\n        let eleBtn = document.getElementById('btnMixBar_' + id);\n        \n        if(id === 'Rand' && this.props.track.type === 'audio')\n          eleBtn.disabled = true;\n        else\n          eleBtn.disabled = this.props.numSelectedBars > 0 ? false : true;\n      })\n    }\n\n    selectMixButton = (e) => {\n      e.preventDefault();\n\n      switch(e.target.id.split('_')[1]){\n        case 'All':\n          this.props.store.ui.views.edit.selectAllBars();\n          break;\n        case 'Copy':\n          this.props.store.ui.views.edit.copySelectedBars();\n          break;\n        case 'Paste':\n          this.props.store.ui.views.edit.pasteCopiedBars();\n          break;\n        case 'Del':\n          this.props.store.ui.views.edit.deleteSelectedBarNotes();\n          break;\n        case 'Rand':\n          this.props.store.ui.views.edit.randomizeSelectedBarNotes();\n          break;\n        default:\n      }\n    }\n  \n    render(){\n      return (\n        <div className={\"track-rowmix\"} id={'trackrowmixbars_' + this.props.track.id + '_' + this.props.bar} style={{width: + this.props.store.ui.windowWidth}}>\n          <button id=\"btnMixBar_All\" className=\"btn-mix-bars\" onClick={this.selectMixButton}>All</button>\n          <button id=\"btnMixBar_Copy\" className=\"btn-mix-bars\" onClick={this.selectMixButton}>Copy</button>\n          <button id=\"btnMixBar_Paste\" className=\"btn-mix-bars\" onClick={this.selectMixButton}>Paste</button>\n          <button id=\"btnMixBar_Del\" className=\"btn-mix-bars\" onClick={this.selectMixButton}>Clr</button>\n          <button id=\"btnMixBar_Rand\" className=\"btn-mix-bars\" onClick={this.selectMixButton}>Rand</button>\n        </div>\n      )\n    }\n  })\n  ","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\n\nexport const MixRowViewNotes = observer(class MixRowViewNotes extends Component{\n    componentDidMount(){\n      this.props.store.ui.selectPattern(this.props.store.getPatternByTrackScene(this.props.track.id, this.props.selectedScene.id).id);\n\n      this.togglePasteButton();\n      this.toggleButtons(['Copy','Paste','Del','Rand']);\n    }\n\n    componentDidUpdate(prevProps){\n      if(prevProps.selectedScene.id !== this.props.selectedScene.id)\n        this.props.store.ui.selectPattern(this.props.store.getPatternByTrackScene(this.props.track.id, this.props.selectedScene.id).id);\n\n      this.togglePasteButton();\n      this.toggleButtons(['Copy','Paste','Del','Rand']);\n    }\n\n    componentWillUnmount(){}\n\n    togglePasteButton = () => {\n      let eleBtn = document.getElementById('btnMix_Paste');\n      eleBtn.disabled = this.props.numSelectedNotes === 1 ? false : true;\n    }\n\n    toggleButtons = (btnIds) => {\n      btnIds.forEach(id => {\n        let eleBtn = document.getElementById('btnMix_' + id);\n        \n        if(id === 'Rand' && this.props.track.type === 'audio')\n          eleBtn.disabled = true;\n        else if(id === 'Copy')\n          eleBtn.disabled = this.props.numSelectedNotes > 0 ? false : true;\n        else if(id === 'Paste')\n          eleBtn.disabled = (this.props.numSelectedNotes > 0 && this.props.store.ui.views.edit.copiedNotes.length > 0) ? false : true;\n      })\n    }\n\n    selectMixButton = (e) => {\n      e.preventDefault();\n\n      switch(e.target.id.split('_')[1]){\n        case 'All':\n          this.props.store.ui.views.edit.selectAllNotes();\n          break;\n        case 'Copy':\n          this.props.store.ui.views.edit.copySelectedNotes();\n          break;\n        case 'Paste':\n          this.props.store.ui.views.edit.pasteCopiedNote();\n          break;\n        case 'Del':\n          this.props.store.ui.views.edit.clearSelectedNotes();\n          break;\n        case 'Rand':\n          this.props.store.ui.views.edit.randomizeSelectedNotes();\n          this.props.update();\n          break;\n        default:\n      }\n    }\n  \n    render(){\n      return (\n        <div className={\"track-rowmix\"} id={'trackrowmixbars_' + this.props.track.id + '_' + this.props.bar} style={{width: + this.props.store.ui.windowWidth}}>\n          <button id=\"btnMix_All\" className=\"btn-mix-bars\" onClick={this.selectMixButton}>All</button>\n          <button id=\"btnMix_Copy\" className=\"btn-mix-bars\" onClick={this.selectMixButton}>Copy</button>\n          <button id=\"btnMix_Paste\" className=\"btn-mix-bars\" onClick={this.selectMixButton}>Paste</button>\n          <button id=\"btnMix_Del\" className=\"btn-mix-bars\" onClick={this.selectMixButton}>Clr</button>\n          <button id=\"btnMix_Rand\" className=\"btn-mix-bars\" onClick={this.selectMixButton}>Rand</button>\n        </div>\n      )\n    }\n  })\n  ","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport { store } from \"../../data/store.js\";\nimport { toneObjNames } from \"../../data/tonenames.js\";\nimport interact from 'interactjs';\nimport * as Tone from \"tone\";\nimport { ToneObjs, randomId } from '../../models/models.js';\nimport { applyDraggableGrid } from '../utils.js';\nimport { TrackRowView } from './trackrow/trackrow.js';\nimport { MixRowView } from './trackrow/mixrow.js';\nimport { MixRowViewEdit } from './trackrow/mixrowedit.js';\nimport { MixRowViewBars } from \"./trackrow/mixrowbars.js\";\nimport { MixRowViewNotes } from \"./trackrow/mixrownotes.js\";\nimport { GridTimeline } from './timeline/timeline.js';\n\n\nexport const EditView = observer(class EditView extends Component {\n  componentDidMount(){}\n  componentDidUpdate(prevProps){}\n  componentWillUnmount(){}\n  \n  render(){\n    let content;\n    if(this.props.editViewMode === 'graph'){\n      content = <EditViewGraph \n                    store={this.props.store}\n                    track={this.props.track}\n                    edit={this.props.edit}\n                    windowHeight={this.props.windowHeight} \n                    windowWidth={this.props.windowWidth}\n                  />\n    }\n    else {\n      content = <EditViewBars\n                    store={this.props.store}\n                    track={this.props.track}\n                    selectedNote={this.props.store.ui.selectedNote}\n                    viewLength={this.props.store.ui.viewLength}\n                    sceneLength={store.getSceneLength(this.props.store.ui.selectedScene.id)}\n                    editMode={this.props.edit}\n                  />               \n    }\n\n    return (\n        <div>\n          { content }\n        </div>\n    )\n  }\n});\n\nconst EditViewBars = observer(class EditViewBars extends Component {\n  strSVG;\n\n  componentDidMount(){\n    applyDraggableGrid();\n    store.ui.calibrateSizes(true, true);\n  }\n  componentDidUpdate(prevProps){\n    if(prevProps.sceneLength !== this.props.sceneLength){\n      store.ui.calibrateSizes(true)\n    }\n  }\n  componentWillUnmount(){\n    if(store.ui.views.edit.multiNoteSelect)\n        store.ui.views.edit.toggleMultiNoteSelect();\n    \n    interact(document.querySelector('body')).unset();\n    interact('#gridContainer').unset();\n  }\n\n  setSVG = (svg) => {\n    this.strSVG = svg;\n    this.forceUpdate();\n  }\n\n  //easier than a prop update for now\n  updateAfterNoteRandomize = () => {\n    this.forceUpdate();\n  }\n\n  render(){\n    let mixRow;\n\n    if(store.ui.viewMode === 'edit' && store.ui.views.edit.mode === 'bar' && this.props.editMode){\n      if(store.ui.views.edit.multiNoteSelect)\n        mixRow = <MixRowViewNotes store={this.props.store} track={this.props.track} selectedScene={store.ui.selectedScene} numSelectedNotes={store.ui.views.edit.getNumSelectedNotes} update={this.updateAfterNoteRandomize} /*numCopiedBars={store.ui.views.edit.getNumCopiedBars}*//>\n      else\n        mixRow = <MixRowViewBars store={this.props.store} track={this.props.track} selectedScene={store.ui.selectedScene} numSelectedBars={store.ui.views.edit.getNumSelectedBars} numCopiedBars={store.ui.views.edit.getNumCopiedBars}/>\n    }\n    else if(this.props.selectedNote && !store.ui.views.edit.multiNoteSelect && !store.ui.editMode){\n      if(this.props.selectedNote.getPattern.track.id === this.props.track.id){\n        mixRow = <MixRowViewEdit trackId={this.props.track.id} store={this.props.store} track={this.props.track} note={this.props.selectedNote} selection={this.props.track.mixRow.editSelection} viewLength={this.props.viewLength}/>\n      }\n    }\n    /*\n    else if(store.ui.views.edit.multiNoteSelect && store.ui.views.edit.selectedNotes.length > 0){\n      let note = store.getNotesByTrack(store.ui.selectedTrack.id).find(n => n.id === store.ui.views.edit.selectedNotes[0]);\n      mixRow = <MixRowViewEdit trackId={this.props.track.id} store={this.props.store} track={this.props.track} note={note} selection={this.props.track.mixRow.editSelection} viewLength={this.props.viewLength}/>\n    }\n    */\n    else{\n      mixRow = <MixRowView store={this.props.store} track={this.props.track} selection={this.props.track.mixRow.mainSelection} viewLength={this.props.viewLength}/>\n    }\n\n    let numMeasures = 0;\n    let tracks = [];\n    if(store.ui.selectedScene){\n      let sceneLength = Tone.Time(store.getSceneLength(this.props.store.ui.selectedScene.id)).toBarsBeatsSixteenths();\n      numMeasures = sceneLength.split(':')[0];\n    }\n    \n    let track = this.props.track;\n    for(let i=1; i<=numMeasures; i++){\n      tracks.push(<TrackRowView key={track.id + '_' + i} \n          keyValue={track.id} store={this.props.store} \n          sample={track.sample} \n          region={track.returnRegion} \n          patterns={this.props.store.getPatternsByTrack(track.id)} \n          scenes={this.props.store.getScenesAsc} \n          mixMode={this.props.store.ui.mixMode}\n          editMode={this.props.store.ui.editMode}\n          viewLength={this.props.store.ui.viewLength} \n          songLength={this.props.store.getSongLength()} \n          bpm={this.props.store.settings.bpm} \n          /* notes={this.props.store.getNotesByTrack(track.id)} */\n          selectedScene={this.props.store.ui.selectedScene} \n          track={track} \n          selectedGroup={this.props.store.ui.selectedGroup} \n          playbackRate={track.getPlaybackRate} \n          selectedTrack={this.props.store.ui.selectedTrack} \n          selectedNote={this.props.store.ui.selectedNote} \n          selectedNoteValue={this.props.store.ui.getSelectedNoteValue}\n          selectedNoteVelocity={this.props.store.ui.getSelectedNoteVelocity}\n          selectedPattern={this.props.store.ui.selectedPattern} \n          selectedPatternRes={this.props.store.ui.getSelectedPatternProp('resolution')} \n          selectedPatternNotes={this.props.store.ui.getSelectedPatternProp('notes')}\n          selectedKey={this.props.store.ui.selectedKey}\n          windowWidth={this.props.store.ui.windowWidth}\n          bar={i}\n          selectedNoteDuration={this.props.store.ui.getSelectedNoteDuration}\n          selectedNoteOffset={this.props.store.ui.getSelectedNoteOffset}\n          strSVG={this.strSVG}\n          setSVG={this.setSVG}\n          selectedBars={this.props.store.ui.views.edit.selectedBars}\n          numSelectedBars={this.props.store.ui.views.edit.getNumSelectedBars}\n          numCopiedBars={this.props.store.ui.views.edit.getNumCopiedBars}\n          numSelectedNotes={this.props.store.ui.views.edit.selectedNotes.length}\n          numCopiedNotes={this.props.store.ui.views.edit.copiedNotes.length}\n        />)\n    }\n\n    let sizes = store.ui.getGridSizes;\n    return(\n      <div style={{top:'40px', position:'relative'}}>\n        { mixRow }\n        <div id=\"gridParent\" style={{width: sizes.parent.width, left: sizes.parent.left}}>\n          <div className=\"divBody\" id=\"gridContainer\" style={{width: sizes.container.width, left: sizes.container.left}}>\n            <GridTimeline selectedScene={this.props.store.ui.selectedScene} ui={this.props.store.ui} windowWidth={this.props.store.ui.windowWidth}/>\n            { tracks.map(t => t) }\n          </div>\n        </div>\n      </div>\n    )\n  }\n})\n\nconst EditViewGraph = observer(class EditViewGraph extends Component {\n    mousePosX;\n    mousePosY;\n    drawingLine;\n    activeObj;\n    hoverObj;\n    //hardcoded css styles for width/height/top/bottom/\n    objSize = {width: this.props.windowWidth * 0.07, height: (this.props.windowHeight - 150 - 80) * 0.1 };\n  \n    componentDidMount(){\n      applyDraggableGrid();\n      //this.props.store.ui.calibrateSizes();\n      this.drawingLine = false;\n      \n      //TODO: replace with interact event for divEditViewBG only\n      document.addEventListener('mouseup', this.mouseUp);\n      document.addEventListener('touchend', this.mouseUp);\n      document.addEventListener('mousedown', this.mouseDown);\n      document.addEventListener('touchstart', this.touchStart);\n      document.addEventListener('mousemove', this.mouseMove);\n      document.addEventListener('touchmove', this.touchMove);\n  \n      if(!store.ui.editMode)\n        store.ui.toggleEditMode();\n\n      this.objSize.width = this.props.windowWidth * 0.07;\n      //diveditbg has top and bottom set\n      this.objSize.height = (this.props.windowHeight - 150 - 80) * 0.1;\n\n      this.refreshConnections();\n      this.toggleDeleteButtons();\n    }\n  \n    componentDidUpdate(prevProps){\n      if(prevProps.windowHeight !== this.props.windowHeight || prevProps.windowWidth !== this.props.windowWidth){\n        this.objSize.width = this.props.windowWidth * 0.07;\n        this.objSize.height = (this.props.windowHeight - 150 - 80) * 0.1;\n\n        //call element drag event to refresh positions\n        document.querySelectorAll('#divEditViewBG > div').forEach(ele => {\n          interact('#' + ele.id).fire({ type: 'dragmove', target: ele });\n        });\n      }\n\n      this.refreshConnections();\n      this.toggleDeleteButtons();\n    }\n  \n    toggleDeleteButtons = () => {\n      if(!this.props.edit){\n        let btns = document.getElementsByClassName(\"btnEditViewDelete\");\n        for(let i=0; i<btns.length; i++)\n          btns[i].style.display = 'block';\n      }\n      else{\n        let btns = document.getElementsByClassName(\"btnEditViewDelete\");\n        for(let i=0; i<btns.length; i++)\n          btns[i].style.display = 'none';\n      }\n    }\n  \n    mouseUp = (evt) => {\n      if(!this.props.edit && this.drawingLine && this.mousePosX && this.mousePosY){\n        let ele = document.elementFromPoint(this.mousePosX, this.mousePosY);\n        if(ele){\n          if(ele.id){\n            this.activateObj(ele.id, 'up');\n          }\n        }\n      }\n  \n      this.drawingLine = false;\n      if(document.getElementById('canvasLineBG'))\n        document.getElementById('canvasLineBG').remove();\n\n\n      store.getObjsByTrackObj(this.props.track).forEach(o => {\n        let ele = document.getElementById(o.id);\n        if(ele){\n          if(ele.classList.contains('divEditViewObjEnabled'))\n            ele.classList.remove('divEditViewObjEnabled');\n          if(ele.classList.contains('divEditViewObjHover'))\n            ele.classList.remove('divEditViewObjHover');\n        }\n      })\n    }\n  \n    mouseDown = (evt) => {\n      this.mousePosX = evt.pageX;\n      this.mousePosY = evt.pageY;\n    }\n  \n    touchStart = (evt) => {\n      this.mousePosX = evt.touches[0].pageX;\n      this.mousePosY = evt.touches[0].pageY;\n    }\n  \n    mouseMove = (evt) => {\n      if(this.drawingLine){\n        this.mousePosX = evt.pageX;\n        this.mousePosY = evt.pageY;\n        this.drawConnection();\n\n        if(this.hoverObj){\n          let ele = document.elementFromPoint(this.mousePosX, this.mousePosY);\n          if(ele)\n            this.activateObj(ele.id, 'over')\n        }\n      }\n    }\n  \n    touchMove = (evt) => {\n      evt.preventDefault(); //prevents position offset on ios safari\n  \n      if(this.drawingLine){\n        this.mousePosX = evt.touches[0].pageX;\n        this.mousePosY = evt.touches[0].pageY;\n        this.drawConnection();\n      }\n    }\n  \n    componentWillUnmount(){\n      interact(document.querySelector('body')).unset();\n      interact('#gridContainer').unset();\n\n      document.removeEventListener('mouseup', this.mouseUp);\n      document.removeEventListener('touchend', this.mouseUp);\n      document.removeEventListener('mousemove', this.mouseMove);\n      document.removeEventListener('touchmove', this.touchMove);\n      document.removeEventListener('mousedown', this.mouseDown);\n      document.removeEventListener('touchstart', this.touchStart);\n    }\n  \n    activateObj = (id, action) => {\n      //remove tags from nested elements if part of id\n      id = id.replace('canvas_','');\n      id = id.replace('label_','');\n  \n      if(id && action === \"down\"){\n        this.drawingLine = true;\n        this.activeObj = id;\n\n        store.getObjsByTrackObj(this.props.track).filter(o => o.id.split('_')[0] !== 'mix' && o.id !== id).forEach(o => {\n          let srcType = store.getObjTypeByIdTrack(id, this.props.track.id);\n\n          if(((srcType === \"effect\" || srcType === \"component\") && o.id.split('_')[0] !== \"tinysynth\" && o.id.split('_')[0] !== 'lfo')\n            || (id.split('_')[0] === 'lfo' && o.id.split('_')[0] === 'lfo')){\n            \n            if((!store.getConnectionsByObjId(this.activeObj).find(c => c.src === this.activeObj && c.dest === o.id) || id.split('_')[0] === 'lfo'))\n              document.getElementById(o.id).classList.add('divEditViewObjEnabled');\n          }\n        })\n      }\n      else if(id !== this.activeObj && action === \"up\" \n        && store.getObjsByTrackObj(this.props.track).find(o => o.id === id)){\n  \n          let srcType = store.getObjTypeByIdTrack(this.activeObj, this.props.track.id);\n          let destType = store.getObjTypeByIdTrack(id, this.props.track.id);\n  \n          //dest must be component or effect, or lfo to all\n          if(((destType === \"effect\" || destType === \"component\") && id.split('_')[0] !== \"tinysynth\" && id.split('_')[0] !== \"lfo\")\n            || (this.activeObj.split('_')[0] === 'lfo' && (destType === \"effect\" || destType === \"component\" || destType === 'instrument'|| destType === 'source'))){\n            //is there already a connection?\n            if(this.activeObj.split('_')[0] === 'lfo'){\n              this.objDest = store.getObjsByTrackObj(this.props.track).find(o => o.id === id);\n              this.randId = randomId();\n              this.forceUpdate();\n            }\n            else{\n              if(!store.getConnectionsByObjId(this.activeObj).find(c => c.src === this.activeObj && c.dest === id)){\n                let connId = 'connection_' + randomId();\n                store.addConnection(connId, this.props.track.id, this.activeObj, id, srcType, destType);\n              }\n            }\n          }\n      }\n      //hover on connect mode\n      else if(action === \"over\" && id !== this.hoverObj && id !== this.activeObj && this.drawingLine){\n        let ele = document.getElementById(id);\n        if(ele){\n          //hover id is tone obj && not connected\n          let destType = store.getObjTypeByIdTrack(id, this.props.track.id);\n          if((((destType === \"effect\" || destType === \"component\") && id.split('_')[0] !== \"tinysynth\" && id.split('_')[0] !== \"lfo\") && !store.getConnectionsByObjId(this.activeObj).find(c => c.src === this.activeObj && c.dest === id))\n            || (this.activeObj.split('_')[0] === 'lfo' && (destType === \"effect\" || destType === \"component\" || destType === 'instrument'|| destType === 'source'))){\n              //remove hover style from prev ele\n              let elePrev = document.getElementById(this.hoverObj);\n              if(elePrev){\n                if(elePrev.classList.contains('divEditViewObjHover'))\n                  elePrev.classList.remove('divEditViewObjHover');\n              }\n\n              if(!ele.classList.contains('divEditViewObjHover'))\n                document.getElementById(id).classList.add('divEditViewObjHover');\n\n              this.hoverObj = id;\n          }\n          //hover id is not tone obj\n          else{\n            //remove hover class from prev ele\n            let elePrev = document.getElementById(this.hoverObj);\n            if(elePrev){\n              if(elePrev.classList.contains('divEditViewObjHover'))\n                elePrev.classList.remove('divEditViewObjHover');\n            }\n\n            this.hoverObj = undefined;\n          }\n        }\n      }\n    }\n  \n    drawConnection = (connection) => {\n      //TODO: set these once for better perf?\n      let ele1, ele2, eleBG, ctx, hw, hh, x1, x2, y1, y2, drawX1, drawX2, drawY1, drawY2, eleDelete;\n  \n      if(connection){\n        ele1 = document.getElementById(connection.src);\n        ele2 = document.getElementById(connection.dest);\n        eleBG = document.getElementById(connection.id);\n        eleDelete = document.getElementById('delete_' + connection.id)\n  \n        if(!eleDelete){\n          eleDelete = document.createElement('button');\n          eleDelete.setAttribute(\"id\", \"delete_\" + connection.id);\n          eleDelete.setAttribute(\"class\", \"btnEditViewDelete\");\n          eleDelete.innerHTML = connection.src.split('_')[0] === 'lfo' ? 'i' : 'X';\n          eleDelete.onclick = this.btnDeleteConnection;\n          document.getElementById('divEditViewBG').appendChild(eleDelete);\n        }\n        \n        hw = this.objSize.width / 2;\n        hh = this.objSize.height / 2;\n  \n        x1 = (parseFloat(ele1.getAttribute('data-x')) || 0);\n        x2 = (parseFloat(ele2.getAttribute('data-x')) || 0);\n        y1 = (parseFloat(ele1.getAttribute('data-y')) || 0);\n        y2 = (parseFloat(ele2.getAttribute('data-y')) || 0);\n      }\n      else{\n        ele1 = document.getElementById(this.activeObj);\n        eleBG = document.getElementById('canvasLineBG');\n  \n        if(!eleBG){\n          eleBG = document.createElement('canvas');\n          eleBG.setAttribute(\"id\", \"canvasLineBG\");\n          eleBG.setAttribute(\"style\", \"position:absolute; top:30%; left:45%; z-index:2;\");\n          document.getElementById('divEditViewBG').appendChild(eleBG);\n        }\n        \n        hw = 0;\n        hh = 0;\n  \n        x1 = (parseFloat(ele1.getAttribute('data-x')) || 0) + (this.objSize.width / 2);\n        y1 = (parseFloat(ele1.getAttribute('data-y')) || 0) + (this.objSize.height / 2);\n\n        //x2 = this.mousePosX - eleBG.offsetLeft;\n        //y2 = this.mousePosY - eleBG.offsetTop - 150;\n        //ugly, fast, sloppy... but better than a redraw\n        x2 = this.mousePosX - (store.ui.windowWidth * 0.45);\n        y2 = this.mousePosY - ((store.ui.windowHeight - 150 - 80) * 0.3) - 150;\n      }\n      \n      x1 = Math.round(x1);\n      x2 = Math.round(x2);\n      y1 = Math.round(y1);\n      y2 = Math.round(y2);\n      \n      if(x1 > x2){\n        eleBG.style.width = (x1 - x2) + 'px';\n        if(y1 > y2){\n          eleBG.style.height = (y1 - y2) + 'px';\n          eleBG.style.webkitTransform = eleBG.style.transform = 'translate(' + (x2 + hw) + 'px, ' + (y2 + hh) + 'px)';\n          drawY1 = parseInt(eleBG.style.height.replace('px',''), 10);\n          drawY2 = 0;\n        }\n        else if(y1 <= y2){\n          eleBG.style.height = (y2 - y1) + 'px';\n          eleBG.style.webkitTransform = eleBG.style.transform = 'translate(' + (x2 + hw) + 'px, ' + (y1 + hh) + 'px)';\n          drawY1 = 0;\n          drawY2 = parseInt(eleBG.style.height.replace('px',''), 10);\n        }\n        drawX1 = parseInt(eleBG.style.width.replace('px',''), 10);\n        drawX2 = 0;\n      }\n      else if(x1 < x2){\n        eleBG.style.width = (x2 - x1) + 'px';\n        if(y1 > y2){\n          eleBG.style.height = (y1 - y2) + 'px';\n          eleBG.style.webkitTransform = eleBG.style.transform = 'translate(' + (x1 + hw) + 'px, ' + (y2 + hh) + 'px)';\n          drawY1 = parseInt(eleBG.style.height.replace('px',''), 10);\n          drawY2 = 0;\n        }\n        else if(y1 <= y2){\n          eleBG.style.height = (y2 - y1) + 'px';\n          eleBG.style.webkitTransform = eleBG.style.transform = 'translate(' + (x1 + hw) + 'px, ' + (y1 + hh) + 'px)';\n          drawY1 = 0;\n          drawY2 = parseInt(eleBG.style.height.replace('px',''), 10);\n        }\n        drawX1 = 0;\n        drawX2 = parseInt(eleBG.style.width.replace('px',''), 10);\n      }\n  \n      if(x1 === x2 || y1 === y2){\n       eleBG.style.backgroundColor = 'white';\n\n        if(y1 === y2)\n          eleBG.style.height = '1px';\n        if(x1 === x2)\n          eleBG.style.width = '1px';\n      }\n      else{\n        if(eleBG.style.backgroundColor === 'white')\n          eleBG.style.backgroundColor = 'transparent';\n      }\n  \n      //center delete button over BG using transform\n      // change to regex\n      if(connection && !this.props.edit){\n        let strTrans = eleBG.style.transform.replace(\"translate(\",\"\");\n        strTrans = strTrans.replace(\")\",\"\");\n        strTrans = strTrans.trim();\n        strTrans = strTrans.replace(\"px\",\"\");\n        strTrans = strTrans.replace(\"px\",\"\");\n        strTrans = strTrans.split(\",\");\n  \n        if(strTrans[0])\n          strTrans[0] = strTrans[0].replace('px','');\n        if(strTrans[1])\n          strTrans[1] = strTrans[1].replace('px','');\n        \n        let hWidth = (eleBG.style.width.replace('px','') / 2) - 13;\n        let hHeight = (eleBG.style.height.replace('px','') / 2) - 13;\n\n        eleDelete.style.webkitTransform = eleDelete.style.transform = 'translate(' + (parseInt(strTrans[0], 10) + hWidth) + 'px, ' + (parseInt(strTrans[1], 10) + hHeight) + 'px)';\n      }\n  \n      if(eleBG && !isNaN(drawX1) && !isNaN(drawY1) && !isNaN(drawX2) && !isNaN(drawY2)){\n        ctx = eleBG.getContext(\"2d\");\n        ctx.canvas.width = eleBG.style.width.replace('px','');\n        ctx.canvas.height = eleBG.style.height.replace('px', '');\n        ctx.clearRect(0, 0, eleBG.width, eleBG.height);\n\n        let grad = ctx.createLinearGradient(drawX1, drawY1, drawX2, drawY2);\n        grad.addColorStop(0, \"white\");\n        grad.addColorStop(1, \"#202020\");\n        \n        ctx.strokeStyle = grad;\n        ctx.lineWidth = 1.5;\n\n        ctx.beginPath();\n        ctx.moveTo(drawX1, drawY1);\n        ctx.lineTo(drawX2, drawY2);\n        ctx.stroke();\n      }\n    }\n\n    btnDeleteConnection = (e) => {\n      //remove connection and button\n      let connId = e.target.id.replace(\"delete_\",\"\");\n      let connection = store.getConnection(connId);\n      if(connection){\n        if(connection.signal){\n          this.activeObj = connection.src;\n          this.objDest = store.getObjsByTrackObj(this.props.track).find(o => o.id === connection.dest);\n          this.randId = randomId();\n          this.forceUpdate();\n        }\n        else{\n          store.delConnection(connId);\n        }\n      }\n    }\n  \n    refreshConnections = () => {\n      store.getConnectionsByTrack(this.props.track.id)\n        .filter(c => (c.src !== \"master\" && c.dest !== \"master\" \n          && c.src.split('_')[0] !== \"mix\" && c.dest.split('_')[0] !== \"mix\"\n          && c.dest !== 'panvol_master'))\n            .forEach(connection => {\n              this.drawConnection(connection);\n            })\n    }\n    \n    render() {\n      let trackRow = null;\n  \n      if(this.props.track){\n        let track = this.props.track;\n        \n        trackRow = <TrackRowView key={track.id} \n          keyValue={track.id} store={this.props.store} \n          sample={track.sample} \n          region={track.returnRegion} \n          patterns={this.props.store.getPatternsByTrack(track.id)} \n          scenes={this.props.store.getScenesAsc} \n          mixMode={this.props.store.ui.mixMode}\n          viewLength={this.props.store.ui.viewLength} \n          songLength={this.props.store.getSongLength()} \n          bpm={this.props.store.settings.bpm} \n          /* notes={this.props.store.getNotesByTrack(track.id)} */\n          selectedScene={this.props.store.ui.selectedScene} \n          track={track} \n          selectedGroup={this.props.store.ui.selectedGroup} \n          playbackRate={track.getPlaybackRate} \n          selectedTrack={this.props.store.ui.selectedTrack} \n          selectedNote={this.props.store.ui.selectedNote} \n          selectedNoteValue={this.props.store.ui.getSelectedNoteValue} \n          selectedNoteVelocity={this.props.store.ui.getSelectedNoteVelocity} \n          selectedPattern={this.props.store.ui.selectedPattern} \n          selectedPatternRes={this.props.store.ui.getSelectedPatternProp('resolution')} \n          selectedPatternNotes={this.props.store.ui.getSelectedPatternProp('notes')}\n          selectedKey={this.props.store.ui.selectedKey}\n          windowWidth={this.props.store.ui.windowWidth}\n          selectedNoteDuration={this.props.store.ui.getSelectedNoteDuration}\n          selectedNoteOffset={this.props.store.ui.getSelectedNoteOffset}\n        />\n      }\n\n      let timeline, playhead;\n      if(this.props.track.type !== 'master'){\n        timeline = <GridTimeline selectedScene={this.props.store.ui.selectedScene} ui={this.props.store.ui} windowWidth={this.props.store.ui.windowWidth}/>\n        playhead = <div className=\"progressLine\" id=\"playhead\"></div>;\n      }\n\n      let cssCursor = this.props.edit ? '' : 'cursorCrosshair';\n      let cssTop = this.props.track.type === 'master' ? ' divEditViewBGMasterTop' : '';\n\n      let sizes = store.ui.getGridSizes;\n      return (\n        <div id=\"gridParent\" style={{width: sizes.parent.width, left: sizes.parent.left}}>\n          <div className=\"divBody\" id=\"gridContainer\" style={{width: sizes.container.width, left: sizes.container.left}}>\n            { timeline }\n            { playhead }\n            { trackRow }\n          </div>\n          <div id='divEditViewBG' className={cssCursor + cssTop} style={{width: store.ui.windowWidth + 'px'}}>\n            { /* save for later? <canvas id=\"canvasEditViewBG\" style={{backgroundColor: 'white', width:'100%', height:'100%', position:'fixed'}}></canvas> */ }\n            { store.instruments.getAllByTrack(this.props.track.id).filter(o => o.id.split('_')[0] !== \"mix\" && o.id.split('_')[0] !== \"tinysynth\").map((obj, index) => \n              <EditViewObj key={obj.id} index={index} obj={obj} edit={this.props.edit} active={this.activateObj} drawConnection={this.drawConnection} selectedObj={this.props.store.ui.selectedObj}/>) }\n            { store.components.getAllByTrack(this.props.track.id).filter(o => o.id.split('_')[0] !== \"mix\").map((obj, index) => \n              <EditViewObj key={obj.id} index={index} obj={obj} edit={this.props.edit} active={this.activateObj} drawConnection={this.drawConnection} selectedObj={this.props.store.ui.selectedObj}/>) }\n            { store.effects.getAllByTrack(this.props.track.id).filter(o => o.id.split('_')[0] !== \"mix\").map((obj, index) => \n              <EditViewObj key={obj.id} index={index} obj={obj} edit={this.props.edit} active={this.activateObj} drawConnection={this.drawConnection} selectedObj={this.props.store.ui.selectedObj}/>) }\n            { store.sources.getAllByTrack(this.props.track.id).filter(o => o.id.split('_')[0] !== \"mix\").map((obj, index) => \n              <EditViewObj key={obj.id} index={index} obj={obj} edit={this.props.edit} active={this.activateObj} drawConnection={this.drawConnection} selectedObj={this.props.store.ui.selectedObj}/>) }\n            { store.getConnectionsByTrack(this.props.track.id)\n                .filter(c => (c.src !== \"master\" && c.dest !== \"master\" \n                && c.src.split('_')[0] !== \"mix\" && c.dest.split('_')[0] !== \"mix\"\n                && c.dest !== 'panvol_master')) \n                  .map((obj, index) => <EditViewConnection key={obj.id} index={index} connection={obj}/>) }\n            <LFOModal randId={this.randId} objDest={this.objDest} objSrcId={this.activeObj}/>\n          </div>\n        </div>\n      )\n    }\n  })\n  \n\n  const EditViewConnection = observer(class EditViewConnection extends Component {\n    connId;\n  \n    componentDidMount(){\n      this.connId = this.props.connection.id;\n    }\n  \n    componentWillUnmount(){\n      document.getElementById(\"delete_\" + this.connId).remove();\n    }\n  \n    render() {\n      return(\n        <canvas id={this.props.connection.id} style={{position:'absolute',top:'30%',left:'45%', zIndex:2}}></canvas>\n      )\n    }\n  })\n  \n  const EditViewObj = observer(class EditViewObj extends Component {\n    x;\n    y;\n  \n    componentDidMount(){\n      this.setInteract();\n      this.applyObjCoords();\n    }\n  \n    applyObjCoords = () => {\n      let ele = document.getElementById(this.props.obj.id);\n      let relX = this.props.obj.ui.x, relY = this.props.obj.ui.y, absX = 0, absY = 0;\n  \n      //convert relative to abs\n      //bg div is separated into 4 quadrants\n      if(relY <= 0){\n        absY = (ele.offsetTop * (relY * -1) / 100) - ele.offsetTop;\n      }\n      else if(relY > 0){\n        absY = (relY * (document.getElementById('divEditViewBG').offsetHeight - ele.offsetTop - ele.offsetHeight)) / 100;\n      }\n  \n      if(relX < 0){\n        absX = ((relX  * (store.ui.windowWidth / 2)) / 100) + (ele.offsetWidth / 2);\n      }\n      else if(relX >= 0){\n        absX = (relX  * (store.ui.windowWidth / 2)) / 100;\n      }\n  \n      ele.style.webkitTransform = ele.style.transform  = 'translate(' + absX + 'px, ' + absY  + 'px)';\n      ele.setAttribute('data-x', absX);\n      ele.setAttribute('data-y', absY);\n    }\n  \n    componentWillUnmount(){\n      if(interact.isSet('#' +  this.props.obj.id))\n        interact('#' +  this.props.obj.id).unset();\n    }\n  \n    componentDidUpdate(prevProps, prevState, snapshot){\n      if(prevProps.edit !== this.props.edit)\n        interact('#' + this.props.obj.id).styleCursor(this.props.edit);\n    }\n    \n    setInteract = () => {\n      let self = this;\n\n      interact('#' + this.props.obj.id).draggable({\n        onmove: self.dragObj,\n        onend: self.dragEnd,\n        restrict: {\n          restriction: 'parent',\n          elementRect: { top: 0, left: 0, bottom: 1, right: 1 }\n        },\n      }).on('down', function(event) {\n        if(self.props.edit){\n          store.ui.selectObj(self.props.obj.id);\n          event.preventDefault();\n        }\n        else{\n          store.ui.selectObj(self.props.obj.id);\n\n          //ignore panvols except for master group panvols\n          if(self.props.obj.id.split('_')[0] === 'panvol'){\n            ['master','A','B','C','D'].some(group => {\n              if(self.props.obj.id === 'panvol_' + group){\n                self.props.active(self.props.obj.id, 'down');\n                return true;\n              }\n              return false;\n            })\n          }\n          else\n            self.props.active(self.props.obj.id, 'down');\n        }\n      }).on('move', function (event){\n          if(!self.props.edit)\n            self.props.active(event.target.id, 'over');\n      });\n\n      interact('#' + this.props.obj.id).styleCursor(this.props.edit);\n    }\n    \n    dragObj = (event) => {\n      let self = this;\n      let target = event.target;\n\n      this.x = (parseFloat(target.getAttribute('data-x')) || 0) + event.dx;\n      this.y = (parseFloat(target.getAttribute('data-y')) || 0) + event.dy;\n      \n      //fire event called on window resize in parent\n      if(isNaN(this.x) || isNaN(this.y)){\n        this.applyObjCoords();\n        return;\n      }\n      \n      if(this.props.edit){\n        target.style.webkitTransform = target.style.transform = 'translate(' + this.x + 'px, ' + this.y + 'px)';\n        \n        target.setAttribute('data-x', this.x);\n        target.setAttribute('data-y', this.y);\n\n        store.getConnectionsByObjId(self.props.obj.id)\n          .filter(c => (c.src !== \"master\" && c.dest !== \"master\"  \n            && c.src.split('_')[0] !== \"mix\" && c.dest.split('_')[0] !== \"mix\"\n            && c.dest !== 'panvol_master'))\n              .forEach(function(connection){\n                self.props.drawConnection(connection);\n        })\n      }\n    }\n\n    dragEnd = (event) => {\n      if(this.props.edit){\n        let target = event.target;\n\n        //save relative coordinates\n        //BG div is separated into 4 quadrants\n        let relX = 0, relY = 0;\n\n        if(this.y < 0){\n          relY = ((target.offsetTop - Math.round(this.y * -1)) / target.offsetTop) * (100 * -1);\n        }\n        else if(this.y >= 0){\n          relY = (Math.round(this.y) / (document.getElementById('divEditViewBG').offsetHeight - target.offsetTop - target.offsetHeight)) * 100;\n        }\n\n        if(this.x < 0){\n          relX = (((Math.round(this.x) - (target.offsetWidth / 2)) / (store.ui.windowWidth / 2))) * 100;\n        }\n        else if(this.x >= 0){\n          relX = (Math.round(this.x) / (store.ui.windowWidth / 2)) * 100;\n        }\n\n        //update UI model\n        this.props.obj.ui.setCoords(relX, relY)\n      }\n    }\n  \n    render() {\n      let cName = 'divEditViewObj';\n      if(this.props.selectedObj === this.props.obj.id)\n        cName = 'divEditViewObjSelected';\n\n      if(!this.props.edit)\n        cName = cName + ' cursorCrosshair';\n  \n      //text label. master track panvols display group our 'out'\n      let text = this.props.obj.id.split('_')[0];\n      if(store.ui.selectedTrack)\n        if(store.ui.selectedTrack.type === \"master\")\n          if(text === \"panvol\"){\n            text = this.props.obj.id.split('_')[1];\n            if(this.props.obj.id.split('_')[2])\n              text = \"out\"\n          }\n  \n      return(\n        <div id={this.props.obj.id} className={cName}>\n          <canvas id={'canvas_' + this.props.obj.id} className=\"canvasEditViewObj\"></canvas>\n          <label id={'label_'+ this.props.obj.id} className=\"labelEditViewObj\">{text}</label>\n        </div>\n      )\n    }\n  })\n  \n  export const LFOModal= observer(class LFOModal extends Component {\n    componentDidMount(){\n      document.getElementById('modal_LFO_close').onclick = () => this.toggleWindow();\n    }\n\n    rowClick = (e) => {\n      let row = e.target.parentNode;\n      let signal = row.children[1].innerText;\n\n      let connection = store.getConnectionsByObjId(this.props.objDest.id).find(c => c.dest === this.props.objDest.id && c.signal === signal);\n      if(connection){\n        store.delConnection(connection.id);\n        row.children[0].innerHTML = '';\n      }\n      else{\n        let type = store.getObjTypeByIdTrack(this.props.objDest.id, store.ui.selectedTrack.id);\n        store.addConnection('connection_' + randomId(), store.ui.selectedTrack.id, this.props.objSrcId, this.props.objDest.id, \"component\", type, signal);\n        row.children[0].innerHTML = '<i class=\"material-icons\" style=\"pointer-events:none\">check_circle</i>';\n      }\n    }\n  \n    componentDidUpdate(prevProps){\n      if(this.props.objSrcId.split('_')[0] === 'lfo' && prevProps.randId !== this.props.randId){\n        this.toggleWindow();\n\n        let table = document.getElementById('tableConnections');\n        while(table.hasChildNodes()){\n          table.removeChild(table.firstChild);\n        }\n\n        let type = store.getObjTypeByIdTrack(this.props.objDest.id, store.ui.selectedTrack.id);\n        let name = this.props.objDest.id.split('_')[0];\n        let obj = ToneObjs[type + 's'].find(o => o.id === this.props.objDest.id).obj;\n\n        Object.keys(this.props.objDest).filter(p => p !== 'id' && p !== 'track' && p !== 'ui' && p !== 'volume').forEach(prop => {\n          let objOption = obj[prop];\n          if(type === \"instrument\" && name !== \"player\" && name !== \"noisesynth\" && name !== \"plucksynth\" && name !== \"membranesynth\" && name !== \"metalsynth\" && name !== \"tinysynth\"){\n            objOption = obj.voices[0][Object.keys(obj.get(prop))[0]];\n          }\n          if(objOption){\n            if(objOption.toString() === 'Signal' || objOption.toString() === 'Multiply' || objOption.constructor.name === 'AudioParam'){\n              this.setTableRow(table, prop);\n            }\n          }\n        });\n      }\n    }\n\n    setTableRow = (table, prop) => {\n      let row = table.insertRow(0);\n      row.onclick = this.rowClick;\n\n      let cell1 = row.insertCell(0);\n      cell1.style.width = '20%'\n      if(store.getConnectionsByObjId(this.props.objDest.id).find(c => c.dest === this.props.objDest.id && c.signal === prop))\n        cell1.innerHTML = '<i class=\"material-icons\" style=\"pointer-events:none\">check_circle</i>';\n      else\n        cell1.innerHTML = '';\n\n      let cell2 = row.insertCell(1);\n      cell2.innerHTML = prop;\n      cell2.style.width = '80%';\n    }\n\n    toggleWindow = () => {\n      let modal = document.getElementById('modal_LFO');\n  \n      if(!modal.style.display || modal.style.display === \"none\"){\n        modal.style.display = \"block\";\n      }\n      else{\n        modal.style.display = \"none\";\n      }\n    }\n  \n    componentWillUnmount(){}\n  \n    render(){\n      let title = this.props.objDest ? this.props.objDest.id.split('_')[0] : '';\n      if(title){\n        title = toneObjNames.find(line => line.toLowerCase() === title.toLowerCase());\n      }\n\n      return (\n        <div id=\"modal_LFO\" className=\"modal\" style={{position:'absolute'}}>\n          <div id=\"modal_LFO_content\" className=\"modal-content\" style={{width:'300px'}}>\n            <div style={{width:'100%'}}>\n              <label className='modal-title'>{title}</label>\n              <span id='modal_LFO_close' className='modalClose'>&times;</span>\n            </div>\n            <table id='tableConnections'>\n              <thead></thead>\n              <tbody></tbody>\n            </table>\n          </div>\n        </div>\n      )\n    }\n  })","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport * as Tone from \"tone\";\nimport { store } from '../../../data/store.js';\nimport { randomId } from '../../../models/models.js';\n\n\nexport const MixRowViewManagerScene = observer(class MixRowViewManagerScene extends Component{\n    componentDidMount(){}\n\n    componentDidUpdate(prevProps){}\n\n    componentWillUnmount(){}\n    \n\n    selectMixButton = (e) => {\n      e.preventDefault();\n\n      let scene = store.ui.selectedScene;\n\n      switch(e.target.id.split('_')[1]){\n        case 'New':\n          if(!this.props.copySceneMode){\n            let start = store.getSongLength();\n            let end = Tone.Time(start) + Tone.Time('1:0:0');\n            store.addScene('scene_' + randomId(), Tone.Time(start).toBarsBeatsSixteenths(), Tone.Time(end).toBarsBeatsSixteenths());\n          }\n          else{\n            store.duplicateScene(this.props.selectedScene.id);\n          }    \n          break;\n        case 'Dup':\n          store.ui.views.manager.toggleCopySceneMode();\n          break;\n        case 'LenAdd':\n          if(!this.props.copySceneMode){\n            if(store.getSceneLength(scene.id) < Tone.Time('64:0:0'))\n              store.shiftSceneTimes(scene.end, Tone.Time('1:0:0'), 'add');\n          }\n          else{\n            if(store.getSceneLength(scene.id) <= Tone.Time('32:0:0')){\n              store.shiftSceneTimes(scene.end, Tone.Time(store.getSceneLength(this.props.selectedScene.id)), 'add');\n              \n              const totalBars = Tone.Time(store.getSceneLength(this.props.selectedScene.id)).toBarsBeatsSixteenths().split(':')[0];\n              const halfTotalBars = totalBars / 2;\n\n              ['A','B','C','D'].forEach(g => {\n                store.getPatternsBySceneGroup(this.props.selectedScene.id, g).forEach(p => {\n                  for(let i = 1; i <= halfTotalBars; i++){\n                    const destBarNum = halfTotalBars + i;\n                    p.pasteNotesToBar(p.getNotesByBar(i), destBarNum)\n                  }\n                });\n              })\n              \n            }\n          }\n          break;\n        case 'LenSub':\n          if(store.getSceneLength(scene.id) > Tone.Time('1:0:0'))\n            store.shiftSceneTimes(scene.end, Tone.Time('1:0:0'), 'sub');\n          break;\n        case 'Up':\n          if(scene.start !== '0:0:0')\n            store.swapScenes(store.getPrevScene(scene.id).id, scene.id);\n          break;\n        case 'Down':\n          if(scene.end !== Tone.Time(store.getSongLength()).toBarsBeatsSixteenths())\n            store.swapScenes(scene.id, store.getSceneByTime(scene.end).id);\n          break;\n        case 'Del':\n            store.delScene(scene.id);\n          break;\n        default:\n      }\n    }\n  \n    render(){\n      return (\n        <div className={\"track-rowmix\"} id={'trackrowmixmanagerscene'} style={{width: + this.props.store.ui.windowWidth}}>\n          <button id=\"btnMixBar_Dup\" className={\"btn-mix-scene \" + (this.props.copySceneMode ? ' itemSelected' : '')}  onClick={this.selectMixButton}>\n            <i className='material-icons i-btn-mix-scene'>file_copy</i>\n          </button>\n          <button id=\"btnMixBar_New\" className=\"btn-mix-scene\" onClick={this.selectMixButton}>\n            <i className='material-icons i-btn-mix-scene'>fiber_new</i>\n          </button>\n          <button id=\"btnMixBar_LenAdd\" className=\"btn-mix-scene\" onClick={this.selectMixButton}>\n            <i className='material-icons i-btn-mix-scene'>add</i>\n          </button>\n          <button id=\"btnMixBar_LenSub\" className=\"btn-mix-scene\" onClick={this.selectMixButton} disabled={this.props.copySceneMode ? true : false}>\n            <i className='material-icons i-btn-mix-scene'>remove</i>\n          </button>\n          <button id=\"btnMixBar_Up\" className=\"btn-mix-scene\" onClick={this.selectMixButton} disabled={this.props.copySceneMode ? true : false}>\n            <i className='material-icons i-btn-mix-scene'>arrow_back</i>\n          </button>\n          <button id=\"btnMixBar_Down\" className=\"btn-mix-scene\" onClick={this.selectMixButton} disabled={this.props.copySceneMode ? true : false}>\n            <i className='material-icons i-btn-mix-scene'>arrow_forward</i>\n          </button>\n          <button id=\"btnMixBar_Del\" className=\"btn-mix-scene\" onClick={this.selectMixButton} disabled={this.props.copySceneMode ? true : false}>\n            <i className='material-icons i-btn-mix-scene red'>delete</i>\n          </button>\n        </div>\n      )\n    }\n  })\n  ","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport { store } from '../../../data/store.js';\n\n\nexport const MixRowViewManagerTrack = observer(class MixRowViewManagerTrack extends Component{\n    componentDidMount(){}\n\n    componentDidUpdate(prevProps){}\n\n    componentWillUnmount(){}\n\n\n    selectMixButton = (e) => {\n      e.preventDefault();\n      \n      let track = this.props.selectedTrack;\n\n      if(track){\n        switch(e.target.id.split('_')[1]){\n          case 'Dup':\n            store.duplicateTrack(track.id);\n            break;\n          case 'Group':\n            track.toggleGroup();\n            break;\n          case 'Up':\n            track.moveTrackUp();\n            break;\n          case 'Down':\n            track.moveTrackDown();\n            break;\n          case 'Clear':\n            track.delNotes();\n            break;\n          case 'Del':\n            store.delTrack(track.id);\n            break;\n          default:\n        }\n      }\n    }\n  \n    render(){\n      return (\n        <div className={\"track-rowmix\"} id={'trackrowmixmanagertrack'} style={{width: + this.props.store.ui.windowWidth}}>\n          <button id=\"btnMixBar_Dup\" className=\"btn-mix-track\" onClick={this.selectMixButton}>\n            <i className='material-icons i-btn-mix-scene'>file_copy</i>\n          </button>\n          <button id=\"btnMixBar_Group\" className=\"btn-mix-track\" onClick={this.selectMixButton}>\n            { this.props.selectedTrack ? this.props.selectedTrack.group : 'N/A' }\n          </button>\n          <button id=\"btnMixBar_Up\" className=\"btn-mix-track\" onClick={this.selectMixButton}>\n            <i className='material-icons i-btn-mix-scene'>arrow_upward</i>\n          </button>\n          <button id=\"btnMixBar_Down\" className=\"btn-mix-track\" onClick={this.selectMixButton}>\n            <i className='material-icons i-btn-mix-scene'>arrow_downward</i>\n          </button>\n          <button id=\"btnMixBar_Clear\" className=\"btn-mix-track\" onClick={this.selectMixButton}>\n            Clr\n          </button>\n          <button id=\"btnMixBar_Del\" className=\"btn-mix-track\" onClick={this.selectMixButton}>\n            <i className='material-icons i-btn-mix-scene red'>delete</i>\n          </button>\n        </div>\n      )\n    }\n  })\n  ","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport { store } from \"../../data/store.js\";\nimport * as Tone from \"tone\";\nimport { MixRowViewManagerScene } from './trackrow/mixrowmanagerscene.js';\nimport { MixRowViewManagerTrack} from './trackrow/mixrowmanagertrack.js';\n\n\nexport const ManagerView = observer(class ManagerView extends Component {\n    componentDidMount(){\n    }\n    componentDidUpdate(prevProps){}\n    componentWillUnmount(){}\n    render() {\n        let view;\n        if(this.props.managerMode === 'scene') \n            view = <ManagerViewScene store={this.props.store} selectedScene={this.props.store.ui.selectedScene} \n                        windowHeight={this.props.store.ui.windowHeight}/>\n        else if(this.props.managerMode === 'track'){\n            if(store.getNumTracks > 0){\n                view = <ManagerViewTrack store={this.props.store} selectedTrack={this.props.store.ui.selectedTrack} \n                            windowHeight={this.props.store.ui.windowHeight}/>\n            }\n            else{\n                view = <label className='labelCenter'>No Tracks</label>\n            }\n        }\n\n        return(\n            <div style={{width:'100%', height:(store.ui.windowHeight - 80) + 'px', display:'table', backgroundColor:'rgba(0,0,0,0.9)'}}>\n                { view } \n            </div>\n        )\n    }\n})\n\nexport const ManagerViewTrack = observer(class ManagerViewTrack extends Component {\n    componentDidMount(){\n        ['A','B','C','D'].forEach(g => {\n            store.getTracksByGroup(g).forEach(t => {\n                this.setTrackMuteButton(t.id, t.mute);\n            });\n        });\n    }\n    componentDidUpdate(prevProps){}\n    componentWillUnmount(){}\n\n    rowClick = (e) => {\n        if(e.target.parentNode && e.target.parentNode.cells){\n            let txtTrack = e.target.parentNode.cells[1].innerHTML;\n\n            if(txtTrack){\n                let track = store.getTrack(txtTrack);\n\n                if(track){\n                    store.ui.selectTrack(track.id);\n                }\n            }\n        }\n    }\n\n    muteTrack = (trackId) => {\n        let track = store.getTrack(trackId);\n       \n        if(!track.mute){\n            track.toggleMute(true);\n            this.setTrackMuteButton(track.id, true)\n        }\n        else{\n            track.toggleMute(false);\n            this.setTrackMuteButton(track.id, false)\n        }\n    }\n\n    setTrackMuteButton = (trackId, mute) => {\n        let eleBtn = document.getElementById('table_row_' + trackId + '_btn_mute');\n        \n        if(mute){\n            if(!eleBtn.classList.contains('bgColorOn'))\n                eleBtn.classList.add('bgColorOn');\n        }\n        else{\n            if(eleBtn.classList.contains('bgColorOn'))\n                eleBtn.classList.remove('bgColorOn');\n        }\n    }\n\n    editTrack = (trackId) => {\n        store.ui.selectTrack(trackId);\n        store.ui.toggleViewMode('edit');\n    }\n\n    render() {\n        let selTrackId = this.props.selectedTrack ? this.props.selectedTrack.id : undefined;\n\n        return(\n            <div id='divManager'>\n                <MixRowViewManagerTrack store={this.props.store} selectedTrack={this.props.selectedTrack}/>\n                <div id='divManagerTable' style={{height:(this.props.windowHeight - 160) + 'px', overflowY:'scroll'}}>\n                    <table id='tableManager'>\n                        <thead>\n                        <tr>\n                            { ['edit', 'track', 'type', 'grp', 'notes', 'mute'].map(r => <th key={'table_track_col_' + r}>{r}</th>) }\n                        </tr>\n                        </thead>\n                        <tbody>\n                            {['A','B','C','D'].map(g => \n                                store.getTracksByGroup(g).map(t => \n                                    <tr key={'table_row_' + t.id} onClick={this.rowClick} style={{backgroundColor: selTrackId === t.id ? 'blue' : 'transparent'}}>\n                                        <td><button id={'table_row_' + t.id + '_btn_edit'} \n                                            className='managerTableColButton' onClick={() => this.editTrack(t.id)}>Edt</button></td>\n                                        <td>{t.id}</td>\n                                        <td>{t.type.substr(0,5)}</td>\n                                        <td>{t.group}</td>\n                                        <td>{store.getNotesByTrack(t.id).length}</td>\n                                        <td><button id={'table_row_' + t.id + '_btn_mute'} \n                                            className='managerTableColButton' onClick={() => this.muteTrack(t.id)}>M</button>\n                                        </td>\n                                    </tr>\n                                )\n                            )}\n                        </tbody>\n                    </table>\n                    <br/><br/><br/>\n                </div>\n            </div>\n        )\n    }\n});\n\nexport const ManagerViewScene = observer(class ManagerViewScene extends Component {\n    componentDidMount(){\n        store.getScenesAsc.forEach(scene => {\n            ['A','B','C','D'].forEach(group => {\n                this.setGroupMuteButton(scene.id, group, scene.isGroupMuted(group));\n            })\n        })\n    }\n    componentDidUpdate(prevProps){}\n    componentWillUnmount(){}\n\n    rowClick = (e) => {\n        if(e.target.parentNode && e.target.parentNode.cells){\n            let txtScene = e.target.parentNode.cells[0].innerHTML;\n\n            if(txtScene){\n                let scene = store.getScene(txtScene);\n\n                if(scene){\n                    store.ui.selectScene(scene.id);\n                }\n            }\n        }\n    }\n\n    muteSceneGroup = (sceneId, group) => {\n        let scene = store.getScene(sceneId);\n       \n        if(!scene.isGroupMuted(group)){\n            scene.setGroupMute(group, true);\n            this.setGroupMuteButton(scene.id, group, true)\n        }\n        else{\n            scene.setGroupMute(group, false);\n            this.setGroupMuteButton(scene.id, group, false)\n        }\n    }\n\n    setGroupMuteButton = (sceneId, group, mute) => {\n        let eleBtn = document.getElementById('table_row_' + sceneId + '_btn_' + group);\n        \n        if(mute){\n            if(!eleBtn.classList.contains('bgColorOn'))\n                eleBtn.classList.add('bgColorOn');\n        }\n        else{\n            if(eleBtn.classList.contains('bgColorOn'))\n                eleBtn.classList.remove('bgColorOn');\n        }\n    }\n  \n    render() {\n        return(\n            <div id='divManager'>\n                <MixRowViewManagerScene store={this.props.store} selectedScene={this.props.selectedScene} copySceneMode={store.ui.views.manager.copySceneMode}/>\n                <div id='divManagerTable' style={{height:(this.props.windowHeight - 160) + 'px', overflowY:'scroll'}}>\n                    <table id='tableManager'>\n                        <thead>\n                        <tr>\n                            { ['scene','Len','A', 'B', 'C', 'D'].map(r => <th key={'table_scene_col_' + r}>{r}</th>) }\n                        </tr>\n                        </thead>\n                        <tbody>\n                        { store.getScenesAsc.map(s => \n                            <tr key={'table_row_' + s.id} onClick={this.rowClick} style={{backgroundColor: this.props.selectedScene.id === s.id ? 'blue' : 'transparent'}}>\n                                <td>{s.id}</td>\n                                <td>{Tone.Time(store.getSceneLength(s.id)).toBarsBeatsSixteenths().split(':')[0]}</td>\n                                {['A','B','C','D'].map(g => \n                                    <td key={'table_row_' + s.id + '_btn_' + g}><button id={'table_row_' + s.id + '_btn_' + g} \n                                        className='managerTableColButton' onClick={() => this.muteSceneGroup(s.id, g)}>M</button></td>\n                                )}\n                            </tr>)\n                        }\n                        </tbody>\n                    </table>\n                    <br/><br/><br/>\n                </div>\n            </div>\n        )\n    }\n});","import { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport * as Tone from \"tone\";\nimport { store } from \"../data/store.js\";\nimport { ToneObjs } from \"../models/models.js\";\n\nexport const Draw = observer(class Draw extends Component {\n    reqVal;\n\n    playhead;\n    hdrPlayhead;\n    pos;\n    hdrPos;\n\n    objMeterCanvas = [];\n    objButtonCanvas = [];\n    objEditCanvas = [];\n  \n    componentDidMount(){\n      this.reqVal = requestAnimationFrame(this.draw);\n\n      this.initPlayhead();\n    }\n  \n    componentWillUnmount(){\n     cancelAnimationFrame(this.reqVal);\n    }\n  \n    componentDidUpdate(prevProps){\n      this.initPlayhead();\n\n      if((!prevProps.mixMode && this.props.mixMode) || prevProps.viewMode !== this.props.viewMode \n        || prevProps.selectedTrack !== this.props.selectedTrack || prevProps.numTracks !== this.props.numTracks\n        // edit view bar mode (no selected notes)\n        || (!this.props.editMode && prevProps.editMode && this.props.editViewMode === 'bar')\n        // edit view graph mode\n        || (this.props.viewMode === \"edit\" && (this.props.editViewMode === \"graph\" && prevProps.editViewMode !== \"graph\"))){\n        this.initMeters();\n      }\n      \n      if(this.props.viewMode === 'edit' && this.props.editViewMode === 'graph'){\n        if(prevProps.objs.length !== this.props.objs.length || prevProps.viewMode !== 'edit' || prevProps.editViewMode === 'bar' \n          || prevProps.selectedTrack !== this.props.selectedTrack){\n          this.initEditObjs();\n        }\n      }\n\n      if((this.props.viewMode === 'button' && prevProps.viewMode !== 'button')\n        || (this.props.numTracks !== prevProps.numTracks && this.props.viewMode === 'button')){\n        this.initAddButtonObjs();\n      }\n\n      //cleanup if not being used\n      if((prevProps.viewMode === 'edit' && prevProps.editViewMode === 'graph') \n        && (this.props.viewMode !== 'edit' || this.props.editViewMode !== 'graph')){\n        this.resetObjArray(this.objEditCanvas);\n      }\n\n      if(prevProps.viewMode === 'button' && this.props.viewMode !== 'button'){\n        this.resetObjArray(this.objButtonCanvas);\n      }\n    }\n  \n    initPlayhead = () => {\n      this.playhead = document.getElementById(\"playhead\");\n\n      if(this.playhead){\n        if(this.props.viewMode === \"sequencer\" && this.props.store.ui.selectedGroup === \"M\"){\n          this.playhead.style.display = \"none\";\n        }\n        else if(this.props.viewMode === \"sequencer\" && this.props.store.ui.mixMode){\n          this.playhead.style.display = \"none\";\n        }\n        else{\n          this.playhead.style.display = \"block\";\n        }\n      }\n  \n      this.hdrPlayhead = document.getElementById(\"hdrPlayhead\");\n    }\n\n    resetObjArray = (objs) => {\n      if(objs){\n        objs.forEach(row => {\n          if(row.waveform){\n            row.waveform.dispose();\n            row.waveform = null;\n          }\n        })\n\n        objs = [];\n      }\n    }\n    \n    initEditObjs = () => {\n      this.resetObjArray(this.objEditCanvas);\n      \n      ToneObjs.instruments.filter(o => o.track === this.props.selectedTrack.id)\n        .forEach(obj => {\n          if(obj.id.split('_')[0] !== 'mix')\n            this.addObjEditCanvas(obj);\n      }) \n      ToneObjs.components.filter(o => o.track === this.props.selectedTrack.id)\n        .forEach(obj => {\n          if(obj.id.split('_')[0] !== 'mix')\n            this.addObjEditCanvas(obj);\n      })\n      ToneObjs.effects.filter(o => o.track === this.props.selectedTrack.id)\n        .forEach(obj => {\n          if(obj.id.split('_')[0] !== 'mix')\n            this.addObjEditCanvas(obj);\n      })\n      ToneObjs.sources.filter(o => o.track === this.props.selectedTrack.id)\n        .forEach(obj => {\n          if(obj.id.split('_')[0] !== 'mix')\n            this.addObjEditCanvas(obj);\n      })\n    }\n    \n    addObjEditCanvas = (obj) => {\n      let ele = document.getElementById('canvas_' + obj.id);\n      let ctx = ele.getContext('2d');\n      ctx.canvas.width = ele.width;\n      ctx.canvas.height = ele.height;\n  \n      let waveformGradient = ctx.createLinearGradient(0, 0, ctx.canvas.width, ctx.canvas.height);\n      waveformGradient.addColorStop(0, \"#ddd\");\n      waveformGradient.addColorStop(1, \"#000\");\n      \n      //be sure to disconnect/dispose later\n      let waveform = new Tone.Waveform(1024);\n      obj.obj.connect(waveform);\n  \n      this.objEditCanvas.push({id: obj.id, obj: obj.obj, waveform: waveform, gradient: waveformGradient, ctx: ctx, width: ctx.canvas.width, height: ctx.canvas.height})\n    }\n\n    initAddButtonObjs = () => {\n      this.resetObjArray(this.objButtonCanvas);\n\n      store.getTracksByGroup(store.ui.selectedGroup).filter(t => t.type === 'instrument').forEach(track => {\n        let rowPanVol = ToneObjs.components.find(c => c.id === track.getPanVol.id);\n\n        if(rowPanVol){\n          let ele = document.getElementById('canvasGridButton_' + track.id);\n          let ctx = ele.getContext('2d');\n          ctx.canvas.width = ele.width;\n          ctx.canvas.height = ele.height;\n      \n          let waveformGradient = ctx.createLinearGradient(0, 0, ctx.canvas.width, ctx.canvas.height);\n          waveformGradient.addColorStop(0, \"#ddd\");\n          waveformGradient.addColorStop(1, \"#ddd\");\n\n          //be sure to disconnect/dispose later\n          let waveform = new Tone.Waveform(1024);\n          rowPanVol.obj.connect(waveform);\n      \n          this.objButtonCanvas.push({id: rowPanVol.id, obj: rowPanVol.obj, waveform: waveform, gradient: waveformGradient, ctx: ctx, width: ctx.canvas.width, height: ctx.canvas.height})\n        }\n      })\n    }\n  \n    initMeters = () => {\n      this.objMeterCanvas = [];\n  \n      this.props.tracks.forEach(track => {\n        if(this.props.selectedTrack === track || this.props.store.ui.viewMode === \"sequencer\"){\n          let cL = document.getElementById('canvas-L-' + track.id);\n          let cR = document.getElementById('canvas-R-' + track.id);\n          \n          if(cL && cR){\n            let meterL = ToneObjs.components.find(c => c.id === (\"mix_meter_L_\" + track.id));\n            let meterR = ToneObjs.components.find(c => c.id === (\"mix_meter_R_\" + track.id));\n            \n            if(meterL && meterR){\n              if(meterL.obj && meterR.obj){\n                let ctxL = cL.getContext('2d');\n                let ctxR = cR.getContext('2d');\n    \n                //left and right dimensions should be the same\n                let width = cL.width;\n                let height = cL.height;\n    \n                let gradientL = ctxL.createLinearGradient(0, 0, width, 0);\n                gradientL.addColorStop(0, \"#BFFF02\");\n                gradientL.addColorStop(0.8, \"#02FF24\");\n                gradientL.addColorStop(1, \"#FF0202\");\n            \n                let gradientR = ctxR.createLinearGradient(0, 0, width, 0);\n                gradientR.addColorStop(0, \"#BFFF02\");\n                gradientR.addColorStop(0.8, \"#02FF24\");\n                gradientR.addColorStop(1, \"#FF0202\");\n\n                this.objMeterCanvas.push({track: track.id, type: track.type, meterL: meterL, meterR: meterR, ctxL: ctxL, ctxR: ctxR, width: width, height: height, gradientL: gradientL, gradientR: gradientR})\n              }\n            }\n          }\n        }\n      })\n    }\n  \n    draw = () => {\n      this.drawPlayhead();\n\n      if((this.props.mixMode || store.ui.viewMode === 'edit' || store.ui.viewMode === 'button') && this.objMeterCanvas){\n        this.drawTrackMixMeters();\n      }\n      \n      if(store.ui.viewMode === \"edit\" && this.props.editViewMode === 'graph'){\n        this.drawEditViewObjs();\n      }\n      \n      if(store.ui.viewMode === 'button'){\n        this.drawButtonViewObjs();\n      }\n  \n      requestAnimationFrame(this.draw);\n    }\n\n    drawButtonViewObjs = () => {\n      if(!this.objButtonCanvas){\n        this.initAddButtonObjs();\n      }\n  \n      this.objButtonCanvas.forEach(obj => {\n        if(obj.waveform){\n          let values = obj.waveform.getValue();\n          obj.ctx.clearRect(0, 0,  obj.width,  obj.height);\n          obj.ctx.beginPath();\n          obj.ctx.lineJoin = \"round\";\n          obj.ctx.lineWidth = 6;\n          obj.ctx.strokeStyle = obj.gradient;\n          obj.ctx.moveTo(0, (values[0] / 255) *  obj.height);\n          \n          for (let i = 1, len = values.length; i < len; i++){\n            let val = (values[i] + 1) / 2;\n            let x =  obj.width * (i / len);\n            let y = val *  obj.height;\n            obj.ctx.lineTo(x, y);\n          }\n    \n          obj.ctx.stroke();\n        }\n      })\n    }\n  \n    drawEditViewObjs = () => {\n      if(!this.objEditCanvas){\n        this.initEditObjs();\n      }\n  \n      this.objEditCanvas.forEach(obj => {\n        if(obj.waveform){\n          let values = obj.waveform.getValue();\n          obj.ctx.clearRect(0, 0,  obj.width,  obj.height);\n          obj.ctx.beginPath();\n          obj.ctx.lineJoin = \"round\";\n          obj.ctx.lineWidth = 6;\n          obj.ctx.strokeStyle = obj.gradient;\n          obj.ctx.moveTo(0, (values[0] / 255) *  obj.height);\n          \n          for (let i = 1, len = values.length; i < len; i++){\n            let val = (values[i] + 1) / 2;\n            let x =  obj.width * (i / len);\n            let y = val *  obj.height;\n            obj.ctx.lineTo(x, y);\n          }\n    \n          obj.ctx.stroke();\n        }\n      })\n    }\n  \n    drawTrackMixMeters = () => {\n      this.objMeterCanvas.forEach(objMeter => {\n        if(objMeter.meterL.obj && objMeter.meterR.obj){\n          if(objMeter.meterL.obj._analyser && objMeter.meterR.obj._analyser){\n            let levelL = objMeter.meterL.obj.getValue();\n            let levelR = objMeter.meterR.obj.getValue();\n            levelL = Tone.dbToGain(levelL); //scale it between 0 - 1\n            levelR = Tone.dbToGain(levelR); //scale it between 0 - 1\n        \n            objMeter.ctxL.clearRect(0, 0, objMeter.width, objMeter.height);\n            objMeter.ctxL.fillStyle = objMeter.gradientL;\n            objMeter.ctxL.fillRect(0, 0, objMeter.width, objMeter.height);\n            objMeter.ctxL.fillStyle = \"#0c0b1b\";\n            objMeter.ctxL.fillRect(objMeter.width * levelL, 0, objMeter.width, objMeter.height);\n        \n            objMeter.ctxR.clearRect(0, 0, objMeter.width, objMeter.height);\n            objMeter.ctxR.fillStyle = objMeter.gradientR;\n            objMeter.ctxR.fillRect(0, 0, objMeter.width, objMeter.height);\n            objMeter.ctxR.fillStyle = \"#0c0b1b\";\n            objMeter.ctxR.fillRect(objMeter.width * levelR, 0, objMeter.width, objMeter.height);\n          }\n          else{\n            this.initMeters();\n          }\n        }\n      })\n    }\n  \n    drawPlayhead = () => {\n      //individual track progress lines when editview bar mode\n      if(this.props.viewMode === 'edit' && this.props.editViewMode === 'bar'){\n        if(Tone.Transport.state === 'started'){\n          let scenePos = (Tone.Time(Tone.Transport.position) - Tone.Time(store.ui.selectedScene.start));\n          let currBar = parseInt(Tone.Time(scenePos).toBarsBeatsSixteenths().split(':')[0], 10) + 1;\n\n          if(!this.playhead){\n            this.playhead = document.getElementById('playhead_' + this.props.selectedTrack.id + '_' + currBar)\n          }\n          if(this.playhead){\n            if(parseInt(this.playhead.id.split('_')[2], 10) !== currBar){\n              this.playhead.style.display = 'none';\n              this.playhead = document.getElementById('playhead_' + this.props.selectedTrack.id + '_' + currBar)\n              if(this.playhead)\n                this.playhead.style.display = 'block';\n            }\n\n            if(this.playhead){\n              this.pos = (scenePos - Tone.Time((currBar-1) + ':0:0')) / Tone.Time(store.ui.viewLength) * store.ui.windowWidth;\n              this.playhead.style.tansform = this.playhead.style.webkitTransform  = 'translateX(' + this.pos + 'px)';\n            }\n          }\n        }\n        else if(this.playhead){\n          if(this.playhead.display !== 'none'){\n            this.playhead.style.display = 'none';\n            this.playhead.style.transform = 'translateX(0px)';\n            this.playhead = undefined;\n          }\n        }\n      }\n      //all other views\n      else if((this.props.viewMode === \"sequencer\" && !this.props.store.ui.mixMode) || this.props.viewMode === \"button\" || this.props.viewMode === \"edit\") {\n        if(this.playhead){\n          if(Tone.Transport.state === 'started'){\n            if(store.ui.selectedScene){\n              let scenePos = (Tone.Time(Tone.Transport.position) - Tone.Time(store.ui.selectedScene.start));\n              this.pos = scenePos / Tone.Time(store.ui.viewLength) * store.ui.windowWidth;\n              this.playhead.style.tansform = this.playhead.style.webkitTransform  = 'translateX(' + this.pos + 'px)';\n            }\n          }\n          else{\n            this.playhead.style.transform = 'translateX(0px)';\n          }\n        }\n      }\n  \n      if(this.hdrPlayhead){\n        if(Tone.Transport.state === 'started'){\n          this.hdrPos = Tone.Time(Tone.Transport.position) / store.getSongLength() * this.props.store.ui.windowWidth;\n          this.hdrPlayhead.style.tansform = this.hdrPlayhead.style.webkitTransform  = 'translateX(' + this.hdrPos + 'px)';\n        }\n        else{\n          this.hdrPlayhead.style.transform = 'translateX(0px)';\n        }\n      }\n    }\n  \n    render(){\n      return null;\n    }\n  })","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport { store } from \"../../data/store.js\";\nimport interact from 'interactjs';\n\n\nexport const DropZone = observer(class DropZone extends Component {\n    componentDidMount(){\n      //document.getElementById('divDropZone').addEventListener('animationend', this.endAnimation);\n\n      interact('#divDropZone').dropzone({\n        accept: '.itemSelected',\n        //overlap: 0.75,\n        ondropactivate: e => {\n          if(document.querySelector('.itemSelected').classList.contains('itemDragging')){\n            e.target.style.display = 'block';\n          }\n        },\n        ondragenter: e => {\n          if(e.relatedTarget.classList.contains('itemDragging')){\n            e.target.classList.add('drop-active')\n          }\n        },\n        ondragleave: e => {\n          e.target.classList.remove('drop-active')\n        },\n        ondrop: e => {\n          let browserId = e.relatedTarget.id.split('_')[1]\n          document.getElementById('btnBrowseLoad_' + browserId).click();\n        },\n        ondropdeactivate: e => {\n          //e.target.style.animation = 'dropZoneFadeOut 0.25s linear';  BUGGY\n          this.endAnimation(e);\n        }\n      });\n    }\n\n    componentWillUnmount(){\n      interact('#divDropZone').unset();\n    }\n\n    endAnimation = (e) => {\n      e.target.style.animation = 'none';\n      e.target.style.display = 'none';\n      e.target.classList.remove('drop-active');\n    }\n  \n    render() {\n      return (\n        <div id=\"divDropZone\" style={{width: store.ui.windowWidth + 'px'}}></div>\n      )\n    }\n  })\n  \n","import React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport { store } from \"../../../data/store.js\";\nimport { randomId } from \"../../../models/models.js\";\n\nexport const LoadSaveModal = observer(class LoadSaveModal extends Component {\n    selectedSongTitle = '';\n    selectedSongId = '';\n    bConfirm = false;\n  \n    componentDidMount(){\n      this.toggleIconOpacity(false);\n      document.getElementById('modalClose').onclick = () => { \n        this.bConfirm = false; \n        this.resetSelectedSong();\n        this.toggleWindow() \n      };\n    }\n\n    rowClick = (e) => {\n      this.selectedSongId = e.target.parentNode.id;\n\n      let rows = e.target.parentNode.parentNode.children;\n      for(let i=0; i < rows.length; i++){\n        if(rows[i].id === this.selectedSongId){\n          rows[i].style.backgroundColor = 'rgb(19, 62, 131)';\n          this.selectedSongTitle = rows[i].children[0].textContent;\n          this.toggleIconOpacity(true);\n          this.enableBtnLoad();\n        }\n        else{\n          rows[i].style.backgroundColor = 'transparent';\n        }\n      }\n    }\n\n    formatDate = (date) => {\n      let monthNames = [ \"Jan\", \"Feb\", \"Mar\",\"Apr\", \"May\", \"Jun\", \"Jul\",\"Aug\", \"Sep\", \"Oct\",\"Nov\", \"Dec\"];\n    \n      let monthIndex = date.getMonth();\n      let day = date.getDate();\n      let year = date.getFullYear().toString().substr(2,2);\n    \n      return day + ' ' + monthNames[monthIndex] + ' ' + year;\n    }\n\n    toggleIconOpacity = (on) => {\n      const icon = document.getElementById('iconDeleteSong');\n      if(icon){\n        on ? icon.style.opacity = 1 : icon.style.opacity = 0.4;\n      }\n    }\n  \n    componentDidUpdate(prevProps){\n      this.toggleIconOpacity(false);\n\n      if(this.props.action && !this.bConfirm){        \n        document.getElementById(\"inputSong\").value = store.settings.title;\n    \n        store.DBGetAllSongs().then(list => {\n          let table = document.getElementById('tableSongs');\n\n          while(table.hasChildNodes()){\n            table.removeChild(table.firstChild);\n          }\n\n          if(list.length > 0){\n            list.sort((a,b) => {return b.modified - a.modified}).forEach(song => {\n              let row = table.insertRow(0);\n              row.id = song.id;\n              row.onclick = this.rowClick;\n\n              let cell1 = row.insertCell(0);\n              cell1.style.width = '80%';\n              cell1.innerHTML = song.title;\n\n              let cell2 = row.insertCell(1);\n              cell2.innerHTML = this.formatDate(new Date(song.modified));\n            })\n          }\n        });\n    \n        this.toggleWindow();\n      }\n    }\n\n    toggleWindow = () => {\n      let modal = document.getElementById('myModal');\n      \n      if(!modal.style.display || modal.style.display === \"none\"){\n        modal.style.display = \"block\";\n        //footer zindex is wonky with modal zindex \n        document.getElementById('divToolRowNav').style.zIndex = 1\n        document.getElementById('divFooter').style.zIndex = 1;\n      }\n      else{\n        modal.style.display = \"none\";\n        document.getElementById('divToolRowNav').style.zIndex = 2;\n        document.getElementById('divFooter').style.zIndex = 3;\n      }\n    }\n\n    enableBtnLoad = () => {\n      const btnLoad = document.getElementById('modalBtnLoad');\n      if(btnLoad){\n        btnLoad.disabled = false;\n        btnLoad.onclick = () => this.btnClickLoad();\n      }\n    }\n  \n    btnClickLoad = (e) => {\n      if(this.selectedSongId){\n        store.ui.toolbar.browser.setAction(undefined);\n        sessionStorage.setItem(\"load_songId\", this.selectedSongId);\n        window.location.reload();\n      }\n    }\n    \n    btnClickSave = (e) => {\n      store.setSongId(\"song_\" + randomId())\n      store.settings.setSongTitle(document.getElementById('inputSong').value)\n      store.settings.setModified(Date.now());\n      store.DBSaveStore(true);\n      this.forceUpdate();\n    }\n\n    btnClickDelete = (e) => {\n      if(this.selectedSongId){\n        this.bConfirm = true;\n        this.forceUpdate();\n      }\n    }\n\n    btnConfirmDelete = (yes) => {\n      if(yes){\n        store.DBDeleteSongById(this.selectedSongId);\n      }\n\n      this.bConfirm = false;\n      this.resetSelectedSong();\n      this.forceUpdate();\n      this.toggleWindow();\n    }\n\n    resetSelectedSong = () => {\n      this.selectedSongId = '';\n      this.selectedSongTitle = '';\n    }\n\n    inputText = (e) => {\n      if(e.target.value){\n        document.getElementById('modalBtnSave').disabled = false;\n      }\n      else{\n        document.getElementById('modalBtnSave').disabled = true;\n      }\n    }\n  \n    componentWillUnmount(){}\n  \n    render(){\n      return (\n        <div id=\"myModal\" className=\"modal\">\n          <div id=\"modalContent\" className=\"modal-content\">\n            <div style={{width:'100%'}}>\n              { \n                this.bConfirm ? null \n                  : \n                  <i id='iconDeleteSong' className=\"material-icons i-28 colorRed\" style={{left:'4px', top: '4px', position:'relative', opacity:0.4}} onClick={this.btnClickDelete}>delete</i>\n              }\n              <span id='modalClose' className='modalClose'>&times;</span>\n              { \n                this.bConfirm ? null \n                  : \n                  <input id=\"inputSong\" type=\"text\" placeholder=\"song name\" onInput={this.inputText}></input> \n              }\n            </div>\n            <br/>\n            { this.bConfirm ? <ConfirmDialog confirm={() => this.btnConfirmDelete(true)} cancel={() => this.btnConfirmDelete(false)} title={this.selectedSongTitle}/>\n              :\n              <div>\n                <div id=\"modalSongList\">\n                  <table id='tableSongs'></table>\n                </div>\n                <LoadSaveButton action={this.props.action} btnClickLoad={this.btnClickLoad} btnClickSave={this.btnClickSave}/>\n              </div>\n            }\n            </div> \n        </div>\n      )\n    }\n  })\n\n  const ConfirmDialog = props => {\n    return (\n      <div style={{top:'10%', position:'relative'}}>\n        <div style={{textAlign:'center', height:'40px'}}>\n          <label>Delete song {props.title}?</label>\n        </div>\n        <button onClick={props.confirm} style={{float:'left', width:'50%', height:'40px'}}>Yes</button>\n        <button onClick={props.cancel} style={{float:'right', width:'50%', height:'40px'}}>No</button>\n      </div>\n    )\n  }\n\n  const LoadSaveButton = props => {\n    return (\n      <div>\n        { props.action && props.action.substr(0,4) === \"Load\" ? \n            <button disabled id=\"modalBtnLoad\" style={{bottom:0, width:'100%', height:'40px', position:'absolute'}}>LOAD</button>\n            :\n              props.action && props.action.split('_')[0] !== 'undefined' ?\n              <button id=\"modalBtnSave\" onClick={props.btnClickSave} style={{bottom:0, width:'100%', height:'40px', position:'absolute'}}>SAVE</button>\n              :\n              <button style={{bottom:0, width:'100%', height:'40px', position:'absolute'}}>Waiting</button>\n        }\n      </div>\n    )\n  }","//Copyright 2018-2019 Timothy Boie\n\nimport React, { Component } from 'react';\nimport { observer } from \"mobx-react\";\nimport * as Tone from \"tone\";\nimport { store } from './data/store.js';\n\nimport { FooterView } from \"./ui/footer/footer.js\";\nimport { ToolRow } from \"./ui/toolrow/toolrow.js\";\nimport { ToolSideBar } from \"./ui/toolrow/sidebar/sidebar.js\";\nimport { HeaderView } from \"./ui/header/header.js\";\nimport { SequencerView } from \"./ui/mode/sequencer.js\";\nimport { GridButtonView } from \"./ui/mode/button.js\";\nimport { EditView } from './ui/mode/edit.js';\nimport { ManagerView } from './ui/mode/manager.js';\nimport { Draw } from './ui/draw.js';\nimport { DropZone } from './ui/mode/dropzone.js';\nimport { LoadSaveModal } from './ui/toolrow/song/loadsave.js';\nimport { ListBrowser } from \"./ui/toolrow/browse/browse.js\";\n\nimport { ToneObjs } from './models/models.js';\nimport { firstPageLoad } from './ui/utils.js'\n\nimport './App.css';\nimport \"nouislider/distribute/nouislider.min.css\";\n\n//*******************************************************************\n\nconst AppView = observer(class AppView extends Component {\n  bFirstLoad = true;\n\n  componentDidMount() {\n    Tone.start();\n    ToneObjs.initMetronome();\n\n    console.log(Tone.context.sampleRate)\n\n    //logo fade\n    let eleLogo = document.getElementById('imgBGLogo');\n    eleLogo.classList.add('logoFade');\n\n    //load song or create master tracks\n    let loadSongId = sessionStorage.getItem(\"load_songId\");\n    if (loadSongId) {\n      store.DBLoadStore(loadSongId);\n      sessionStorage.removeItem(\"load_songId\");\n    }\n    else {\n      if (!this.props.store.tracks.find(t => t.id === \"track_master\")) {\n        store.addMasterTracks();\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps) {}\n\n  render() {\n    if (this.bFirstLoad){\n      this.bFirstLoad = false;\n      firstPageLoad();\n    }\n\n    let viewWindow = null;\n    if (this.props.store.ui.viewMode === \"sequencer\")\n      viewWindow = <SequencerView\n                      store={this.props.store}\n                      mixMode={this.props.store.ui.mixMode}\n                      selectedGroup={this.props.store.ui.selectedGroup}\n                      numTracks={store.getTracksByGroup(this.props.store.ui.selectedGroup).length}\n                      windowHeight={this.props.store.ui.windowHeight}\n                    />\n    else if (this.props.store.ui.viewMode === \"button\")\n      viewWindow = <GridButtonView\n                      store={this.props.store}\n                      selectedTrack={this.props.store.ui.selectedTrack}\n                      editMode={this.props.store.ui.editMode}\n                    />\n    else if (this.props.store.ui.viewMode === \"edit\" && this.props.store.ui.selectedTrack)\n      viewWindow = <EditView\n                      store={this.props.store}\n                      track={this.props.store.ui.selectedTrack}\n                      edit={this.props.store.ui.editMode}\n                      windowHeight={this.props.store.ui.windowHeight} \n                      windowWidth={this.props.store.ui.windowWidth}\n                      editViewMode={this.props.store.ui.views.edit.mode}\n                    />\n    else if (this.props.store.ui.viewMode === \"manager\")\n      viewWindow = <ManagerView\n                      store={this.props.store}\n                      managerMode={this.props.store.ui.views.manager.mode}\n                    />\n\n\n    let sideBar;\n    if(this.props.store.ui.showSideBar)\n      sideBar = <ToolSideBar content={ <ListBrowser id={'browser3'} selectedDir={this.props.store.ui.toolbar.browser.browser3.selectedDir} \n                                            songKey={this.props.store.settings.key} songScale={this.props.store.settings.scale}\n                                            songSwing={this.props.store.settings.swingSubdivision} modified={this.props.store.settings.modified}\n                                            numSamples={this.props.store.numSamples} numRegions={this.props.store.numRegions}\n                                            selectedGroup={this.props.store.ui.selectedGroup}/> }/>\n\n    return (\n      <div id=\"container\" style={{ width: store.ui.windowWidth + 'px' }}>\n        <HeaderView \n          store={this.props.store} \n          songLength={this.props.store.getSongLength()} \n          windowWidth={this.props.store.ui.windowWidth} \n          />\n        { viewWindow }\n        { sideBar }\n        <ToolRow \n          store={this.props.store} \n          mode={this.props.store.ui.viewMode} \n          selectedToolbar={this.props.store.ui.selectedToolbar}\n          windowHeight={this.props.store.ui.windowHeight}\n          />\n        <FooterView \n          store={this.props.store} \n          viewMode={this.props.store.ui.viewMode} \n          bpm={this.props.store.settings.bpm} \n          settings={this.props.store.ui.settings}\n          />\n        <Draw \n          store={this.props.store} \n          mixMode={this.props.store.ui.mixMode} \n          tracks={this.props.store.tracks} \n          numTracks={this.props.store.getTracksByGroup(this.props.store.ui.selectedGroup).length} \n          viewMode={this.props.store.ui.viewMode} \n          selectedTrack={this.props.store.ui.selectedTrack} \n          objs={this.props.store.getObjsByTrackObj(this.props.store.ui.selectedTrack)}\n          editViewMode={this.props.store.ui.views.edit.mode}\n          editMode={this.props.store.ui.editMode}\n          />\n        <DropZone \n          store={this.props.store} \n          />\n        <LoadSaveModal \n          action={this.props.store.ui.toolbar.browser.action}\n        />\n\n        <img src=\"logobg.png\" id=\"imgBGLogo\" alt=\"propa.app\" draggable=\"false\"/>\n      </div>\n    )\n  }\n})\n\nexport default class App extends Component {\n  render() {\n    return <AppView store={store} />\n  }\n}\n\n\n/*\nonSnapshot(store, (snapshot) => {\n  console.dir(snapshot);\n});\n\nonAction(store, act => {\n  console.dir(act);\n  //getSnapshot(store)\n});\n\nonPatch(store, p => {\n  console.dir(p);\n  //getSnapshot(store)\n});\n*/\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App/>, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}