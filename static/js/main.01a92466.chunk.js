(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{64:function(e){e.exports={"/":{folders:["Instruments","Components","Effects","Sources","Samples","Library","Song"],files:[]},"/Instruments":{folders:[],files:["AMSynth","DuoSynth","FMSynth","MembraneSynth","MetalSynth","MonoSynth","NoiseSynth","PluckSynth","Synth","TinySynth"]},"/Components":{folders:[],files:["AmplitudeEnvelope","Compressor","MultibandCompressor","MidSideCompressor","EQ3","FeedbackCombFilter","LowpassCombFilter","LFO","Filter","MultibandSplit","Gate","Limiter","Mono","Volume","Panner"]},"/Effects":{folders:[],files:["AutoFilter","AutoPanner","AutoWah","BitCrusher","Chebyshev","Chorus","Distortion","FeedbackDelay","PingPongDelay","Reverb","Freeverb","JCReverb","Phaser","PitchShift","StereoWidener","Tremolo","Vibrato"]},"/Sources":{folders:[],files:["Oscillator","AMOscillator","FMOscillator","FatOscillator","PWMOscillator","PulseOscillator","Noise"]},"/Samples":{folders:[],files:["...Import","...Record"]},"/Library":{folders:["Breaks","Kit1","Kit2"],files:[]},"/Library/Breaks":{folders:[],files:["bass-clarinet_B4_05_pianissimo_normal.mp3","bass-clarinet_B4_05_piano_normal.mp3","bass-clarinet_B4_15_forte_normal.mp3","bass-clarinet_B4_15_fortissimo_normal.mp3","bass-clarinet_B4_15_mezzo-forte_normal.mp3","bass-clarinet_B4_15_pianissimo_normal.mp3","bass-clarinet_B4_15_piano_normal.mp3","bass-clarinet_B4_1_forte_normal.mp3","bass-clarinet_B4_1_fortissimo_normal.mp3","bass-clarinet_B4_1_mezzo-forte_normal.mp3","bass-clarinet_B4_1_pianissimo_normal.mp3","bass-clarinet_B4_1_piano_normal.mp3","bass-clarinet_B4_phrase_mezzo-forte_staccatissimo.mp3","bass-clarinet_B4_very-long_mezzo-piano_harmonic.mp3","bass-clarinet_C2_phrase_piano_normal.mp3","bass-clarinet_C3_025_forte_normal.mp3","bass-clarinet_C3_025_mezzo-forte_normal.mp3","bass-clarinet_C3_025_mezzo-forte_staccato.mp3","bass-clarinet_C3_025_pianissimo_normal.mp3","bass-clarinet_C3_025_piano_normal.mp3","bass-clarinet_C3_05_forte_normal.mp3","bass-clarinet_C3_05_mezzo-forte_normal.mp3","bass-clarinet_C3_05_pianissimo_normal.mp3","bass-clarinet_C3_05_piano_normal.mp3","bass-clarinet_C3_15_forte_normal.mp3","bass-clarinet_C3_15_mezzo-forte_normal.mp3","bass-clarinet_C3_15_pianissimo_normal.mp3","bass-clarinet_C3_15_piano_normal.mp3","bass-clarinet_C3_1_forte_normal.mp3","bass-clarinet_C3_1_mezzo-forte_normal.mp3","bass-clarinet_C3_1_pianissimo_normal.mp3","bass-clarinet_C3_1_piano_normal.mp3","bass-clarinet_C3_phrase_forte_tremolo.mp3","bass-clarinet_C3_phrase_mezzo-forte_staccato.mp3","bass-clarinet_C4_025_forte_normal.mp3","bass-clarinet_C4_025_fortissimo_normal.mp3","bass-clarinet_C4_025_mezzo-forte_normal.mp3","bass-clarinet_C4_025_pianissimo_normal.mp3","bass-clarinet_C4_025_piano_normal.mp3","bass-clarinet_C4_05_forte_normal.mp3","bass-clarinet_C4_05_fortissimo_normal.mp3","bass-clarinet_C4_05_mezzo-forte_normal.mp3","bass-clarinet_C4_05_pianissimo_normal.mp3","bass-clarinet_C4_05_piano_normal.mp3","bass-clarinet_C4_15_forte_normal.mp3","bass-clarinet_C4_15_fortissimo_normal.mp3","bass-clarinet_C4_15_mezzo-forte_normal.mp3","bass-clarinet_C4_15_pianissimo_normal.mp3","bass-clarinet_C4_15_piano_normal.mp3","bass-clarinet_C4_1_forte_normal.mp3","bass-clarinet_C4_1_fortissimo_normal.mp3","bass-clarinet_C4_1_mezzo-forte_normal.mp3","bass-clarinet_C4_1_pianissimo_normal.mp3","bass-clarinet_C4_1_piano_normal.mp3","bass-clarinet_C5_025_forte_normal.mp3","bass-clarinet_C5_025_fortissimo_normal.mp3","bass-clarinet_C5_025_mezzo-forte_normal.mp3","bass-clarinet_C5_025_pianissimo_normal.mp3","bass-clarinet_C5_025_piano_normal.mp3","bass-clarinet_C5_05_forte_normal.mp3","bass-clarinet_C5_05_fortissimo_normal.mp3","bass-clarinet_C5_05_mezzo-forte_normal.mp3","bass-clarinet_C5_05_pianissimo_normal.mp3","bass-clarinet_C5_05_piano_normal.mp3","bass-clarinet_C5_15_forte_normal.mp3","bass-clarinet_C5_15_fortissimo_normal.mp3","bass-clarinet_C5_15_mezzo-forte_normal.mp3","bass-clarinet_C5_15_pianissimo_normal.mp3","bass-clarinet_C5_15_piano_normal.mp3","bass-clarinet_C5_1_forte_normal.mp3","bass-clarinet_C5_1_fortissimo_normal.mp3","bass-clarinet_C5_1_mezzo-forte_normal.mp3","bass-clarinet_C5_1_pianissimo_normal.mp3","bass-clarinet_C5_1_piano_normal.mp3","bass-clarinet_C6_very-long_forte_normal.mp3","bass-clarinet_C6_very-long_piano_normal.mp3","bass-clarinet_Cs2_025_fortissimo_normal.mp3","bass-clarinet_Cs2_025_mezzo-forte_staccato.mp3","bass-clarinet_Cs2_05_forte_normal.mp3","bass-clarinet_Cs2_05_fortissimo_normal.mp3","bass-clarinet_Cs2_15_forte_normal.mp3","bass-clarinet_Cs2_15_fortissimo_normal.mp3","bass-clarinet_Cs2_phrase_mezzo-forte_legato.mp3","bass-clarinet_Cs2_phrase_mezzo-forte_.mp3","bass-clarinet_Cs2_phrase_mezzo-forte_tongued-slur.mp3","bass-clarinet_Cs3_025_forte_normal.mp3","bass-clarinet_Cs3_025_fortissimo_normal.mp3","bass-clarinet_Cs3_025_mezzo-forte_normal.mp3","bass-clarinet_Cs3_025_mezzo-forte_staccato.mp3","bass-clarinet_Cs3_025_pianissimo_normal.mp3","bass-clarinet_Cs3_025_piano_normal.mp3","bass-clarinet_Cs3_05_forte_normal.mp3","bass-clarinet_Cs3_05_fortissimo_normal.mp3","bass-clarinet_Cs3_05_mezzo-forte_normal.mp3","bass-clarinet_Cs3_05_pianissimo_normal.mp3","bass-clarinet_Cs3_05_piano_normal.mp3","bass-clarinet_Cs3_15_forte_normal.mp3","bass-clarinet_Cs3_15_fortissimo_normal.mp3","bass-clarinet_Cs3_15_mezzo-forte_normal.mp3","bass-clarinet_Cs3_15_pianissimo_normal.mp3","bass-clarinet_Cs3_15_piano_normal.mp3","bass-clarinet_Cs3_1_forte_normal.mp3","bass-clarinet_Cs3_1_fortissimo_ normal.mp3","bass-clarinet_Cs3_1_mezzo-forte_normal.mp3","bass-clarinet_Cs3_1_pianissimo_normal.mp3","bass-clarinet_Cs3_1_piano_normal.mp3","bass-clarinet_Cs3_phrase_forte_major-trill.mp3","bass-clarinet_Cs3_phrase_mezzo-forte_staccatissimo.mp3","bass-clarinet_Cs4_025_forte_normal.mp3","bass-clarinet_Cs4_025_fortissimo_normal.mp3","bass-clarinet_Cs4_025_mezzo-forte_normal.mp3","bass-clarinet_Cs4_025_pianissimo_normal.mp3","bass-clarinet_Cs4_025_piano_normal.mp3","bass-clarinet_Cs4_05_forte_normal.mp3","bass-clarinet_Cs4_05_fortissimo_normal.mp3","bass-clarinet_Cs4_05_mezzo-forte_normal.mp3","bass-clarinet_Cs4_05_pianissimo_normal.mp3","bass-clarinet_Cs4_05_piano_normal.mp3","bass-clarinet_Cs4_15_forte_normal.mp3","bass-clarinet_Cs4_15_fortissimo_normal.mp3","bass-clarinet_Cs4_15_mezzo-forte_normal.mp3","bass-clarinet_Cs4_15_pianissimo_normal.mp3","bass-clarinet_Cs4_15_piano_normal.mp3","bass-clarinet_Cs4_1_forte_normal.mp3","bass-clarinet_Cs4_1_fortissimo_normal.mp3","bass-clarinet_Cs4_1_mezzo-forte_normal.mp3","bass-clarinet_Cs4_1_pianissimo_normal.mp3","bass-clarinet_Cs4_1_piano_normal.mp3","bass-clarinet_Cs4_phrase_forte_major-trill.mp3","bass-clarinet_Cs5_025_forte_normal.mp3","bass-clarinet_Cs5_025_fortissimo_normal.mp3","bass-clarinet_Cs5_025_mezzo-forte_normal.mp3","bass-clarinet_Cs5_025_pianissimo_normal.mp3","bass-clarinet_Cs5_025_piano_normal.mp3","bass-clarinet_Cs5_05_forte_normal.mp3","bass-clarinet_Cs5_05_fortissimo_normal.mp3","bass-clarinet_Cs5_05_mezzo-forte_normal.mp3","bass-clarinet_Cs5_05_pianissimo_normal.mp3","bass-clarinet_Cs5_05_piano_normal.mp3","bass-clarinet_Cs5_15_forte_normal.mp3","bass-clarinet_Cs5_15_fortissimo_normal.mp3","bass-clarinet_Cs5_15_mezzo-forte_normal.mp3","bass-clarinet_Cs5_15_pianissimo_normal.mp3","bass-clarinet_Cs5_15_piano_normal.mp3","bass-clarinet_Cs5_1_forte_normal.mp3","bass-clarinet_Cs5_1_fortissimo_normal.mp3","bass-clarinet_Cs5_1_mezzo-forte_normal.mp3","bass-clarinet_Cs5_1_pianissimo_normal.mp3","bass-clarinet_Cs5_1_piano_normal.mp3","bass-clarinet_D2_025_forte_normal.mp3","bass-clarinet_D2_025_fortissimo_normal.mp3","bass-clarinet_D2_025_pianissimo_normal.mp3","bass-clarinet_D2_025_piano_normal.mp3","bass-clarinet_D2_05_forte_normal.mp3","bass-clarinet_D2_05_fortissimo_normal.mp3","bass-clarinet_D2_05_pianissimo_normal.mp3","bass-clarinet_D2_05_piano_normal.mp3","bass-clarinet_D2_15_forte_normal.mp3","bass-clarinet_D2_15_fortissimo_normal.mp3","bass-clarinet_D2_15_pianissimo_normal.mp3","bass-clarinet_D2_15_piano_normal.mp3","bass-clarinet_D2_1_forte_normal.mp3","bass-clarinet_D2_1_fortissimo_normal.mp3","bass-clarinet_D2_1_pianissimo_normal.mp3","bass-clarinet_D2_1_piano_normal.mp3","bass-clarinet_D2_phrase_cresc-decresc_normal.mp3","bass-clarinet_D2_phrase_forte_subtone.mp3","bass-clarinet_D2_phrase_forte_tremolo.mp3","bass-clarinet_D2_phrase_mezzo-forte_fluttertonguing.mp3","bass-clarinet_D2_phrase_mezzo-forte_staccato.mp3","bass-clarinet_D3_025_forte_normal.mp3","bass-clarinet_D3_025_fortissimo_normal.mp3","bass-clarinet_D3_025_mezzo-forte_normal.mp3","bass-clarinet_D3_025_pianissimo_normal.mp3","bass-clarinet_D3_025_piano_normal.mp3","bass-clarinet_D3_05_forte_normal.mp3","bass-clarinet_D3_05_fortissimo_normal.mp3","bass-clarinet_D3_05_mezzo-forte_normal.mp3","bass-clarinet_D3_05_pianissimo_normal.mp3","bass-clarinet_D3_05_piano_normal.mp3","bass-clarinet_D3_15_forte_normal.mp3","bass-clarinet_D3_15_fortissimo_normal.mp3","bass-clarinet_D3_15_mezzo-forte_normal.mp3","bass-clarinet_D3_15_pianissimo_normal.mp3","bass-clarinet_D3_15_piano_normal.mp3","bass-clarinet_D3_1_forte_normal.mp3","bass-clarinet_D3_1_fortissimo_normal.mp3","bass-clarinet_D3_1_mezzo-forte_normal.mp3","bass-clarinet_D3_1_pianissimo_normal.mp3","bass-clarinet_D3_1_piano_normal.mp3","bass-clarinet_D3_phrase_cresc-decresc_normal.mp3","bass-clarinet_D3_phrase_mezzo-forte_legato.mp3","bass-clarinet_D3_phrase_mezzo-forte_nonlegato.mp3","bass-clarinet_D3_phrase_mezzo-forte_staccatissimo.mp3","bass-clarinet_D3_phrase_mezzo-forte_staccato.mp3","bass-clarinet_D3_phrase_mezzo-forte_tongued-slur.mp3","bass-clarinet_D3_very-long_mezzo-piano_harmonic.mp3","bass-clarinet_D4_025_forte_normal.mp3","bass-clarinet_D4_025_fortissimo_normal.mp3","bass-clarinet_D4_025_mezzo-forte_normal.mp3","bass-clarinet_D4_025_pianissimo_normal.mp3","bass-clarinet_D4_025_piano_normal.mp3","bass-clarinet_D4_05_forte_normal.mp3","bass-clarinet_D4_05_fortissimo_normal.mp3","bass-clarinet_D4_05_mezzo-forte_normal.mp3","bass-clarinet_D4_05_pianissimo_normal.mp3","bass-clarinet_D4_05_piano_normal.mp3","bass-clarinet_D4_15_forte_normal.mp3","bass-clarinet_D4_15_fortissimo_normal.mp3","bass-clarinet_D4_15_mezzo-forte_normal.mp3","bass-clarinet_D4_15_pianissimo_normal.mp3","bass-clarinet_D4_15_piano_normal.mp3","bass-clarinet_D4_1_forte_normal.mp3","bass-clarinet_D4_1_fortissimo_normal.mp3","bass-clarinet_D4_1_mezzo-forte_normal.mp3","bass-clarinet_D4_1_pianissimo_normal.mp3","bass-clarinet_D4_1_piano_normal.mp3","bass-clarinet_D4_phrase_cresc-decresc_normal.mp3","bass-clarinet_D4_very-long_mezzo-piano_harmonic.mp3","bass-clarinet_D5_025_forte_normal.mp3","bass-clarinet_D5_025_fortissimo_normal.mp3","bass-clarinet_D5_025_mezzo-forte_normal.mp3","bass-clarinet_D5_025_pianissimo_normal.mp3","bass-clarinet_D5_025_piano_normal.mp3","bass-clarinet_D5_05_forte_normal.mp3","bass-clarinet_D5_05_fortissimo_normal.mp3","bass-clarinet_D5_05_mezzo-forte_normal.mp3","bass-clarinet_D5_05_pianissimo_normal.mp3","bass-clarinet_D5_05_piano_normal.mp3","bass-clarinet_D5_15_forte_normal.mp3","bass-clarinet_D5_15_fortissimo_normal.mp3","bass-clarinet_D5_15_mezzo-forte_normal.mp3","bass-clarinet_D5_15_pianissimo_normal.mp3","bass-clarinet_D5_15_piano_normal.mp3","bass-clarinet_D5_1_forte_normal.mp3","bass-clarinet_D5_1_fortissimo_normal.mp3","bass-clarinet_D5_1_mezzo-forte_normal.mp3","bass-clarinet_D5_1_pianissimo_normal.mp3","bass-clarinet_D5_1_piano_normal.mp3","bass-clarinet_Ds2_025_forte_normal.mp3","bass-clarinet_Ds2_025_fortissimo_normal.mp3","bass-clarinet_Ds2_025_mezzo-forte_normal.mp3","bass-clarinet_Ds2_025_mezzo-forte_staccato.mp3","bass-clarinet_Ds2_025_pianissimo_normal.mp3","bass-clarinet_Ds2_025_piano_normal.mp3","bass-clarinet_Ds2_05_forte_normal.mp3","bass-clarinet_Ds2_05_fortissimo_normal.mp3","bass-clarinet_Ds2_05_mezzo-forte_normal.mp3","bass-clarinet_Ds2_05_pianissimo_normal.mp3","bass-clarinet_Ds2_05_piano_normal.mp3","bass-clarinet_Ds2_15_forte_normal.mp3","bass-clarinet_Ds2_15_fortissimo_normal.mp3","bass-clarinet_Ds2_15_mezzo-forte_normal.mp3","bass-clarinet_Ds2_15_pianissimo_normal.mp3","bass-clarinet_Ds2_15_piano_normal.mp3","bass-clarinet_Ds2_1_forte_normal.mp3","bass-clarinet_Ds2_1_fortissimo_normal.mp3","bass-clarinet_Ds2_1_mezzo-forte_normal.mp3","bass-clarinet_Ds2_1_pianissimo_normal.mp3","bass-clarinet_Ds2_1_piano_normal.mp3","bass-clarinet_Ds2_phrase_mezzo-forte_staccato.mp3","bass-clarinet_Ds3_025_forte_normal.mp3","bass-clarinet_Ds3_025_fortissimo_normal.mp3","bass-clarinet_Ds3_025_mezzo-forte_normal.mp3","bass-clarinet_Ds3_025_mezzo-forte_staccato.mp3","bass-clarinet_Ds3_025_mezzo-piano_normal.mp3","bass-clarinet_Ds3_025_pianissimo_normal.mp3","bass-clarinet_Ds3_025_piano_normal.mp3","bass-clarinet_Ds3_05_forte_normal.mp3","bass-clarinet_Ds3_05_fortissimo_normal.mp3","bass-clarinet_Ds3_05_mezzo-forte_normal.mp3","bass-clarinet_Ds3_05_mezzo-piano_normal.mp3","bass-clarinet_Ds3_05_pianissimo_normal.mp3","bass-clarinet_Ds3_05_piano_normal.mp3","bass-clarinet_Ds3_15_forte_normal.mp3","bass-clarinet_Ds3_15_fortissimo_normal.mp3","bass-clarinet_Ds3_15_mezzo-forte_normal.mp3","bass-clarinet_Ds3_15_mezzo-piano_normal.mp3","bass-clarinet_Ds3_15_pianissimo_normal.mp3","bass-clarinet_Ds3_15_piano_normal.mp3","bass-clarinet_Ds3_1_forte_normal.mp3","bass-clarinet_Ds3_1_fortissimo_normal.mp3","bass-clarinet_Ds3_1_mezzo-forte_normal.mp3","bass-clarinet_Ds3_1_mezzo-piano_normal.mp3","bass-clarinet_Ds3_1_pianissimo_normal.mp3","bass-clarinet_Ds3_1_piano_normal.mp3","bass-clarinet_Ds3_phrase_forte_minor-trill.mp3","bass-clarinet_Ds3_phrase_mezzo-forte_normal.mp3","bass-clarinet_Ds4_025_forte_normal.mp3","bass-clarinet_Ds4_025_fortissimo_normal.mp3","bass-clarinet_Ds4_025_mezzo-forte_normal.mp3","bass-clarinet_Ds4_025_pianissimo_normal.mp3","bass-clarinet_Ds4_025_piano_normal.mp3","bass-clarinet_Ds4_05_forte_normal.mp3","bass-clarinet_Ds4_05_fortissimo_normal.mp3","bass-clarinet_Ds4_05_mezzo-forte_normal.mp3","bass-clarinet_Ds4_05_pianissimo_normal.mp3","bass-clarinet_Ds4_05_piano_normal.mp3","bass-clarinet_Ds4_15_forte_normal.mp3","bass-clarinet_Ds4_15_fortissimo_normal.mp3","bass-clarinet_Ds4_15_mezzo-forte_normal.mp3","bass-clarinet_Ds4_15_pianissimo_normal.mp3","bass-clarinet_Ds4_15_piano_normal.mp3","bass-clarinet_Ds4_1_forte_normal.mp3","bass-clarinet_Ds4_1_fortissimo_normal.mp3","bass-clarinet_Ds4_1_mezzo-forte_normal.mp3","bass-clarinet_Ds4_1_pianissimo_normal.mp3","bass-clarinet_Ds4_1_piano_normal.mp3","bass-clarinet_Ds4_phrase_forte_minor-trill.mp3","bass-clarinet_Ds5_025_forte_normal.mp3","bass-clarinet_Ds5_025_fortissimo_normal.mp3","bass-clarinet_Ds5_025_mezzo-forte_normal.mp3","bass-clarinet_Ds5_025_pianissimo_normal.mp3","bass-clarinet_Ds5_025_piano_normal.mp3","bass-clarinet_Ds5_05_forte_normal.mp3","bass-clarinet_Ds5_05_fortissimo_normal.mp3","bass-clarinet_Ds5_05_mezzo-forte_normal.mp3","bass-clarinet_Ds5_05_pianissimo_normal.mp3","bass-clarinet_Ds5_05_piano_normal.mp3","bass-clarinet_Ds5_15_forte_normal.mp3","bass-clarinet_Ds5_15_fortissimo_normal.mp3","bass-clarinet_Ds5_15_mezzo-forte_normal.mp3","bass-clarinet_Ds5_15_pianissimo_normal.mp3","bass-clarinet_Ds5_15_piano_normal.mp3","bass-clarinet_Ds5_1_forte_normal.mp3","bass-clarinet_Ds5_1_fortissimo_normal.mp3","bass-clarinet_Ds5_1_mezzo-forte_normal.mp3","bass-clarinet_Ds5_1_pianissimo_normal.mp3","bass-clarinet_Ds5_1_piano_normal.mp3","bass-clarinet_E2_025_forte_normal.mp3","bass-clarinet_E2_025_mezzo-forte_normal.mp3","bass-clarinet_E2_025_mezzo-forte_staccato.mp3","bass-clarinet_E2_025_pianissimo_normal.mp3","bass-clarinet_E2_025_piano_normal.mp3","bass-clarinet_E2_05_forte_normal.mp3","bass-clarinet_E2_05_mezzo-forte_normal.mp3","bass-clarinet_E2_05_pianissimo_normal.mp3","bass-clarinet_E2_05_piano_normal.mp3","bass-clarinet_E2_15_forte_normal.mp3","bass-clarinet_E2_15_mezzo-forte_normal.mp3","bass-clarinet_E2_15_pianissimo_normal.mp3","bass-clarinet_E2_15_piano_normal.mp3","bass-clarinet_E2_1_forte_normal.mp3","bass-clarinet_E2_1_mezzo-forte_normal.mp3","bass-clarinet_E2_1_pianissimo_normal.mp3","bass-clarinet_E2_1_piano_normal.mp3","bass-clarinet_E2_phrase_forte_tremolo.mp3","bass-clarinet_E2_phrase_mezzo-forte_staccato.mp3","bass-clarinet_E3_025_forte_normal.mp3","bass-clarinet_E3_025_fortissimo_normal.mp3","bass-clarinet_E3_025_mezzo-forte_normal.mp3","bass-clarinet_E3_025_mezzo-forte_staccato.mp3","bass-clarinet_E3_025_pianissimo_normal.mp3","bass-clarinet_E3_025_piano_normal.mp3","bass-clarinet_E3_05_forte_normal.mp3","bass-clarinet_E3_05_fortissimo_normal.mp3","bass-clarinet_E3_05_mezzo-forte_normal.mp3","bass-clarinet_E3_05_pianissimo_normal.mp3","bass-clarinet_E3_05_piano_normal.mp3","bass-clarinet_E3_15_forte_normal.mp3","bass-clarinet_E3_15_fortissimo_normal.mp3","bass-clarinet_E3_15_mezzo-forte_normal.mp3","bass-clarinet_E3_15_pianissimo_normal.mp3","bass-clarinet_E3_15_piano_normal.mp3","bass-clarinet_E3_1_forte_normal.mp3","bass-clarinet_E3_1_fortissimo_normal.mp3","bass-clarinet_E3_1_mezzo-forte_normal.mp3","bass-clarinet_E3_1_pianissimo_normal.mp3","bass-clarinet_E3_1_piano_normal.mp3","bass-clarinet_E3_phrase_mezzo-forte_legato.mp3","bass-clarinet_E3_phrase_mezzo-forte_nonlegato.mp3","bass-clarinet_E3_phrase_mezzo-forte_staccatissimo.mp3","bass-clarinet_E3_phrase_mezzo-forte_tongued-slur.mp3","bass-clarinet_E4_025_forte_normal.mp3","bass-clarinet_E4_025_fortissimo_normal.mp3","bass-clarinet_E4_025_mezzo-forte_normal.mp3","bass-clarinet_E4_025_pianissimo_normal.mp3","bass-clarinet_E4_025_piano_normal.mp3","bass-clarinet_E4_05_forte_normal.mp3","bass-clarinet_E4_05_fortissimo_normal.mp3","bass-clarinet_E4_05_mezzo-forte_normal.mp3","bass-clarinet_E4_05_pianissimo_normal.mp3","bass-clarinet_E4_05_piano_normal.mp3","bass-clarinet_E4_15_forte_normal.mp3","bass-clarinet_E4_15_fortissimo_normal.mp3","bass-clarinet_E4_15_mezzo-forte_normal.mp3","bass-clarinet_E4_15_pianissimo_normal.mp3","bass-clarinet_E4_15_piano_normal.mp3","bass-clarinet_E4_1_forte_normal.mp3","bass-clarinet_E4_1_fortissimo_normal.mp3","bass-clarinet_E4_1_mezzo-forte_normal.mp3","bass-clarinet_E4_1_pianissimo_normal.mp3","bass-clarinet_E4_1_piano_normal.mp3","bass-clarinet_E4_phrase_mezzo-forte_legato.mp3","bass-clarinet_E4_phrase_mezzo-forte_nonlegato.mp3","bass-clarinet_E4_phrase_mezzo-forte_tongued-slur.mp3","bass-clarinet_E5_025_forte_normal.mp3","bass-clarinet_E5_025_fortissimo_normal.mp3","bass-clarinet_E5_025_mezzo-forte_normal.mp3","bass-clarinet_E5_025_pianissimo_normal.mp3","bass-clarinet_E5_025_piano_normal.mp3","bass-clarinet_E5_05_forte_normal.mp3","bass-clarinet_E5_05_fortissimo_normal.mp3","bass-clarinet_E5_05_mezzo-forte_normal.mp3","bass-clarinet_E5_05_pianissimo_normal.mp3","bass-clarinet_E5_05_piano_normal.mp3","bass-clarinet_E5_15_forte_normal.mp3","bass-clarinet_E5_15_fortissimo_normal.mp3","bass-clarinet_E5_15_mezzo-forte_normal.mp3","bass-clarinet_E5_15_pianissimo_normal.mp3","bass-clarinet_E5_15_piano_normal.mp3","bass-clarinet_E5_1_forte_normal.mp3","bass-clarinet_E5_1_fortissimo_normal.mp3","bass-clarinet_E5_1_mezzo-forte_normal.mp3","bass-clarinet_E5_1_pianissimo_normal.mp3","bass-clarinet_E5_1_piano_normal.mp3","bass-clarinet_F2_025_forte_normal.mp3","bass-clarinet_F2_025_mezzo-forte_normal.mp3","bass-clarinet_F2_025_mezzo-forte_staccato.mp3","bass-clarinet_F2_025_pianissimo_normal.mp3","bass-clarinet_F2_025_piano_normal.mp3","bass-clarinet_F2_05_forte_normal.mp3","bass-clarinet_F2_05_mezzo-forte_normal.mp3","bass-clarinet_F2_05_pianissimo_normal.mp3","bass-clarinet_F2_05_piano_normal.mp3","bass-clarinet_F2_15_forte_normal.mp3","bass-clarinet_F2_15_mezzo-forte_normal.mp3","bass-clarinet_F2_15_pianissimo_normal.mp3","bass-clarinet_F2_15_piano_normal.mp3","bass-clarinet_F2_1_forte_normal.mp3","bass-clarinet_F2_1_mezzo-forte_normal.mp3","bass-clarinet_F2_1_pianissimo_normal.mp3","bass-clarinet_F2_1_piano_normal.mp3","bass-clarinet_F2_phrase_forte_minor-trill.mp3","bass-clarinet_F2_phrase_mezzo-forte_staccato.mp3","bass-clarinet_F3_025_forte_normal.mp3","bass-clarinet_F3_025_fortissimo_normal.mp3","bass-clarinet_F3_025_mezzo-forte_normal.mp3","bass-clarinet_F3_025_mezzo-forte_staccato.mp3","bass-clarinet_F3_025_pianissimo_normal.mp3","bass-clarinet_F3_025_piano_normal.mp3","bass-clarinet_F3_05_forte_normal.mp3","bass-clarinet_F3_05_fortissimo_normal.mp3","bass-clarinet_F3_05_mezzo-forte_normal.mp3","bass-clarinet_F3_05_pianissimo_normal.mp3","bass-clarinet_F3_05_piano_normal.mp3","bass-clarinet_F3_15_forte_normal.mp3","bass-clarinet_F3_15_fortissimo_normal.mp3","bass-clarinet_F3_15_mezzo-forte_normal.mp3","bass-clarinet_F3_15_pianissimo_normal.mp3","bass-clarinet_F3_15_piano_normal.mp3","bass-clarinet_F3_1_forte_normal.mp3","bass-clarinet_F3_1_fortissimo_normal.mp3","bass-clarinet_F3_1_mezzo-forte_normal.mp3","bass-clarinet_F3_1_pianissimo_normal.mp3","bass-clarinet_F3_1_piano_normal.mp3","bass-clarinet_F3_phrase_forte_major-trill.mp3","bass-clarinet_F3_phrase_forte_tremolo.mp3","bass-clarinet_F3_phrase_mezzo-forte_normal.mp3","bass-clarinet_F4_025_forte_normal.mp3","bass-clarinet_F4_025_fortissimo_normal.mp3","bass-clarinet_F4_025_mezzo-forte_normal.mp3","bass-clarinet_F4_025_pianissimo_normal.mp3","bass-clarinet_F4_025_piano_normal.mp3","bass-clarinet_F4_05_forte_normal.mp3","bass-clarinet_F4_05_fortissimo_normal.mp3","bass-clarinet_F4_05_mezzo-forte_normal.mp3","bass-clarinet_F4_05_pianissimo_normal.mp3","bass-clarinet_F4_05_piano_normal.mp3","bass-clarinet_F4_15_forte_normal.mp3","bass-clarinet_F4_15_fortissimo_normal.mp3","bass-clarinet_F4_15_mezzo-forte_normal.mp3","bass-clarinet_F4_15_pianissimo_normal.mp3","bass-clarinet_F4_15_piano_normal.mp3","bass-clarinet_F4_1_forte_normal.mp3","bass-clarinet_F4_1_fortissimo_normal.mp3","bass-clarinet_F4_1_mezzo-forte_normal.mp3","bass-clarinet_F4_1_pianissimo_normal.mp3","bass-clarinet_F4_1_piano_normal.mp3","bass-clarinet_F4_phrase_forte_major-trill.mp3","bass-clarinet_F4_very-long_mezzo-piano_harmonic.mp3","bass-clarinet_F5_025_forte_normal.mp3","bass-clarinet_F5_025_fortissimo_normal.mp3","bass-clarinet_F5_025_mezzo-forte_normal.mp3","bass-clarinet_F5_025_pianissimo_normal.mp3","bass-clarinet_F5_025_piano_normal.mp3","bass-clarinet_F5_05_forte_normal.mp3","bass-clarinet_F5_05_fortissimo_normal.mp3","bass-clarinet_F5_05_mezzo-forte_normal.mp3","bass-clarinet_F5_05_pianissimo_normal.mp3","bass-clarinet_F5_05_piano_normal.mp3","bass-clarinet_F5_15_forte_normal.mp3","bass-clarinet_F5_15_fortissimo_normal.mp3","bass-clarinet_F5_15_mezzo-forte_normal.mp3","bass-clarinet_F5_15_pianissimo_normal.mp3","bass-clarinet_F5_15_piano_normal.mp3","bass-clarinet_F5_1_forte_normal.mp3","bass-clarinet_F5_1_fortissimo_normal.mp3","bass-clarinet_F5_1_mezzo-forte_normal.mp3","bass-clarinet_F5_1_pianissimo_normal.mp3","bass-clarinet_F5_1_piano_normal.mp3","bass-clarinet_Fs2_025_forte_normal.mp3","bass-clarinet_Fs2_025_fortissimo_normal.mp3","bass-clarinet_Fs2_025_mezzo-forte_normal.mp3","bass-clarinet_Fs2_025_pianissimo_normal.mp3","bass-clarinet_Fs2_025_piano_normal.mp3","bass-clarinet_Fs2_05_forte_normal.mp3","bass-clarinet_Fs2_05_fortissimo_normal.mp3","bass-clarinet_Fs2_05_mezzo-forte_normal.mp3","bass-clarinet_Fs2_05_pianissimo_normal.mp3","bass-clarinet_Fs2_05_piano_normal.mp3","bass-clarinet_Fs2_15_forte_normal.mp3","bass-clarinet_Fs2_15_fortissimo_normal.mp3","bass-clarinet_Fs2_15_mezzo-forte_normal.mp3","bass-clarinet_Fs2_15_pianissimo_normal.mp3","bass-clarinet_Fs2_15_piano_normal.mp3","bass-clarinet_Fs2_1_forte_normal.mp3","bass-clarinet_Fs2_1_fortissimo_normal.mp3","bass-clarinet_Fs2_1_mezzo-forte_normal.mp3","bass-clarinet_Fs2_1_pianissimo_normal.mp3","bass-clarinet_Fs2_1_piano_normal.mp3","bass-clarinet_Fs3_025_forte_normal.mp3","bass-clarinet_Fs3_025_fortissimo_normal.mp3","bass-clarinet_Fs3_025_mezzo-forte_normal.mp3","bass-clarinet_Fs3_025_pianissimo_normal.mp3","bass-clarinet_Fs3_025_piano_normal.mp3","bass-clarinet_Fs3_05_forte_normal.mp3","bass-clarinet_Fs3_05_fortissimo_normal.mp3","bass-clarinet_Fs3_05_mezzo-forte_normal.mp3","bass-clarinet_Fs3_05_pianissimo_normal.mp3","bass-clarinet_Fs3_05_piano_normal.mp3","bass-clarinet_Fs3_15_forte_normal.mp3","bass-clarinet_Fs3_15_fortissimo_normal.mp3","bass-clarinet_Fs3_15_mezzo-forte_normal.mp3","bass-clarinet_Fs3_15_pianissimo_normal.mp3","bass-clarinet_Fs3_15_piano_normal.mp3","bass-clarinet_Fs3_1_forte_normal.mp3","bass-clarinet_Fs3_1_fortissimo_normal.mp3","bass-clarinet_Fs3_1_mezzo-forte_normal.mp3","bass-clarinet_Fs3_1_pianissimo_normal.mp3","bass-clarinet_Fs3_1_piano_normal.mp3","bass-clarinet_Fs3_phrase_mezzo-forte_staccatissimo.mp3","bass-clarinet_Fs4_025_forte_normal.mp3","bass-clarinet_Fs4_025_fortissimo_normal.mp3","bass-clarinet_Fs4_025_mezzo-forte_normal.mp3","bass-clarinet_Fs4_025_pianissimo_normal.mp3","bass-clarinet_Fs4_025_piano_normal.mp3","bass-clarinet_Fs4_05_forte_normal.mp3","bass-clarinet_Fs4_05_fortissimo_normal.mp3","bass-clarinet_Fs4_05_mezzo-forte_normal.mp3","bass-clarinet_Fs4_05_pianissimo_normal.mp3","bass-clarinet_Fs4_05_piano_normal.mp3","bass-clarinet_Fs4_15_forte_normal.mp3","bass-clarinet_Fs4_15_fortissimo_normal.mp3","bass-clarinet_Fs4_15_mezzo-forte_normal.mp3","bass-clarinet_Fs4_15_pianissimo_normal.mp3","bass-clarinet_Fs4_15_piano_normal.mp3","bass-clarinet_Fs4_1_forte_normal.mp3","bass-clarinet_Fs4_1_fortissimo_normal.mp3","bass-clarinet_Fs4_1_mezzo-forte_normal.mp3","bass-clarinet_Fs4_1_pianissimo_normal.mp3","bass-clarinet_Fs4_1_piano_normal.mp3","bass-clarinet_Fs4_phrase_forte_major-trill.mp3","bass-clarinet_Fs4_phrase_forte_minor-trill.mp3","bass-clarinet_Fs5_025_forte_normal.mp3","bass-clarinet_Fs5_025_fortissimo_normal.mp3","bass-clarinet_Fs5_025_mezzo-forte_normal.mp3","bass-clarinet_Fs5_025_pianissimo_normal.mp3","bass-clarinet_Fs5_025_piano_normal.mp3","bass-clarinet_Fs5_05_forte_normal.mp3","bass-clarinet_Fs5_05_fortissimo_normal.mp3","bass-clarinet_Fs5_05_mezzo-forte_normal.mp3","bass-clarinet_Fs5_05_pianissimo_normal.mp3","bass-clarinet_Fs5_05_piano_normal.mp3","bass-clarinet_Fs5_15_forte_normal.mp3","bass-clarinet_Fs5_15_fortissimo_normal.mp3","bass-clarinet_Fs5_15_mezzo-forte_normal.mp3","bass-clarinet_Fs5_15_pianissimo_normal.mp3","bass-clarinet_Fs5_15_piano_normal.mp3","bass-clarinet_Fs5_1_forte_normal.mp3","bass-clarinet_Fs5_1_fortissimo_normal.mp3","bass-clarinet_Fs5_1_mezzo-forte_normal.mp3","bass-clarinet_Fs5_1_pianissimo_normal.mp3","bass-clarinet_Fs5_1_piano_normal.mp3","bass-clarinet_G2_025_forte_normal.mp3","bass-clarinet_G2_025_mezzo-forte_normal.mp3","bass-clarinet_G2_025_pianissimo_normal.mp3","bass-clarinet_G2_025_piano_normal.mp3","bass-clarinet_G2_05_forte_normal.mp3","bass-clarinet_G2_05_mezzo-forte_normal.mp3","bass-clarinet_G2_05_pianissimo_normal.mp3","bass-clarinet_G2_05_piano_normal.mp3","bass-clarinet_G2_15_fortissimo_normal.mp3","bass-clarinet_G2_15_mezzo-forte_normal.mp3","bass-clarinet_G2_15_pianissimo_normal.mp3","bass-clarinet_G2_15_piano_normal.mp3","bass-clarinet_G2_1_forte_normal.mp3","bass-clarinet_G2_1_fortissimo_normal.mp3","bass-clarinet_G2_1_mezzo-forte_normal.mp3","bass-clarinet_G2_1_pianissimo_normal.mp3","bass-clarinet_G2_1_piano_normal.mp3","bass-clarinet_G2_phrase_mezzo-forte_legato.mp3","bass-clarinet_G2_phrase_mezzo-forte_nonlegato.mp3","bass-clarinet_G2_phrase_mezzo-forte_staccato.mp3","bass-clarinet_G2_phrase_mezzo-forte_tongued-slur.mp3","bass-clarinet_G3_025_forte_normal.mp3","bass-clarinet_G3_025_fortissimo_normal.mp3","bass-clarinet_G3_025_mezzo-forte_staccato.mp3","bass-clarinet_G3_025_pianissimo_normal.mp3","bass-clarinet_G3_025_piano_normal.mp3","bass-clarinet_G3_05_forte_normal.mp3","bass-clarinet_G3_05_fortissimo_normal.mp3","bass-clarinet_G3_05_pianissimo_normal.mp3","bass-clarinet_G3_05_piano_normal.mp3","bass-clarinet_G3_15_forte_normal.mp3","bass-clarinet_G3_15_fortissimo_normal.mp3","bass-clarinet_G3_15_pianissimo_normal.mp3","bass-clarinet_G3_15_piano_normal.mp3","bass-clarinet_G3_1_forte_normal.mp3","bass-clarinet_G3_1_fortissimo_normal.mp3","bass-clarinet_G3_1_pianissimo_normal.mp3","bass-clarinet_G3_phrase_forte_minor-trill.mp3","bass-clarinet_G3_phrase_mezzo-forte_normal.mp3","bass-clarinet_G3_phrase_mezzo-forte_staccatissimo.mp3","bass-clarinet_G4_025_forte_normal.mp3","bass-clarinet_G4_025_fortissimo_normal.mp3","bass-clarinet_G4_025_pianissimo_normal.mp3","bass-clarinet_G4_025_piano_normal.mp3","bass-clarinet_G4_05_forte_normal.mp3","bass-clarinet_G4_05_fortissimo_normal.mp3","bass-clarinet_G4_05_pianissimo_normal.mp3","bass-clarinet_G4_05_piano_normal.mp3","bass-clarinet_G4_15_forte_normal.mp3","bass-clarinet_G4_15_fortissimo_normal.mp3","bass-clarinet_G4_15_pianissimo_normal.mp3","bass-clarinet_G4_15_piano_normal.mp3","bass-clarinet_G4_1_forte_normal.mp3","bass-clarinet_G4_1_fortissimo_normal.mp3","bass-clarinet_G4_1_pianissimo_normal.mp3","bass-clarinet_G4_1_piano_normal.mp3","bass-clarinet_G4_phrase_forte_minor-trill.mp3","bass-clarinet_G5_025_forte_normal.mp3","bass-clarinet_G5_025_fortissimo_normal.mp3","bass-clarinet_G5_025_mezzo-forte_normal.mp3","bass-clarinet_G5_025_pianissimo_normal.mp3","bass-clarinet_G5_025_piano_normal.mp3","bass-clarinet_G5_05_forte_normal.mp3","bass-clarinet_G5_05_fortissimo_normal.mp3","bass-clarinet_G5_05_mezzo-forte_normal.mp3","bass-clarinet_G5_05_pianissimo_normal.mp3","bass-clarinet_G5_05_piano_normal.mp3","bass-clarinet_G5_15_forte_normal.mp3","bass-clarinet_G5_15_fortissimo_normal.mp3","bass-clarinet_G5_15_mezzo-forte_normal.mp3","bass-clarinet_G5_15_pianissimo_normal.mp3","bass-clarinet_G5_15_piano_normal.mp3","bass-clarinet_G5_1_forte_normal.mp3","bass-clarinet_G5_1_fortissimo_normal.mp3","bass-clarinet_G5_1_mezzo-forte_normal.mp3","bass-clarinet_G5_1_pianissimo_normal.mp3","bass-clarinet_G5_1_piano_normal.mp3","bass-clarinet_Gs2_025_forte_normal.mp3","bass-clarinet_Gs2_025_fortissimo_normal.mp3","bass-clarinet_Gs2_025_mezzo-forte_normal.mp3","bass-clarinet_Gs2_025_mezzo-forte_staccato.mp3","bass-clarinet_Gs2_025_pianissimo_normal.mp3","bass-clarinet_Gs2_025_piano_normal.mp3","bass-clarinet_Gs2_05_forte_normal.mp3","bass-clarinet_Gs2_05_fortissimo_normal.mp3","bass-clarinet_Gs2_05_mezzo-forte_normal.mp3","bass-clarinet_Gs2_05_pianissimo_normal.mp3","bass-clarinet_Gs2_05_piano_normal.mp3","bass-clarinet_Gs2_15_forte_normal.mp3","bass-clarinet_Gs2_15_fortissimo_normal.mp3","bass-clarinet_Gs2_15_mezzo-forte_normal.mp3","bass-clarinet_Gs2_15_pianissimo_normal.mp3","bass-clarinet_Gs2_15_piano_normal.mp3","bass-clarinet_Gs2_1_forte_normal.mp3","bass-clarinet_Gs2_1_fortissimo_normal.mp3","bass-clarinet_Gs2_1_mezzo-forte_normal.mp3","bass-clarinet_Gs2_1_pianissimo_normal.mp3","bass-clarinet_Gs2_1_piano_normal.mp3","bass-clarinet_Gs2_phrase_cresc-decresc_normal.mp3","bass-clarinet_Gs2_phrase_forte_major-trill.mp3","bass-clarinet_Gs2_very-long_forte_normal.mp3","bass-clarinet_Gs2_very-long_piano_normal.mp3","bass-clarinet_Gs3_025_forte_normal.mp3","bass-clarinet_Gs3_025_fortissimo_normal.mp3","bass-clarinet_Gs3_025_mezzo-forte_staccato.mp3","bass-clarinet_Gs3_025_pianissimo_normal.mp3","bass-clarinet_Gs3_025_piano_normal.mp3","bass-clarinet_Gs3_05_forte_normal.mp3","bass-clarinet_Gs3_05_fortissimo_normal.mp3","bass-clarinet_Gs3_05_pianissimo_normal.mp3","bass-clarinet_Gs3_05_piano_normal.mp3","bass-clarinet_Gs3_15_forte_normal.mp3","bass-clarinet_Gs3_15_fortissimo_normal.mp3","bass-clarinet_Gs3_15_pianissimo_normal.mp3","bass-clarinet_Gs3_15_piano_normal.mp3","bass-clarinet_Gs3_1_forte_normal.mp3","bass-clarinet_Gs3_1_fortissimo_normal.mp3","bass-clarinet_Gs3_1_pianissimo_normal.mp3","bass-clarinet_Gs3_1_piano_normal.mp3","bass-clarinet_Gs3_phrase_cresc-decresc_normal.mp3","bass-clarinet_Gs4_025_forte_normal.mp3","bass-clarinet_Gs4_025_fortissimo_normal.mp3","bass-clarinet_Gs4_025_mezzo-forte_normal.mp3","bass-clarinet_Gs4_025_pianissimo_normal.mp3","bass-clarinet_Gs4_025_piano_normal.mp3","bass-clarinet_Gs4_05_forte_normal.mp3","bass-clarinet_Gs4_05_fortissimo_normal.mp3","bass-clarinet_Gs4_05_mezzo-forte_normal.mp3","bass-clarinet_Gs4_05_pianissimo_normal.mp3","bass-clarinet_Gs4_05_piano_normal.mp3","bass-clarinet_Gs4_15_forte_normal.mp3","bass-clarinet_Gs4_15_fortissimo_normal.mp3","bass-clarinet_Gs4_15_mezzo-forte_normal.mp3","bass-clarinet_Gs4_15_pianissimo_normal.mp3","bass-clarinet_Gs4_15_piano_normal.mp3","bass-clarinet_Gs4_1_forte_normal.mp3","bass-clarinet_Gs4_1_fortissimo_normal.mp3","bass-clarinet_Gs4_1_mezzo-forte_normal.mp3","bass-clarinet_Gs4_1_pianissimo_normal.mp3","bass-clarinet_Gs4_1_piano_normal.mp3","bass-clarinet_Gs4_phrase_cresc-decresc_normal.mp3","bass-clarinet_Gs4_very-long_mezzo-piano_harmonic.mp3","bass-clarinet_Gs5_025_fortissimo_normal.mp3","bass-clarinet_Gs5_025_piano_normal.mp3","bass-clarinet_Gs5_05_fortissimo_normal.mp3","bass-clarinet_Gs5_05_mezzo-forte_normal.mp3","bass-clarinet_Gs5_05_piano_normal.mp3","bass-clarinet_Gs5_15_fortissimo_normal.mp3","bass-clarinet_Gs5_15_mezzo-forte_normal.mp3","bass-clarinet_Gs5_15_piano_normal.mp3","bass-clarinet_Gs5_1_fortissimo_normal.mp3","bass-clarinet_Gs5_1_mezzo-forte_normal.mp3","bass-clarinet_Gs5_1_piano_normal.mp3","block_inside.wav","bottle_hall.wav","cement_blocks_1.wav","cement_blocks_2.wav","chateau_de_logne_outside.wav","conic_long_echo_hall.wav","contrabassoon_A1_025_fortissimo_normal.mp3","contrabassoon_A1_05_forte_normal.mp3","contrabassoon_A1_05_mezzo-forte_normal.mp3","contrabassoon_A1_15_fortissimo_normal.mp3","contrabassoon_A1_15_piano_normal.mp3","contrabassoon_A1_1_forte_normal.mp3","contrabassoon_A2_025_forte_normal.mp3","contrabassoon_A2_05_forte_normal.mp3","contrabassoon_A2_15_forte_normal.mp3","contrabassoon_A2_15_mezzo-forte_normal.mp3","contrabassoon_A2_1_forte_normal.mp3","contrabassoon_A3_025_forte_normal.mp3","contrabassoon_A3_025_mezzo-forte_normal.mp3","contrabassoon_A3_05_forte_normal.mp3","contrabassoon_A3_05_mezzo-forte_normal.mp3","contrabassoon_A3_15_forte_normal.mp3","contrabassoon_A3_15_mezzo-forte_normal.mp3","contrabassoon_A3_1_forte_normal.mp3","contrabassoon_A3_very-long_forte_normal.mp3","contrabassoon_As0_025_forte_normal.mp3","contrabassoon_As0_05_mezzo-forte_normal.mp3","contrabassoon_As0_15_fortissimo_normal.mp3","contrabassoon_As0_1_forte_normal.mp3","contrabassoon_As0_1_mezzo-forte_normal.mp3","contrabassoon_As0_long_forte_major-trill.mp3","contrabassoon_As0_phrase_mezzo-forte_legato.mp3","contrabassoon_As0_phrase_mezzo-forte_staccatissimo.mp3","contrabassoon_As0_phrase_mezzo-forte_tenuto.mp3","contrabassoon_As0_very-long_cresc-decresc_normal.mp3","contrabassoon_As1_05_fortissimo_normal.mp3","contrabassoon_As1_05_piano_normal.mp3","contrabassoon_As1_15_fortissimo_normal.mp3","contrabassoon_As1_15_piano_normal.mp3","contrabassoon_As1_1_fortissimo_normal.mp3","contrabassoon_As1_1_piano_normal.mp3","deep_space.wav","derlon_sanctuary.wav","direct_cabinet_n1.wav","direct_cabinet_n2.wav","direct_cabinet_n3.wav","direct_cabinet_n4.wav","emt_140_bright_1.wav","emt_140_bright_2.wav","emt_140_bright_3.wav","emt_140_bright_4.wav","emt_140_bright_5.wav","emt_140_dark_1.wav","emt_140_dark_2.wav","emt_140_dark_3.wav","emt_140_dark_4.wav","emt_140_dark_5.wav","emt_140_medium_1.wav","emt_140_medium_2.wav","emt_140_medium_3.wav","emt_140_medium_4.wav","emt_140_medium_5.wav","five_columns_long.wav","five_columns.wav","french_18th_century_salon.wav","going_home.wav","greek_7_echo_hall.wav","highly_damped_large_room.wav","in_the_silo_revised.wav","in_the_silo.wav","large_bottle_hall.wav","large_long_echo_hall.wav","large_wide_echo_hall.wav","masonic_lodge.wav","musikvereinsaal.wav","narrow_bumpy_space.wav","nice_drum_room.wav","oboe_A4_025_forte_normal.mp3","oboe_A4_025_fortissimo_normal.mp3","oboe_A4_025_piano_normal.mp3","oboe_A4_05_forte_normal.mp3","oboe_A4_05_fortissimo_normal.mp3","oboe_A4_05_piano_normal.mp3","oboe_A4_15_forte_normal.mp3","oboe_A4_15_fortissimo_normal.mp3","oboe_A4_15_mezzo-forte_normal.mp3","oboe_A4_15_piano_normal.mp3","oboe_A4_1_forte_normal.mp3","oboe_A4_1_fortissimo_normal.mp3","oboe_A4_1_mezzo-forte_normal.mp3","oboe_A4_1_piano_normal.mp3","oboe_A5_025_forte_normal.mp3","oboe_A5_025_fortissimo_normal.mp3","oboe_A5_025_mezzo-forte_normal.mp3","oboe_A5_025_piano_normal.mp3","oboe_A5_05_forte_normal.mp3","oboe_A5_05_fortissimo_normal.mp3","oboe_A5_05_mezzo-forte_normal.mp3","oboe_A5_05_piano_normal.mp3","oboe_A5_15_forte_normal.mp3","oboe_A5_15_fortissimo_normal.mp3","oboe_A5_15_mezzo-forte_normal.mp3","oboe_A5_15_piano_normal.mp3","oboe_A5_1_forte_major-trill.mp3","oboe_A5_1_forte_minor-trill.mp3","oboe_A5_1_forte_normal.mp3","oboe_A5_1_fortissimo_normal.mp3","oboe_A5_1_mezzo-forte_normal.mp3","oboe_A5_1_piano_normal.mp3","oboe_A5_phrase_mezzo-forte_normal.mp3","oboe_A6_025_piano_normal.mp3","oboe_A6_05_piano_normal.mp3","oboe_A6_15_piano_normal.mp3","oboe_A6_1_forte_major-trill.mp3","oboe_A6_1_forte_minor-trill.mp3","oboe_A6_1_piano_normal.mp3","oboe_As3_025_forte_normal.mp3","oboe_As3_025_fortissimo_normal.mp3","oboe_As3_025_mezzo-forte_normal.mp3","oboe_As3_025_piano_normal.mp3","oboe_As3_05_forte_normal.mp3","oboe_As3_05_fortissimo_normal.mp3","oboe_As3_05_mezzo-forte_normal.mp3","oboe_As3_05_piano_normal.mp3","oboe_As3_15_forte_normal.mp3","oboe_As3_15_fortissimo_normal.mp3","oboe_As3_15_mezzo-forte_normal.mp3","oboe_As3_15_piano_normal.mp3","oboe_As3_1_forte_normal.mp3","oboe_As3_1_fortissimo_normal.mp3","oboe_As3_1_mezzo-forte_normal.mp3","oboe_As3_1_piano_normal.mp3","oboe_As4_025_forte_normal.mp3","oboe_As4_025_fortissimo_normal.mp3","oboe_As4_025_mezzo-forte_normal.mp3","oboe_As4_025_piano_normal.mp3","oboe_As4_05_forte_normal.mp3","oboe_As4_05_fortissimo_normal.mp3","oboe_As4_05_mezzo-forte_normal.mp3","oboe_As4_05_piano_normal.mp3","oboe_As4_15_forte_normal.mp3","oboe_As4_15_fortissimo_normal.mp3","oboe_As4_15_mezzo-forte_normal.mp3","oboe_As4_15_piano_normal.mp3","oboe_As4_1_forte_major-trill.mp3","oboe_As4_1_forte_minor-trill.mp3","oboe_As4_1_forte_normal.mp3","oboe_As4_1_fortissimo_normal.mp3","oboe_As4_1_mezzo-forte_normal.mp3","oboe_As4_1_piano_normal.mp3","oboe_As5_025_forte_normal.mp3","oboe_As5_025_fortissimo_normal.mp3","oboe_As5_025_mezzo-forte_normal.mp3","oboe_As5_025_piano_normal.mp3","oboe_As5_05_forte_normal.mp3","oboe_As5_05_fortissimo_normal.mp3","oboe_As5_05_mezzo-forte_normal.mp3","oboe_As5_05_piano_normal.mp3","oboe_As5_15_forte_normal.mp3","oboe_As5_15_fortissimo_normal.mp3","oboe_As5_15_mezzo-forte_normal.mp3","oboe_As5_15_piano_normal.mp3","oboe_As5_1_forte_major-trill.mp3","oboe_As5_1_forte_normal.mp3","oboe_As5_1_fortissimo_normal.mp3","oboe_As5_1_mezzo-forte_normal.mp3","oboe_As5_1_piano_normal.mp3","oboe_As6_025_piano_normal.mp3","oboe_As6_05_piano_normal.mp3","oboe_As6_15_piano_normal.mp3","oboe_As6_1_piano_normal.mp3","oboe_B3_025_forte_normal.mp3","oboe_B3_025_fortissimo_normal.mp3","oboe_B3_025_mezzo-forte_normal.mp3","oboe_B3_025_piano_normal.mp3","oboe_B3_05_forte_normal.mp3","oboe_B3_05_fortissimo_normal.mp3","oboe_B3_05_mezzo-forte_normal.mp3","oboe_B3_05_piano_normal.mp3","oboe_B3_15_forte_normal.mp3","oboe_B3_15_fortissimo_normal.mp3","oboe_B3_15_mezzo-forte_normal.mp3","oboe_B3_15_piano_normal.mp3","oboe_B3_1_forte_normal.mp3","oboe_B3_1_fortissimo_normal.mp3","oboe_B3_1_mezzo-forte_normal.mp3","oboe_B3_1_piano_normal.mp3","oboe_B3_phrase_mezzo-forte_nonlegato.mp3","oboe_B3_phrase_mezzo-forte_normal.mp3","oboe_B3_phrase_mezzo-forte_staccatissimo.mp3","oboe_B3_phrase_mezzo-forte_staccato.mp3","oboe_B3_phrase_mezzo-forte_tenuto.mp3","oboe_B3_phrase_mezzo-forte_tongued-slur.mp3","oboe_B4_025_forte_normal.mp3","oboe_B4_025_fortissimo_normal.mp3","oboe_B4_025_mezzo-forte_normal.mp3","oboe_B4_025_piano_normal.mp3","oboe_B4_05_forte_normal.mp3","oboe_B4_05_fortissimo_normal.mp3","oboe_B4_05_mezzo-forte_normal.mp3","oboe_B4_15_forte_normal.mp3","oboe_B4_15_fortissimo_normal.mp3","oboe_B4_15_mezzo-forte_normal.mp3","oboe_B4_1_forte_major-trill.mp3","oboe_B4_1_forte_normal.mp3","oboe_B4_1_fortissimo_normal.mp3","oboe_B4_1_mezzo-forte_normal.mp3","oboe_B4_phrase_mezzo-forte_nonlegato.mp3","oboe_B4_phrase_mezzo-forte_normal.mp3","oboe_B4_phrase_mezzo-forte_staccatissimo.mp3","oboe_B4_phrase_mezzo-forte_staccato.mp3","oboe_B4_phrase_mezzo-forte_tenuto.mp3","oboe_B4_phrase_mezzo-forte_tongued-slur.mp3","oboe_B5_025_forte_normal.mp3","oboe_B5_025_fortissimo_normal.mp3","oboe_B5_025_mezzo-forte_normal.mp3","oboe_B5_025_piano_normal.mp3","oboe_B5_05_forte_normal.mp3","oboe_B5_05_fortissimo_normal.mp3","oboe_B5_05_mezzo-forte_normal.mp3","oboe_B5_05_piano_normal.mp3","oboe_B5_15_forte_normal.mp3","oboe_B5_15_fortissimo_normal.mp3","oboe_B5_15_mezzo-forte_normal.mp3","oboe_B5_15_piano_normal.mp3","oboe_B5_1_forte_major-trill.mp3","oboe_B5_1_forte_minor-trill.mp3","oboe_B5_1_forte_normal.mp3","oboe_B5_1_fortissimo_normal.mp3","oboe_B5_1_mezzo-forte_normal.mp3","oboe_B5_1_piano_normal.mp3","oboe_C4_025_forte_normal.mp3","oboe_C4_025_fortissimo_normal.mp3","oboe_C4_025_mezzo-forte_normal.mp3","oboe_C4_025_piano_normal.mp3","oboe_C4_05_forte_normal.mp3","oboe_C4_05_fortissimo_normal.mp3","oboe_C4_05_mezzo-forte_normal.mp3","oboe_C4_05_piano_normal.mp3","oboe_C4_15_forte_normal.mp3","oboe_C4_15_fortissimo_normal.mp3","oboe_C4_15_mezzo-forte_normal.mp3","oboe_C4_15_piano_normal.mp3","oboe_C4_1_forte_normal.mp3","oboe_C4_1_fortissimo_normal.mp3","oboe_C4_1_mezzo-forte_normal.mp3","oboe_C4_1_piano_normal.mp3","oboe_C5_1_forte_normal.mp3","oboe_C5_1_fortissimo_normal.mp3","on_a_star.wav","parking_garage.wav","rays.wav","right_glass_triangle.wav","ruby_room.wav","scala_milan_opera_hall.wav","small_drum_room.wav","small_prehistoric_cave.wav","st_nicolaes_church.wav","trig_room.wav","vocal_duo.wav"]},"/Library/Kit1":{folders:[],files:["36-Ludwig26Kick-1.wav","36-Ludwig26Kick-2.wav","36-Ludwig26Kick-3.wav","36-Ludwig26Kick-4.wav","36-Ludwig26Kick-5.wav","36-Pearl22Kick-1.wav","36-Pearl22Kick-2.wav","36-Pearl22Kick-3.wav","36-Pearl22Kick-4.wav","36-Pearl22Kick-5.wav","37-SideStick-1.wav","37-Sidestick2-1.wav","37-Sidestick2-2.wav","37-Sidestick2-3.wav","37-Sidestick2-4.wav","37-Sidestick2-5.wav","37-SideStick-2.wav","37-SideStick-3.wav","37-SideStick-4.wav","37-SideStick-5.wav","38-PearlSnare-1.wav","38-PearlSnare2-1.wav","38-PearlSnare2-2.wav","38-PearlSnare2-3.wav","38-PearlSnare2-4.wav","38-PearlSnare2-5.wav","38-PearlSnare-2.wav","38-PearlSnare-3.wav","38-PearlSnare-4.wav","38-PearlSnare-5.wav","38-PorkpieSnare-1.wav","38-PorkpieSnare-2.wav","38-PorkpieSnare-3.wav","38-PorkpieSnare-4.wav","38-PorkpieSnare-5.wav","39-HandClap-1.wav","39-HandClap-2.wav","39-HandClap-3.wav","39-HandClap-4.wav","39-HandClap-5.wav","40-PearlSnare2Edge-1.wav","40-PearlSnare2Edge-2.wav","40-PearlSnare2Edge-3.wav","40-PearlSnare2Edge-4.wav","40-PearlSnare2Edge-5.wav","40-PearlSnareEdge-1.wav","40-PearlSnareEdge-2.wav","40-PearlSnareEdge-3.wav","40-PearlSnareEdge-4.wav","40-PearlSnareEdge-5.wav","40-PorkpieSnareEdge-1.wav","40-PorkpieSnareEdge-2.wav","40-PorkpieSnareEdge-3.wav","40-PorkpieSnareEdge-4.wav","40-PorkpieSnareEdge-5.wav","41-Ludwig16FloorTom-1.wav","41-Ludwig16FloorTom-2.wav","41-Ludwig16FloorTom-3.wav","41-Ludwig16FloorTom-4.wav","41-Ludwig16FloorTom-5.wav","41-Pearl16FloorTom-1.wav","41-Pearl16FloorTom-2.wav","41-Pearl16FloorTom-3.wav","41-Pearl16FloorTom-4.wav","41-Pearl16FloorTom-5.wav","42-SabianRockHatClosed-1.wav","42-SabianRockHatClosed-2.wav","42-SabianRockHatClosed-3.wav","42-SabianRockHatClosed-4.wav","42-SabianRockHatClosed-5.wav","43-Ludwig16FloorTomEdge-1.wav","43-Ludwig16FloorTomEdge-2.wav","43-Ludwig16FloorTomEdge-3.wav","43-Ludwig16FloorTomEdge-4.wav","43-Ludwig16FloorTomEdge-5.wav","43-Ludwig18FloorTom-1.wav","43-Ludwig18FloorTom-2.wav","43-Ludwig18FloorTom-3.wav","43-Ludwig18FloorTom-4.wav","43-Ludwig18FloorTom-5.wav","43-Ludwig18FloorTomEdge-1.wav","43-Ludwig18FloorTomEdge-2.wav","43-Ludwig18FloorTomEdge-3.wav","43-Ludwig18FloorTomEdge-4.wav","43-Ludwig18FloorTomEdge-5.wav","43-Pearl16FloorTomEdge-1.wav","43-Pearl16FloorTomEdge-2.wav","43-Pearl16FloorTomEdge-3.wav","43-Pearl16FloorTomEdge-4.wav","43-Pearl16FloorTomEdge-5.wav","44-SabianRockHatPedal-1.wav","44-SabianRockHatPedal-2.wav","44-SabianRockHatPedal-3.wav","44-SabianRockHatPedal-4.wav","44-SabianRockHatPedal-5.wav","45-Ludwig14Tom-1.wav","45-Ludwig14Tom-2.wav","45-Ludwig14Tom-3.wav","45-Ludwig14Tom-4.wav","45-Ludwig14Tom-5.wav","45-Pearl12Tom-1.wav","45-Pearl12Tom-2.wav","45-Pearl12Tom-3.wav","45-Pearl12Tom-4.wav","45-Pearl12Tom-5.wav","46-SabianRockHatSemiOpen-1.wav","46-SabianRockHatSemiOpen-2.wav","46-SabianRockHatSemiOpen-3.wav","46-SabianRockHatSemiOpen-4.wav","46-SabianRockHatSemiOpen-5.wav","47-Ludwig14TomEdge-1.wav","47-Ludwig14TomEdge-2.wav","47-Ludwig14TomEdge-3.wav","47-Ludwig14TomEdge-4.wav","47-Ludwig14TomEdge-5.wav","47-Pearl12TomEdge-1.wav","47-Pearl12TomEdge-2.wav","47-Pearl12TomEdge-3.wav","47-Pearl12TomEdge-4.wav","47-Pearl12TomEdge-5.wav","47-Pearl13Tom2-1.wav","47-Pearl13Tom2-2.wav","47-Pearl13Tom2-3.wav","47-Pearl13Tom2-4.wav","47-Pearl13Tom2-5.wav","48-SabianRockHatSwish-1.wav","48-SabianRockHatSwish-2.wav","48-SabianRockHatSwish-3.wav","48-SabianRockHatSwish-4.wav","48-SabianRockHatSwish-5.wav","49-SabianAA16Crash-1.wav","49-SabianAA16Crash-2.wav","49-SabianAA16Crash-3.wav","49-SabianAA16Crash-4.wav","49-SabianAA16Crash-5.wav","49-ZildjianA20Crash-1.wav","49-ZildjianA20Crash-2.wav","49-ZildjianA20Crash-3.wav","49-ZildjianA20Crash-4.wav","49-ZildjianA20Crash-5.wav","50-SabianAA16CrashChoke.wav","50-ZildjianA20CrashChoke.wav","51-SabianAAX20Ride-1.wav","51-SabianAAX20Ride-2.wav","51-SabianAAX20Ride-3.wav","51-SabianAAX20Ride-4.wav","51-SabianAAX20Ride-5.wav","51-ZildjianA24Ride-1.wav","51-ZildjianA24Ride-2.wav","51-ZildjianA24Ride-3.wav","51-ZildjianA24Ride-4.wav","51-ZildjianA24Ride-5.wav","52-SabianAAX20RideChoke.wav","52-ZildjianA24RideChoke.wav","53-SabianAAX20RideBell-1.wav","53-SabianAAX20RideBell-2.wav","53-SabianAAX20RideBell-3.wav","53-SabianAAX20RideBell-4.wav","53-SabianAAX20RideBell-5.wav","53-ZildjianA24RideBell-1.wav","53-ZildjianA24RideBell-2.wav","53-ZildjianA24RideBell-3.wav","53-ZildjianA24RideBell-4.wav","53-ZildjianA24RideBell-5.wav","54-Tambourine-1.wav","54-Tambourine-2.wav","54-Tambourine-3.wav","54-Tambourine-4.wav","54-Tambourine-5.wav","55-ZildjianA10Splash-1.wav","55-ZildjianA10Splash-2.wav","55-ZildjianA10Splash-3.wav","55-ZildjianA10Splash-4.wav","55-ZildjianA10Splash-5.wav","56-Cowbell-1.wav","56-Cowbell-2.wav","56-Cowbell-3.wav","56-Cowbell-4.wav","56-Cowbell-5.wav","57-SabianAAX17Crash-1.wav","57-SabianAAX17Crash-2.wav","57-SabianAAX17Crash-3.wav","57-SabianAAX17Crash-4.wav","57-SabianAAX17Crash-5.wav","57-ZildjianK17Crash-1.wav","57-ZildjianK17Crash-2.wav","57-ZildjianK17Crash-3.wav","57-ZildjianK17Crash-4.wav","57-ZildjianK17Crash-5.wav","58-SabianAAX17CrashChoke.wav","58-ZildjianK17CrashChoke.wav","59-SabianAAX20RideShank-1.wav","59-SabianAAX20RideShank-2.wav","59-SabianAAX20RideShank-3.wav","59-SabianAAX20RideShank-4.wav","59-SabianAAX20RideShank-5.wav","59-ZildjianA24RideShank-1.wav","59-ZildjianA24RideShank-2.wav","59-ZildjianA24RideShank-3.wav","59-ZildjianA24RideShank-4.wav","59-ZildjianA24RideShank-5.wav","60-Paiste2002-22-1.wav","60-Paiste2002-22-2.wav","60-Paiste2002-22-3.wav","60-Paiste2002-22-4.wav","60-Paiste2002-22-5.wav","61-RotoTomHi-1.wav","61-RotoTomHi-2.wav","61-RotoTomHi-3.wav","61-RotoTomHi-4.wav","61-RotoTomHi-5.wav","62-RotoTomMid-1.wav","62-RotoTomMid-2.wav","62-RotoTomMid-3.wav","62-RotoTomMid-4.wav","62-RotoTomMid-5.wav","63-RotoTomLo-1.wav","63-RotoTomLo-2.wav","63-RotoTomLo-3.wav","63-RotoTomLo-4.wav","63-RotoTomLo-5.wav","64-Maraca-1.wav","64-Maraca-2.wav","64-Maraca-3.wav","64-Maraca-4.wav","64-Maraca-5.wav","707-bd.mp3","707-ch.mp3","707-clap.mp3","707-oh.mp3","707-sd-high.mp3","707-sd-low.mp3","707-tamb.mp3","808-bd-long.mp3","808-bd-short.mp3","808-ch.mp3","808-clap.mp3","808-clav.mp3","808-cowbell.mp3","808-cym.mp3","808-ht.mp3","808-lt.mp3","808-mt.mp3","808-oh.mp3","808-rs.mp3","808-sd.mp3","acetone-bd.mp3","acetone-ch.mp3","acetone-oh.mp3","acetone-perc-1.mp3","acetone-perc-2.mp3","acetone-sd-1.mp3","acetone-sd-2.mp3","hip-hop-bd-1.mp3","hip-hop-bd-2.mp3","hip-hop-ch-1.mp3","hip-hop-ch-2.mp3","hip-hop-oh.mp3","hip-hop-sd-1.mp3","hip-hop-sd-2.mp3","linn-bd.mp3","linn-ch.mp3","linn-clap.mp3","linn-cowbell.mp3","linn-ht.mp3","linn-lt.mp3","linn-mt.mp3","linn-ph.mp3","linn-rim.mp3","linn-sd-high.mp3","linn-sd-low.mp3","linn-sd.mp3","linn-tamb.mp3","Red_Zeppelin_4pc.sfz","Red_Zeppelin_5pc.sfz"]},"/Library/Kit2":{folders:[],files:["b00.wav","b1.wav","b2.wav","b3.wav","b4.wav","b5.wav","b6.wav","b7.wav","b8.wav","b9.wav","b10.wav","b11.wav","b12.wav","b13.wav","flute13.mp3","flute14.mp3","flute15.mp3","flute16.mp3","flute17.mp3","flute18.mp3","flute19.mp3","flute20.mp3","flute21.mp3","flute22.mp3","flute23.mp3","flute24.mp3","flute25.mp3","s1.mp3","s2.mp3","s3.mp3","s4.mp3","s5.mp3","s6.mp3","s7.mp3","s8.mp3","s9.mp3","s10.mp3","s11.mp3","s12.mp3","s13.mp3","s14.mp3","s15.mp3","s16.mp3","s17.mp3","s18.mp3","s19.mp3","s20.mp3","s21.mp3","s22.mp3","viol1.mp3","viol2.mp3","viol3.mp3","viol4.mp3","viol5.mp3","viol6.mp3","viol7.mp3","viol8.mp3","viol9.mp3","viol13.mp3","w43.mp3","w44.mp3","w45.mp3","w46.mp3","w47.mp3","w48.mp3","w49.mp3","w50.mp3","w51.mp3","w52.mp3","w53.mp3","w54.mp3","w55.mp3","w62.mp3","w63.mp3","w64.mp3","w65.mp3","w66.mp3","w70.mp3","w71.mp3","w72.mp3","w73.mp3","w74.mp3","w75.mp3","w76.mp3","w80.mp3"]},"/Song":{folders:["Key","Scale","Swing"],files:["Load","Save","Save As","Export","Render","Fullscreen","BPM"]},"/Song/Key":{folders:[],files:["C","C#","Db","D","D#","Eb","E","E#","Fb","F","F#","Gb","G","G#","Ab","A","A#","Bb","B","B#","Cb"]},"/Song/Scale":{folders:[],files:[]},"/Song/Swing":{folders:[],files:["1n","2n","4n","8n","16n","32n","64n"]}}},756:function(e,t,o){e.exports=o(857)},761:function(e,t,o){},853:function(e,t,o){},857:function(e,t,o){"use strict";o.r(t);var n=o(1),i=o.n(n),r=o(585),a=o.n(r),s=(o(761),o(3)),l=o(4),c=o(6),p=o(5),d=o(7),m=o(9),u=o(2),b=o(24),f=o(12),h=o(21),g=o(8),_=o(0),y=o(67),v=o(80),j=o(43),w=o(13),k=o.n(w),N=o(737),E=["Waveform","Compressor","MidSideCompressor","LowpassCombFilter","PanVol","Split","CrossFade","Envelope","Gate","FFT","MultibandSplit","FeedbackCombFilter","MultibandCompressor","Solo","Limiter","Mono","Meter","EQ3","LFO","Panner","FrequencyEnvelope","ScaledEnvelope","Analyser","Follower","AmplitudeEnvelope","Volume","Panner3D","Merge","MidSideMerge","Filter","MidSideSplit","Chorus","AutoPanner","AutoWah","PitchShift","StereoWidener","Tremolo","Effect","PingPongDelay","MidSideEffect","Convolver","StereoFeedbackEffect","Chebyshev","StereoEffect","Vibrato","BitCrusher","StereoXFeedbackEffect","FeedbackEffect","Reverb","Distortion","JCReverb","Freeverb","AutoFilter","FeedbackDelay","Phaser","Instrument","NoiseSynth","Synth","AMSynth","DuoSynth","Sampler","FMSynth","MonoSynth","PluckSynth","MetalSynth","PolySynth","Monophonic","MembraneSynth","TickSource","FatOscillator","Players","OmniOscillator","PWMOscillator","Player","BufferSource","AMOscillator","OscillatorNode","UserMedia","GrainPlayer","Noise","Source","Oscillator","PulseOscillator","FMOscillator","TinySynth"],T=o(859),S=o(738),O=o(739),x=o.n(O),C=o(64),B=o(740);function M(e,t){var o="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,t){if(!e)return;if("string"===typeof e)return I(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return I(e,t)}(e))||t&&e&&"number"===typeof e.length){o&&(e=o);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,s=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){s=!0,r=e},f:function(){try{a||null==o.return||o.return()}finally{if(s)throw r}}}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}"03B80E5A-EDE8-4B33-A751-6CE34EC4C700".toLowerCase(),"7772E5DB-3868-4112-A1A9-F2669D106BF3".toLowerCase();function D(e){console.log("WebMIDI enabled");var t,o=M(e.inputs.values());try{for(o.s();!(t=o.n()).done;){t.value.onmidimessage=L}}catch(n){o.e(n)}finally{o.f()}}function P(){console.log("Could not access your MIDI devices.")}var A=B(function(e){Vt.getTracksByGroup(Vt.ui.selectedGroup).forEach(function(t,o){if("audio"===t.type){var n=Vt.instruments.getPlayerByTrack(t.id);n.playbackRate!==e&&n.setModelPlaybackRate(e)}})},50);function L(e){var t,o,n;switch(3===e.data.length?(t=e.data[0],o=e.data[1],n=e.data[2]):6===e.data.length&&(t=(o=e.data[4].toString(16))>=41&&o<=44?"GroupChange":"TransportChange"),t){case 176:if(1===o){var i=parseFloat(W(n,0,127,0,2).toFixed(2));A(i),function(e){Vt.getTracksByGroup(Vt.ui.selectedGroup).forEach(function(t,o){if("audio"===t.type){var n=ne.instruments.find(function(e){return e.track===t.id});n&&n.obj&&(n.obj.playbackRate=e)}})}(i)}break;case 144:F(o);break;case 128:V(o);break;case"TransportChange":R(e);break;case"GroupChange":z(function(e){for(var t=e.toString(),o="",n=0;n<t.length;n+=2)o+=String.fromCharCode(parseInt(t.substr(n,2),16));return o}(o))}}var z=function(e){Vt.ui.selectedGroup!==e&&Vt.ui.selectGroup(e)},R=function(e){var t,o=e.data[4];2===o?(t=document.getElementById("btnTransportTogglePlay"))&&t.click():40===o&&(t=document.getElementById("btnTransportToggleRecord"))&&t.click()};var F=function(e){Vt.getTracksByGroup(Vt.ui.selectedGroup).forEach(function(t,o){if(e-60===o)if("audio"===t.type){if("button"===Vt.ui.viewMode&&Vt.ui.selectedGroup===t.group){var n=document.getElementById("divGridButton_"+t.id);n&&document.createEvent&&n.dispatchEvent(new PointerEvent("pointerdown",{bubbles:!0}))}else{var i=ne.instruments.find(function(e){return e.track===t.id});i&&i.obj&&i.obj.buffer.loaded&&i.obj.start()}Vt.ui.selectTrack(t.id)}else"instrument"===t.type&&ne.trackInstNoteOn(t.id,["C3"]);else if("audio"===t.type){var r=ne.instruments.find(function(e){return e.track===t.id});if(r&&r.obj&&r.obj.buffer.loaded&&(r.obj.stop(),"button"===Vt.ui.viewMode)){var a=document.getElementById("divGridButton_"+t.id);if(a){var s=a.querySelector(".divGridButtonProgress");s&&(s.style.animation="none")}}}})},V=function(e){Vt.getTracksByGroup(Vt.ui.selectedGroup).forEach(function(t,o){e-60===o&&"instrument"===t.type&&ne.trackInstNoteOff(t.id,["C3"])})};var G=o(94);function U(){U=function(){return e};var e={},t=Object.prototype,o=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,o){return e[t]=o}}function l(e,t,o,n){var i=t&&t.prototype instanceof d?t:d,r=Object.create(i.prototype),a=new k(n||[]);return r._invoke=function(e,t,o){var n="suspendedStart";return function(i,r){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw r;return E()}for(o.method=i,o.arg=r;;){var a=o.delegate;if(a){var s=v(a,o);if(s){if(s===p)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===n)throw n="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n="executing";var l=c(e,t,o);if("normal"===l.type){if(n=o.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n="completed",o.method="throw",o.arg=l.arg)}}}(e,o,a),r}function c(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var p={};function d(){}function m(){}function u(){}var b={};s(b,i,function(){return this});var f=Object.getPrototypeOf,h=f&&f(f(N([])));h&&h!==t&&o.call(h,i)&&(b=h);var g=u.prototype=d.prototype=Object.create(b);function _(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function y(e,t){var n;this._invoke=function(i,r){function a(){return new t(function(n,a){!function n(i,r,a,s){var l=c(e[i],e,r);if("throw"!==l.type){var p=l.arg,d=p.value;return d&&"object"==typeof d&&o.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(d).then(function(e){p.value=e,a(p)},function(e){return n("throw",e,a,s)})}s(l.arg)}(i,r,n,a)})}return n=n?n.then(a,a):a()}}function v(e,t){var o=e.iterator[t.method];if(void 0===o){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,v(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=c(o,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:E}}function E(){return{value:void 0,done:!0}}return m.prototype=u,s(g,"constructor",u),s(u,"constructor",m),m.displayName=s(u,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(y.prototype),s(y.prototype,r,function(){return this}),e.AsyncIterator=y,e.async=function(t,o,n,i,r){void 0===r&&(r=Promise);var a=new y(l(t,o,n,i),r);return e.isGeneratorFunction(o)?a:a.next().then(function(e){return e.done?e.value:a.next()})},_(g),s(g,a,"Generator"),s(g,i,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var n=t.pop();if(n in e)return o.value=n,o.done=!1,o}return o.done=!0,o}},e.values=N,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(o,n){return a.type="throw",a.arg=e,t.next=o,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var s=o.call(r,"catchLoc"),l=o.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),w(o),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var i=n.arg;w(o)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:N(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=void 0),p}},e}function W(e,t,o,n,i){return(e-t)*(i-n)/(o-t)+n}function H(){var e={},t={},o=!1,n=!1;function i(e,n){var i=e.target,r=parseFloat(i.getAttribute("data-x"))||0,a=parseFloat(i.getAttribute("data-y"))||0;if(e.dx&&(r+=e.dx),e.dy&&("sequencer"===Vt.ui.viewMode||"edit"===Vt.ui.viewMode&&"bar"===Vt.ui.views.edit.mode)&&(a+=e.dy),i.setAttribute("data-x",r),i.setAttribute("data-y",a),void 0===e.dx&&void 0===e.dy&&(o=!0),o){if(i.style.webkitTransform=i.style.transform="translate("+r+"px, "+a+"px)",(Vt.ui.mixMode||"button"===Vt.ui.viewMode||"edit"===Vt.ui.viewMode)&&("edit"!==Vt.ui.viewMode||"edit"===Vt.ui.viewMode&&"bar"!==Vt.ui.views.edit.mode)){var s=document.getElementsByClassName("track-rowmix");if(s.length>0)for(var l=0;l<s.length;l++)s[l].style.webkitTransform=s[l].style.transform="translate("+-1*r+"px)"}var c=40;"edit"===Vt.ui.viewMode&&"bar"===Vt.ui.views.edit.mode&&(c=80);var p=document.getElementById("divGridTimeline");if(p){var d=parseInt(document.getElementById("gridParent").style.top.replace("px",""),10);if(isNaN(d))p.style.webkitTransform=p.style.transform="translateY("+-1*a+"px)";else if(d===c)p.style.webkitTransform=p.style.transform="translateY("+-1*a+"px)";else{var m=c-d-a;p.style.webkitTransform=p.style.transform="translateY("+m+"px)"}}}else n&&!o&&(i.setAttribute("data-x",t.x),i.setAttribute("data-y",t.y))}k.a.isSet(document.querySelector("body"))||k()(document.querySelector("body")).on("down",function(t){e={x:t.x,y:t.y}}).on("move",function(t){e&&n&&(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)|0).toFixed(3)>60&&(o=!0))}),k()("#gridContainer").draggable({inertia:!0,restrict:{restriction:"parent",endOnly:!0,elementRect:{top:0,left:0,bottom:1,right:1}},autoScroll:!1,ignoreFrom:".track-rowmix",onmove:function(e){i(e)},onstart:function(e){t.x=parseFloat(e.target.getAttribute("data-x"))||0,t.y=parseFloat(e.target.getAttribute("data-y"))||0,n=!0},onend:function(t){i(t,!0),n=!1,o=!1,e=void 0}})}function q(e,t){return new Promise(function(o,n){t=t||{};var i,r=e.numberOfChannels,a=e.sampleRate,s=t.float32?3:1,l=3===s?32:16;i=2===r?[e.getChannelData(0),e.getChannelData(1)]:e.getChannelData(0);var c=new Worker("/Worker_RenderBuffer.js");c.onmessage=function(e){var t=new Blob([e.data],{type:"audio/wav"});o(t)},c.postMessage({result:i,format:s,sampleRate:a,numChannels:r,bitDepth:l})})}function K(e,t,o,n){return new Promise(function(i,r){var a=new Worker("/Worker_DrawBuffer.js");a.onmessage=function(e){var r=e.data,a=n,s=Object(T.a)(t).append("canvas").attr("width",o).attr("height",n);if(s&&s.node()&&s.node().getContext("2d")){var l=s.node().getContext("2d");l.lineWidth=1.5,l.strokeStyle="#ff6000",l.beginPath(),Object(h.a)(Array(r.length).keys()).forEach(function(e){var t=a*(r[e][1]-r[e][0]),o=n/2-t;l.moveTo(e,o),l.lineTo(e,o+2*t)}),l.stroke()}i()},a.postMessage({buffer:e,width:o})})}function X(e,t){return Z.apply(this,arguments)}function Z(){return(Z=Object(f.a)(U().mark(function e(t,o){var n,i,r;return U().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.time("renderSong"),o?(i=ne.parts.find(function(e){return e.id===o.id}).player,r=ne.parts.find(function(e){return e.id===o.id}).playerPart,n=Vt.getSceneLength(o.scene.id)):n=Vt.getSongLength(),e.next=4,u.Offline(function(e){var n=e.transport;n.bpm.value=Vt.settings.bpm,n.swing=Vt.settings.swing,n.swingSubdivision=Vt.settings.swingSubdivision;var i={instruments:[],effects:[],components:[],sources:[],parts:[],custom:[]};Y(Vt,i,t);var r=[];if(t)if(o){var a=Vt.getConnectionsByTrack(t.id).filter(function(e){return"split"!==e.dest.split("_")[1]&&"meter"!==e.dest.split("_")[1]});a.filter(function(e){return e.dest!==e.track.getPanVol.id}).forEach(function(e){return e.addConnection(i)}),a.filter(function(e){return e.dest===e.track.getPanVol.id}).forEach(function(e){i[e.srcType+"s"].find(function(t){return t.id===e.src}).obj.connect(u.Destination)}),r.push(o)}else Vt.connections.filter(function(e){return(e.track.id===t.id||"track_master"===e.track.id||e.track.group===t.group&&"master"===e.track.type)&&"split"!==e.dest.split("_")[1]&&"meter"!==e.dest.split("_")[1]}).forEach(function(e){return e.addConnection(i)}),r=Vt.getPatternsByTrack(t.id);else Vt.connections.forEach(function(e){return e.addConnection(i,u.getContext().destination)}),r=Vt.getAllPatterns;r.forEach(function(e){i.parts.push({id:e.id,track:e.track.id}),e.initPart(i);var t=i.parts.find(function(t){return t.id===e.id});e.notes.forEach(function(e){var o=t.obj.at(e.time,{mute:e.mute,note:e.getNote,duration:e.duration,velocity:e.velocity,offset:e.offset,time:e.time});o.probability=e.probability,o.humanize=e.humanize})}),i.effects.filter(function(e){return"reverb"===e.id.split("_")[0]}).forEach(function(e){e.obj._convolver.buffer=ne.effects.find(function(t){return t.id===e.id}).obj._convolver.buffer}),o?n.start(void 0,o.scene.start):n.start()},n).then(function(e){console.timeEnd("renderSong"),o?(ne.parts.find(function(e){return e.id===o.id}).obj.mute=!0,console.log("setting buffer and starting player"),i.buffer.set(e),r.mute=!1,"started"===u.Transport.state&&u.Time(u.Transport.position)>=u.Time(o.scene.start)&&u.Time(u.Transport.position)<u.Time(o.scene.end)&&i.start(void 0,u.Time(u.Transport.position)-u.Time(o.scene.start))):q(e._buffer).then(function(e){N.a.forceDownload(e,Vt.settings.title+".wav")})});case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Y(e,t,o){var n;n=t||ne,Object.keys(n).filter(function(e){return!(n[e]instanceof Function)}).forEach(function(i){if("parts"!==i&&"custom"!==i&&"metronome"!==i){var r=e[i];Object.keys(r).forEach(function(e){r[e].length&&"splits"!==e&&"meters"!==e&&(o?r[e].filter(function(e){return e.track.id===o.id||e.track.group===o.group&&"master"===e.track.type||"track_master"===e.track.id}):r[e]).forEach(function(e){var o={};Object.keys(e).forEach(function(t){"track"!==t&&"id"!==t&&"ui"!==t&&(o[t]=e[t])});var r=e.id.split("_")[0];if("mix"===r?r=e.id.split("_")[1]:"tinysynth"===r&&"components"===i&&(r=e.id.split("_")[1]),"tinysynth"!==r){E.some(function(e){return e.toLowerCase()===r&&(r=e,!0)});var a=e.track;if(t&&(a=e.track.id),"Synth"===r||"AMSynth"===r||"DuoSynth"===r||"Sampler"===r||"FMSynth"===r||"MonoSynth"===r?n.instruments.push({id:e.id,track:a,obj:new u.PolySynth(8,u[r]).set(o)}):n[i].push({id:e.id,track:a,obj:new u[r](o)}),t&&"Player"===r){var s=ne.instruments.find(function(t){return t.id===e.id}).obj;n.instruments.find(function(t){return t.id===e.id}).obj.buffer=s.buffer}}})})}else if("custom"===i){var a=e.instruments.tinysynths;o&&(a=a.filter(function(e){return e.track.id===o.id})),a.forEach(function(e){var o="tinysynth_panvol_"+e.id.split("_")[1],i=n.components.find(function(e){return e.id===o}).obj,r=e.track;t&&(r=e.track.id),n.custom.push({id:e.id,track:r,obj:new window.WebAudioTinySynth({internalcontext:0,useReverb:0})});var a=n.custom.find(function(t){return t.id===e.id}).obj;u.connect(a.setAudioContext(u.context),i),a.send([192,e.instrument])})}})}var Q=function(e){e||(e=Vt.settings),u.Transport.position=e.position,u.Transport.bpm.value=e.bpm,u.Transport.swing=e.swing,u.Transport.swingSubdivision=e.swingSubdivision,u.Transport.loopStart=e.loopStart,u.Transport.loopEnd=e.loopEnd},J=function(){Vt.ui.setWindowWidthHeight(window.innerWidth||document.body.clientWidth,window.innerHeight||document.body.clientHeight)},$=function(){u.supported||alert("Sorry, but this app is not supported by your browser.  Please update to a better option."),document.documentElement.addEventListener("mousedown",function(){u.context._initialized&&"running"!==u.context.state&&u.start()}),document.addEventListener("contextmenu",function(e){return e.preventDefault()}),window.addEventListener("load",function(){function e(e){navigator.onLine}window.addEventListener("online",e),window.addEventListener("offline",e)}),document.addEventListener("visibilitychange",function(){}),window.addEventListener("resize",G(J,75)),J(),Q(),Vt.ui.setDevice(),navigator.requestMIDIAccess?navigator.requestMIDIAccess({sysex:!0}).then(D,P):console.log("WebMIDI is not supported in this browser."),C["/Song/Scale"].files.push.apply(C["/Song/Scale"].files,b.c.names())},ee=function(){var e=b.c.notes(Vt.settings.key,Vt.settings.scale),t=Math.floor(8*Math.random())+0,o=[e[Math.floor(Math.random()*(e.length-0))]+t];return void 0!==Vt.ui.selectedChord&&(o=b.a.notes(o[0],Vt.ui.selectedChord)),o};function te(){te=function(){return e};var e={},t=Object.prototype,o=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},i=n.iterator||"@@iterator",r=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function s(e,t,o){return Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(T){s=function(e,t,o){return e[t]=o}}function l(e,t,o,n){var i=t&&t.prototype instanceof d?t:d,r=Object.create(i.prototype),a=new k(n||[]);return r._invoke=function(e,t,o){var n="suspendedStart";return function(i,r){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===i)throw r;return E()}for(o.method=i,o.arg=r;;){var a=o.delegate;if(a){var s=v(a,o);if(s){if(s===p)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if("suspendedStart"===n)throw n="completed",o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);n="executing";var l=c(e,t,o);if("normal"===l.type){if(n=o.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:o.done}}"throw"===l.type&&(n="completed",o.method="throw",o.arg=l.arg)}}}(e,o,a),r}function c(e,t,o){try{return{type:"normal",arg:e.call(t,o)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var p={};function d(){}function m(){}function u(){}var b={};s(b,i,function(){return this});var f=Object.getPrototypeOf,h=f&&f(f(N([])));h&&h!==t&&o.call(h,i)&&(b=h);var g=u.prototype=d.prototype=Object.create(b);function _(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function y(e,t){var n;this._invoke=function(i,r){function a(){return new t(function(n,a){!function n(i,r,a,s){var l=c(e[i],e,r);if("throw"!==l.type){var p=l.arg,d=p.value;return d&&"object"==typeof d&&o.call(d,"__await")?t.resolve(d.__await).then(function(e){n("next",e,a,s)},function(e){n("throw",e,a,s)}):t.resolve(d).then(function(e){p.value=e,a(p)},function(e){return n("throw",e,a,s)})}s(l.arg)}(i,r,n,a)})}return n=n?n.then(a,a):a()}}function v(e,t){var o=e.iterator[t.method];if(void 0===o){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,v(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=c(o,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var i=n.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:E}}function E(){return{value:void 0,done:!0}}return m.prototype=u,s(g,"constructor",u),s(u,"constructor",m),m.displayName=s(u,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,u):(e.__proto__=u,s(e,a,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},_(y.prototype),s(y.prototype,r,function(){return this}),e.AsyncIterator=y,e.async=function(t,o,n,i,r){void 0===r&&(r=Promise);var a=new y(l(t,o,n,i),r);return e.isGeneratorFunction(o)?a:a.next().then(function(e){return e.done?e.value:a.next()})},_(g),s(g,a,"Generator"),s(g,i,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var o in e)t.push(o);return t.reverse(),function o(){for(;t.length;){var n=t.pop();if(n in e)return o.value=n,o.done=!1,o}return o.done=!0,o}},e.values=N,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(o,n){return a.type="throw",a.arg=e,t.next=o,n&&(t.method="next",t.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var s=o.call(r,"catchLoc"),l=o.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.finallyLoc===e)return this.complete(o.completion,o.afterLoc),w(o),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var o=this.tryEntries[t];if(o.tryLoc===e){var n=o.completion;if("throw"===n.type){var i=n.arg;w(o)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,o){return this.delegate={iterator:N(e),resultName:t,nextLoc:o},"next"===this.method&&(this.arg=void 0),p}},e}var oe=function(){return Math.random().toString(36).substr(2,5)},ne={instruments:[],effects:[],components:[],sources:[],parts:[],custom:[],metronome:void 0,initMetronome:function(){if(!ne.metronome){var e=new u.Synth({volume:10,oscillator:{type:"square"},envelope:{attack:.001,decay:.05,sustain:.05,release:.05}}).toDestination();ne.metronome=new u.Loop(function(t){0===parseInt(u.Transport.position.split(":")[1],10)?e.triggerAttackRelease("C6","0.001s",t):e.triggerAttackRelease("C5","0.001s",t)},"0:1"),ne.metronome.cancel(0),ne.metronome.start(-1*u.Time("1:0:0")),ne.metronome.mute=!Vt.ui.recordMode}},addAudioObj:function(e,t,o){o+="s";var n=Object(_.c)(t).properties;delete n.id,delete n.track,delete n.ui;var i={},r=!0;if(Object.keys(n).forEach(function(e){i[e]=t[e],r=!1}),r&&(i=void 0),"instruments"===o&&"Player"!==e&&"NoiseSynth"!==e&&"PluckSynth"!==e&&"MembraneSynth"!==e&&"MetalSynth"!==e)ne[o].find(function(e){return e.id===t.id})||ne[o].push({id:t.id,track:t.track.id,obj:new u.PolySynth(u[e]).set(i)});else if(!ne[o].find(function(e){return e.id===t.id})){var a=t.id.split("_")[0];"lfo"===a||"autofilter"===a||"autopanner"===a||"tremolo"===a?(ne[o].push({id:t.id,track:t.track.id,obj:new u[e](i).start("0:0:0")}),ne[o].find(function(e){return e.id===t.id}).obj.sync()):ne[o].push({id:t.id,track:t.track.id,obj:new u[e](i)})}},delAudioObj:function(e,t){var o=ne[t+="s"].find(function(t){return t.id===e});o&&o.obj&&(o.obj.dispose(),ne[t]=ne[t].filter(function(t){return t.id!==e}))},setPropVal:function(e,t,o,n,i,r,a){var s,l,c,p=e.split("_")[0];(s="instrument"===t&&"tinysynth"===p?ne.custom.find(function(t){return t.id===e}).obj:ne[t+"s"].find(function(t){return t.id===e}).obj)&&("instrument"===t&&"player"!==p&&"noisesynth"!==p&&"plucksynth"!==p&&"membranesynth"!==p&&"metalsynth"!==p&&"tinysynth"!==p?(a?r?(l=s.get()[a][r][o],c=a+"."+r+"."+o):(l=s.get()[a][o],c=a+"."+o):r?(l=s.get()[r][o],c=r+"."+o):(l=s.get()[o],c=o),l!==n&&s.set(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split(".").reduceRight(function(e,t){return Object(j.a)({},t,e)},t)}(c,n))):(r&&(s=s[r]),i?s[o].value!==n&&(s[o].value=n):s[o]!==n&&(s[o]=n)))},trackInstNoteOn:function(e,t){ne.instruments.filter(function(t){return t.track===e}).forEach(function(e){if(e.obj){var o=e.id.split("_")[0];"noisesynth"===o?e.obj.triggerAttack():"plucksynth"===o||"membranesynth"===o||"metalsynth"===o?e.obj.triggerAttack(b.b.freq(t[0])):"player"!==o&&e.obj.triggerAttack(t.map(function(e){return b.b.freq(e)}))}});var o=!1;ne.sources.filter(function(t){return t.track===e}).forEach(function(n){o||(ne.parts.filter(function(t){return t.track===e}).forEach(function(e){e.obj.mute||(e.obj.mute=!0)}),o=!0),n.obj&&("noise"!==n.id.split("_")[0]&&(n.obj.frequency.value=b.b.freq(t[0])),n.obj.start())}),ne.custom.filter(function(t){return t.track===e}).forEach(function(e){if(e.obj){var o=Vt.instruments.getInstrumentByTypeId("tinysynth",e.id).channel;if(Vt.ui.selectedChord)t.forEach(function(t){var n=b.b.midi(t);n&&e.obj.send([144+o,n,100],u.context.currentTime)});else{var n=b.b.midi(t[0]);e.obj.send([144+o,n,100],u.context.currentTime)}}}),ne.components.filter(function(t){return t.track===e&&"amplitudeenvelope"===t.id.split("_")[0]}).forEach(function(e){e.obj.triggerAttack()})},trackInstNoteOff:function(e,t,o){ne.instruments.filter(function(t){return t.track===e}).forEach(function(e){if(e.obj){var o=e.id.split("_")[0];"metalsynth"===o||"membranesynth"===o||"noisesynth"===o?e.obj.triggerRelease():"player"!==o&&"plucksynth"!==o&&e.obj.triggerRelease(t.map(function(e){return b.b.freq(e)}))}}),ne.sources.filter(function(t){return t.track===e}).forEach(function(e){if(e.obj){var t=u.now(),o=Vt.getConnectionsByObjId(e.id).filter(function(e){return"amplitudeenvelope"===e.dest.split("_")[0]});if(o.length>0){var n=[];o.forEach(function(e){return n.push(Vt.components.getComponentByTypeId("amplitudeenvelope",e.dest))}),t+=n.sort(function(e,t){return t.release-e.release})[0].release}e.obj.stop(t)}}),o||ne.parts.filter(function(t){return t.track===e}).forEach(function(e){e.obj.mute&&(e.obj.mute=!1)}),ne.custom.filter(function(t){return t.track===e}).forEach(function(e){if(e.obj){var o=Vt.instruments.getInstrumentByTypeId("tinysynth",e.id).channel;if(Vt.ui.selectedChord)t.forEach(function(t){var n=b.b.midi(t);n&&e.obj.send([128+o,n,0],u.context.currentTime)});else{var n=b.b.midi(t[0]);e.obj.send([128+o,n,0],u.context.currentTime)}}}),ne.components.filter(function(t){return t.track===e&&"amplitudeenvelope"===t.id.split("_")[0]}).forEach(function(e){e.obj.triggerRelease()})}},ie=_.g.model("Region",{id:_.g.identifier,url:_.g.maybe(_.g.string),start:_.g.maybe(_.g.number),end:_.g.maybe(_.g.number)}).views(function(e){return{get getRegions(){return{start:e.start,end:e.end}}}}).actions(function(e){return{setRegions:function(t,o){e.start=t,e.end=o},delete:function(){Object(_.b)(e)},afterCreate:function(){},beforeDestroy:function(){}}}),re=_.g.model("Sample",{id:_.g.identifier,url:_.g.maybe(_.g.string),length:_.g.maybe(_.g.number),duration:_.g.maybe(_.g.number),regions:_.g.optional(_.g.array(ie),[])}).views(function(e){return{getRegion:function(t){return e.regions.find(function(e){return e.id===t})}}}).actions(function(e){return{addRegion:function(t,o,n,i){e.regions.push({id:t,url:o,start:n,end:i})},delRegion:function(t){Object(_.b)(e.getRegion(t))},beforeDestroy:function(){},afterAttach:function(){},afterCreate:function(){}}}),ae=_.g.model("TrackMixRow",{mainSelection:_.g.optional(_.g.string,"Vol"),editSelection:_.g.optional(_.g.string,"Dur")}).views(function(e){return{}}).actions(function(e){return{setMainSelection:function(t){e.mainSelection=t},setEditSelection:function(t){e.editSelection=t}}}),se=_.g.model("Track",{id:_.g.identifier,type:_.g.union(_.g.literal("audio"),_.g.literal("instrument"),_.g.literal("master")),mute:_.g.optional(_.g.boolean,!1),solo:_.g.optional(_.g.boolean,!1),sample:_.g.maybe(_.g.reference(re)),region:_.g.maybe(_.g.reference(ie)),group:_.g.maybe(_.g.union(_.g.literal("A"),_.g.literal("B"),_.g.literal("C"),_.g.literal("D"),_.g.literal("M"))),resolution:_.g.optional(_.g.string,"16n"),groupIndex:_.g.maybe(_.g.number),mixRow:ae}).views(function(e){return{get returnRegion(){var t=e.region;return t&&(t=e.region.getRegions),t},get getPlaybackRate(){if("audio"===e.type){var t=Vt.instruments.getPlayerByTrack(e.id);return t?t.playbackRate:1}return 1},get getPanVol(){return"master"===e.type&&"M"!==e.group?Vt.components.getComponentByTypeId("panvol","panvol_"+e.group+"_out"):Vt.components.getAllByTrack(e.id).find(function(e){return"panvol"===e.id.split("_")[0]})}}}).actions(function(e){return{afterCreate:function(){},afterAttach:function(){},delNotes:function(){Vt.getPatternsByTrack(e.id).forEach(function(e){return e.deleteNotes()})},setResolution:function(t){e.resolution=t,Vt.getPatternsByTrack(e.id).forEach(function(e){e.resolution!==t&&e.setResolution(t)})},setGroupIndex:function(t){e.groupIndex=t},moveTrackUp:function(){if(e.groupIndex>0){var t=Vt.getTracksByGroup(e.group).find(function(t){return t.groupIndex===e.groupIndex-1});t&&(t.setGroupIndex(e.groupIndex),e.groupIndex-=1)}},moveTrackDown:function(){if(e.groupIndex<Vt.getTracksByGroup(e.group).length-1){var t=Vt.getTracksByGroup(e.group).find(function(t){return t.groupIndex===e.groupIndex+1});t&&(t.setGroupIndex(e.groupIndex),e.groupIndex+=1)}},setGroup:function(t){e.group=t},toggleMute:function(t){e.mute=void 0===t?!e.mute:t;var o=e.getPanVol;o&&o.setPropVal("mute",e.mute)},toggleSolo:function(){e.solo=!e.solo;var t=Vt.getTracksByGroup(e.group);"master"===e.type&&(t=Vt.getTracksByGroup("M").filter(function(e){return"M"!==e.group}),Vt.components.solos.find(function(t){return t.track.id===e.id}).setPropVal("solo",e.solo)),t.some(function(e){return e.solo})?t.forEach(function(e){e.mute||e.solo?e.mute&&e.solo&&e.toggleMute():e.toggleMute()}):t.forEach(function(e){e.mute&&e.toggleMute()})},toggleGroup:function(){var t=["A","B","C","D"],o=t.indexOf(e.group);Vt.getTracksByGroup(e.group).filter(function(t){return t.groupIndex>e.groupIndex}).forEach(function(e){return e.setGroupIndex(e.groupIndex-1)}),o===t.length-1?e.setGroup(t[0]):e.setGroup(t[o+1]),e.groupIndex=Vt.getTracksByGroup(e.group).length-1}}}),le=_.g.model("UIObj",{x:_.g.maybe(_.g.number),y:_.g.maybe(_.g.number)}).views(function(e){return{}}).actions(function(e){return{setCoords:function(t,o){e.x=t,e.y=o}}}),ce=_.g.model("Connection",{id:_.g.identifier,track:_.g.reference(se),src:_.g.maybe(_.g.string),dest:_.g.maybe(_.g.string),srcType:_.g.maybe(_.g.string),destType:_.g.maybe(_.g.string),numOut:_.g.optional(_.g.number,0),numIn:_.g.optional(_.g.number,0),signal:_.g.maybe(_.g.string)}).actions(function(e){return{addConnection:function(t,o){var n,i;"tinysynth"===e.src.split("_")[0]&&"component"!==e.srcType&&(e.srcType="component");var r=ne[e.srcType+"s"],a=ne[e.destType+"s"];if(t&&(r=t[e.srcType+"s"],a=t[e.destType+"s"]),"master"!==e.src&&"master"!==e.dest)if(n=r.find(function(t){return t.id===e.src}).obj,i=a.find(function(t){return t.id===e.dest}).obj,e.signal){var s=e.dest.split("_")[0];"detune"!==e.signal&&"instrument"===e.destType&&"player"!==s&&"noisesynth"!==s&&"plucksynth"!==s&&"membranesynth"!==s&&"metalsynth"!==s&&"tinysynth"!==s?i.voices.forEach(function(t){n.connect(t[e.signal])}):n.connect(i[e.signal])}else n.connect(i,e.numOut,e.numIn);else"master"===e.dest?(n=r.find(function(t){return t.id===e.src}).obj,t?n.connect(o,e.numOut,e.numIn):n.connect(u.Destination,e.numOut,e.numIn)):"master"===e.src&&(i=a.find(function(t){return t.id===e.dest}).obj,t?o.connect(i,e.numOut,e.numIn):u.Destination.connect(i,e.numOut,e.numIn))},afterAttach:function(){e.addConnection()},beforeDestroy:function(){var t,o,n=ne[e.srcType+"s"],i=ne[e.destType+"s"];if("master"!==e.src&&"master"!==e.dest)if(t=n.find(function(t){return t.id===e.src}).obj,o=i.find(function(t){return t.id===e.dest}).obj,e.signal){var r=e.dest.split("_")[0];"detune"!==e.signal&&"instrument"===e.destType&&"player"!==r&&"noisesynth"!==r&&"plucksynth"!==r&&"membranesynth"!==r&&"metalsynth"!==r&&"tinysynth"!==r?o.voices.forEach(function(o){t.disconnect(o[e.signal])}):t.disconnect(o[e.signal])}else t.disconnect(o,e.numOut,e.numIn);else"master"===e.dest?(t=n.find(function(t){return t.id===e.src}).obj).disconnect(u.Destination,e.numOut,e.numIn):"master"===e.src&&(o=i.find(function(t){return t.id===e.dest}).obj,u.Destination.disconnect(o,e.numOut,e.numIn))}}}),pe=_.g.model("Filter",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),type:_.g.optional(_.g.enumeration("filter",["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"]),"lowpass"),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),350),rolloff:_.g.optional(_.g.number,-12),Q:_.g.optional(_.g.number,1),gain:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){},afterAttach:function(){e.ui||void 0===e.track||(e.ui=le.create()),void 0!==e.track&&Object(_.d)(e,2).addToneObj("Filter",e)},beforeDestroy:function(){void 0!==e.track&&Object(_.d)(e,2).delToneObj(e.id)}}}),de=_.g.model("AutoFilter",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),"8n"),type:_.g.optional(_.g.enumeration("wave",["sine","triangle","sawtooth","square","custom"]),"sine"),depth:_.g.optional(_.g.number,1),baseFrequency:_.g.optional(_.g.union(_.g.number,_.g.string),200),octaves:_.g.optional(_.g.number,2.6),filter:pe,ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){i?e[i][t]=o:e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("AutoFilter",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),me=_.g.model("AutoPanner",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),"8n"),type:_.g.optional(_.g.enumeration("wave",["sine","triangle","sawtooth","square"]),"sine"),depth:_.g.optional(_.g.number,1),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("AutoPanner",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),ue=_.g.model("AutoWah",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),baseFrequency:_.g.optional(_.g.union(_.g.number,_.g.string),100),octaves:_.g.optional(_.g.number,6),sensitivity:_.g.optional(_.g.number,0),Q:_.g.optional(_.g.number,2),gain:_.g.optional(_.g.number,2),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("AutoWah",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),be=_.g.model("BitCrusher",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),bits:_.g.optional(_.g.number,4),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("BitCrusher",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),fe=_.g.model("Chebyshev",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),order:_.g.optional(_.g.number,1),oversample:_.g.optional(_.g.enumeration("oversample",["none","2x","4x"]),"none"),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Chebyshev",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),he=_.g.model("Chorus",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),1.5),delayTime:_.g.optional(_.g.number,3.5),depth:_.g.optional(_.g.number,.7),type:_.g.optional(_.g.enumeration("wave",["sine","triangle","sawtooth","square"]),"sine"),spread:_.g.optional(_.g.number,180),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Chorus",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),ge=_.g.model("Convolver",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),url:_.g.optional(_.g.string,""),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Convolver",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),_e=_.g.model("Distortion",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),distortion:_.g.optional(_.g.number,.8),oversample:_.g.optional(_.g.enumeration("oversample",["none","2x","4x"]),"none"),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Distortion",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),ye=_.g.model("FeedbackDelay",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),delayTime:_.g.optional(_.g.string,"8n"),maxDelay:_.g.optional(_.g.number,1),feedback:_.g.optional(_.g.number,.5),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("FeedbackDelay",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),ve=_.g.model("Freeverb",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),roomSize:_.g.optional(_.g.number,.7),dampening:_.g.optional(_.g.number,3e3),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Freeverb",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),je=_.g.model("JCReverb",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),roomSize:_.g.optional(_.g.number,.5),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("JCReverb",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),we=_.g.model("MidSideEffect",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("MidSideEffect",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),ke=_.g.model("Phaser",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),.5),octaves:_.g.optional(_.g.number,3),stages:_.g.optional(_.g.number,10),Q:_.g.optional(_.g.number,10),baseFrequency:_.g.optional(_.g.union(_.g.number,_.g.string),350),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Phaser",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Ne=_.g.model("PingPongDelay",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),delayTime:_.g.optional(_.g.string,"8n"),maxDelayTime:_.g.optional(_.g.string,"1"),feedback:_.g.optional(_.g.number,.5),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("PingPongDelay",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Ee=_.g.model("PitchShift",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),pitch:_.g.optional(_.g.number,0),windowSize:_.g.optional(_.g.number,.1),delayTime:_.g.optional(_.g.string,"0"),feedback:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("PitchShift",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Te=_.g.model("Reverb",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),decay:_.g.optional(_.g.number,1.5),preDelay:_.g.optional(_.g.number,.01),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Reverb",e),ne.effects.find(function(t){return t.id===e.id}).obj.generate().then(function(){})},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Se=_.g.model("StereoWidener",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),width:_.g.optional(_.g.number,.5),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("StereoWidener",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Oe=_.g.model("Tremolo",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),10),type:_.g.optional(_.g.enumeration("wave",["sine","triangle","sawtooth","square","custom"]),"sine"),depth:_.g.optional(_.g.number,.5),spread:_.g.optional(_.g.number,180),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Tremolo",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),xe=_.g.model("Vibrato",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),wet:_.g.optional(_.g.number,1),maxDelay:_.g.optional(_.g.number,.005),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),5),depth:_.g.optional(_.g.number,.1),type:_.g.optional(_.g.enumeration("wave",["sine","triangle","sawtooth","square","custom"]),"sine"),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"effect",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Vibrato",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Ce=_.g.model("Effects",{autofilters:_.g.maybe(_.g.array(de)),autopanners:_.g.maybe(_.g.array(me)),autowahs:_.g.maybe(_.g.array(ue)),bitcrushers:_.g.maybe(_.g.array(be)),chebyshevs:_.g.maybe(_.g.array(fe)),choruss:_.g.maybe(_.g.array(he)),convolvers:_.g.maybe(_.g.array(ge)),distortions:_.g.maybe(_.g.array(_e)),feedbackdelays:_.g.maybe(_.g.array(ye)),freeverbs:_.g.maybe(_.g.array(ve)),jcreverbs:_.g.maybe(_.g.array(je)),midsideeffects:_.g.maybe(_.g.array(we)),phasers:_.g.maybe(_.g.array(ke)),pingpongdelays:_.g.maybe(_.g.array(Ne)),pitchshifts:_.g.maybe(_.g.array(Ee)),reverbs:_.g.maybe(_.g.array(Te)),stereowideners:_.g.maybe(_.g.array(Se)),tremolos:_.g.maybe(_.g.array(Oe)),vibratos:_.g.maybe(_.g.array(xe))}).views(function(e){return{getEffectByTypeId:function(t,o){return e[t+"s"].find(function(e){return e.id===o})},getAllByTrack:function(t){var o=Object(_.c)(e).properties,n=[];for(var i in o)o.hasOwnProperty(i)&&e[i].filter(function(e){return e.track.id===t}).forEach(function(e){n.push(e)});return n}}}).actions(function(e){return{add:function(t,o){switch(t){case"autofilter":if(!o.oscillator){var n=Object(g.a)({},u.AutoFilter.getDefaults().filter);n.id="filter_"+oe(),o.filter=pe.create(n)}e[t+"s"].push(de.create(o));break;case"autopanner":e[t+"s"].push(me.create(o));break;case"autowah":e[t+"s"].push(ue.create(o));break;case"bitcrusher":e[t+"s"].push(be.create(o));break;case"chebyshev":e[t+"s"].push(fe.create(o));break;case"chorus":e[t+"s"].push(he.create(o));break;case"convolver":e[t+"s"].push(ge.create(o));break;case"distortion":e[t+"s"].push(_e.create(o));break;case"feedbackdelay":e[t+"s"].push(ye.create(o));break;case"freeverb":e[t+"s"].push(ve.create(o));break;case"jcreverb":e[t+"s"].push(je.create(o));break;case"midsideeffect":e[t+"s"].push(we.create(o));break;case"phaser":e[t+"s"].push(ke.create(o));break;case"pingpongdelay":e[t+"s"].push(Ne.create(o));break;case"pitchshift":e[t+"s"].push(Ee.create(o));break;case"reverb":e[t+"s"].push(Te.create(o));break;case"stereowidener":e[t+"s"].push(Se.create(o));break;case"tremolo":e[t+"s"].push(Oe.create(o));break;case"vibrato":e[t+"s"].push(xe.create(o))}},delete:function(t,o){Object(_.b)(e.getEffectByTypeId(t,o))},addToneObj:function(e,t){ne.addAudioObj(e,t,"effect")},delToneObj:function(e){Vt.delConnectionsByObj(e),ne.delAudioObj(e,"effect")}}}),Be=_.g.model("Follower",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),smoothing:_.g.optional(_.g.number,.05)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterAttach:function(){Object(_.d)(e,2).addToneObj("Follower",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Me=_.g.model("Meter",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),smoothing:_.g.optional(_.g.number,.8)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterAttach:function(){Object(_.d)(e,2).addToneObj("Meter",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Ie=_.g.model("PanVol",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),pan:_.g.optional(_.g.number,0),volume:_.g.optional(_.g.number,0),mute:_.g.optional(_.g.boolean,!1),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("PanVol",e)},beforeDestroy:function(){var t=e.id.split("_");"tinysynth"===t[0]&&Vt.instruments.getInstrumentByTypeId("tinysynth","tinysynth_"+t[2]).disconnectFromPanVol();Object(_.d)(e,2).delToneObj(e.id)}}}),De=_.g.model("Split",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se))}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterAttach:function(){Object(_.d)(e,2).addToneObj("Split",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Pe=_.g.model("Limiter",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),threshold:_.g.optional(_.g.number,-12),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Limiter",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Ae=_.g.model("Solo",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),solo:_.g.optional(_.g.boolean,!1)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterAttach:function(){Object(_.d)(e,2).addToneObj("Solo",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Le=_.g.model("Compressor",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),ratio:_.g.optional(_.g.number,12),threshold:_.g.optional(_.g.number,-24),release:_.g.optional(_.g.number,.25),attack:_.g.optional(_.g.number,.003),knee:_.g.optional(_.g.number,30),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){void 0!==e.track&&Object(_.d)(e,2).addToneObj("Compressor",e)},beforeDestroy:function(){void 0!==e.track&&Object(_.d)(e,2).delToneObj(e.id)}}}),ze=_.g.model("MultibandCompressor",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),low:Le,mid:Le,high:Le,lowFrequency:_.g.optional(_.g.number,250),highFrequency:_.g.optional(_.g.number,2e3),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){i?e[i][t]=o:e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("MultibandCompressor",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Re=_.g.model("MidSideCompressor",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),mid:Le,side:Le,ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){i?e[i][t]=o:e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("MidSideCompressor",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Fe=_.g.model("EQ3",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),low:_.g.optional(_.g.number,0),mid:_.g.optional(_.g.number,0),high:_.g.optional(_.g.number,0),lowFrequency:_.g.optional(_.g.union(_.g.number,_.g.string),400),highFrequency:_.g.optional(_.g.union(_.g.number,_.g.string),2500),Q:_.g.optional(_.g.number,1),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("EQ3",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Ve=_.g.model("Mono",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Mono",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Ge=_.g.model("Gate",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),attack:_.g.optional(_.g.number,.1),release:_.g.optional(_.g.number,.1),threshold:_.g.optional(_.g.number,-40),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Gate",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Ue=_.g.model("AmplitudeEnvelope",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),attack:_.g.optional(_.g.number,.1),decay:_.g.optional(_.g.number,.2),sustain:_.g.optional(_.g.number,1),release:_.g.optional(_.g.number,.8),attackCurve:_.g.optional(_.g.union(_.g.string,_.g.array(_.g.number)),"linear"),decayCurve:_.g.optional(_.g.union(_.g.string,_.g.array(_.g.number)),"exponential"),releaseCurve:_.g.optional(_.g.union(_.g.string,_.g.array(_.g.number)),"exponential"),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){},afterAttach:function(){e.ui||void 0===e.track||(e.ui=le.create()),void 0!==e.track&&Object(_.d)(e,2).addToneObj("AmplitudeEnvelope",e)},beforeDestroy:function(){void 0!==e.track&&Object(_.d)(e,2).delToneObj(e.id)}}}),We=_.g.model("Envelope",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),attack:_.g.optional(_.g.number,.01),decay:_.g.optional(_.g.number,.1),sustain:_.g.optional(_.g.number,.5),release:_.g.optional(_.g.number,1),attackCurve:_.g.optional(_.g.union(_.g.string,_.g.array(_.g.number)),"linear"),decayCurve:_.g.optional(_.g.union(_.g.string,_.g.array(_.g.number)),"exponential"),releaseCurve:_.g.optional(_.g.union(_.g.string,_.g.array(_.g.number)),"exponential"),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||void 0===e.track||(e.ui=le.create())},afterAttach:function(){void 0!==e.track&&Object(_.d)(e,2).addToneObj("Envelope",e)},beforeDestroy:function(){void 0!==e.track&&Object(_.d)(e,2).delToneObj(e.id)}}}),He=_.g.model("FrequencyEnvelope",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),attack:_.g.optional(_.g.number,.1),decay:_.g.optional(_.g.number,.2),sustain:_.g.optional(_.g.number,1),release:_.g.optional(_.g.number,.8),baseFrequency:_.g.optional(_.g.union(_.g.number,_.g.string),200),octaves:_.g.optional(_.g.number,4),exponent:_.g.optional(_.g.number,2),attackCurve:_.g.optional(_.g.union(_.g.string,_.g.array(_.g.number)),"linear"),decayCurve:_.g.optional(_.g.union(_.g.string,_.g.array(_.g.number)),"exponential"),releaseCurve:_.g.optional(_.g.union(_.g.string,_.g.array(_.g.number)),"exponential"),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){},afterAttach:function(){e.ui||void 0===e.track||(e.ui=le.create()),void 0!==e.track&&Object(_.d)(e,2).addToneObj("FrequencyEnvelope",e)},beforeDestroy:function(){void 0!==e.track&&Object(_.d)(e,2).delToneObj(e.id)}}}),qe=_.g.model("LFO",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),type:_.g.optional(_.g.string,"sine"),min:_.g.optional(_.g.number,0),max:_.g.optional(_.g.number,1),phase:_.g.optional(_.g.number,0),frequency:_.g.optional(_.g.string,"4n"),amplitude:_.g.optional(_.g.number,1),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("LFO",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Ke=_.g.model("FeedbackCombFilter",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),delayTime:_.g.optional(_.g.union(_.g.number,_.g.string),.1),resonance:_.g.optional(_.g.number,.1),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("FeedbackCombFilter",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Xe=_.g.model("LowpassCombFilter",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),delayTime:_.g.optional(_.g.union(_.g.number,_.g.string),.1),resonance:_.g.optional(_.g.number,.1),dampening:_.g.optional(_.g.number,3e3),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("LowpassCombFilter",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Ze=_.g.model("MultibandSplit",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),lowFrequency:_.g.optional(_.g.number,400),highFrequency:_.g.optional(_.g.number,2500),Q:_.g.optional(_.g.number,1),low:pe,mid:pe,high:pe,ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("MultibandSplit",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Ye=_.g.model("Volume",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),volume:_.g.optional(_.g.number,0),mute:_.g.optional(_.g.boolean,!1),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Volume",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Qe=_.g.model("Panner",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),pan:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"component",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Panner",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),Je=_.g.model("Components",{filters:_.g.maybe(_.g.array(pe)),followers:_.g.maybe(_.g.array(Be)),meters:_.g.maybe(_.g.array(Me)),panvols:_.g.maybe(_.g.array(Ie)),splits:_.g.maybe(_.g.array(De)),limiters:_.g.maybe(_.g.array(Pe)),solos:_.g.maybe(_.g.array(Ae)),eq3s:_.g.maybe(_.g.array(Fe)),compressors:_.g.maybe(_.g.array(Le)),monos:_.g.maybe(_.g.array(Ve)),gates:_.g.maybe(_.g.array(Ge)),envelopes:_.g.maybe(_.g.array(We)),amplitudeenvelopes:_.g.maybe(_.g.array(Ue)),frequencyenvelopes:_.g.maybe(_.g.array(He)),lfos:_.g.maybe(_.g.array(qe)),feedbackcombfilters:_.g.maybe(_.g.maybe(_.g.array(Ke))),lowpasscombfilters:_.g.maybe(_.g.maybe(_.g.array(Xe))),multibandcompressors:_.g.maybe(_.g.array(ze)),midsidecompressors:_.g.maybe(_.g.array(Re)),multibandsplits:_.g.maybe(_.g.array(Ze)),volumes:_.g.maybe(_.g.array(Ye)),panners:_.g.maybe(_.g.array(Qe))}).views(function(e){return{isHidden:function(e){return(e.match(/_/g)||[]).length>=2},getComponentByTypeId:function(t,o){return e[t+"s"].find(function(e){return e.id===o})},getAllByTrack:function(t){var o=Object(_.c)(e).properties,n=[];for(var i in o)o.hasOwnProperty(i)&&e[i].filter(function(e){return e.track.id===t}).forEach(function(e){n.push(e)});return n}}}).actions(function(e){return{add:function(t,o){switch(t){case"filter":e[t+"s"].push(pe.create(o));break;case"follower":e[t+"s"].push(Be.create(o));break;case"meter":e[t+"s"].push(Me.create(o));break;case"panvol":e[t+"s"].push(Ie.create(o));break;case"split":e[t+"s"].push(De.create(o));break;case"limiter":e[t+"s"].push(Pe.create(o));break;case"solo":e[t+"s"].push(Ae.create(o));break;case"eq3":e[t+"s"].push(Fe.create(o));break;case"compressor":e[t+"s"].push(Le.create(o));break;case"mono":e[t+"s"].push(Ve.create(o));break;case"gate":e[t+"s"].push(Ge.create(o));break;case"envelope":e[t+"s"].push(We.create(o));break;case"amplitudeenvelope":e[t+"s"].push(Ue.create(o));break;case"frequencyenvelope":e[t+"s"].push(He.create(o));break;case"lfo":e[t+"s"].push(qe.create(o));break;case"feedbackcombfilter":e[t+"s"].push(Ke.create(o));break;case"lowpasscombfilter":e[t+"s"].push(Xe.create(o));break;case"multibandcompressor":if(!o.low){var n=Object(g.a)({},u.Compressor.getDefaults());n.id="compressor_"+oe(),o.low=Le.create(n)}if(!o.mid){var i=Object(g.a)({},u.Compressor.getDefaults());i.id="compressor_"+oe(),o.mid=Le.create(i)}if(!o.high){var r=Object(g.a)({},u.Compressor.getDefaults());r.id="compressor_"+oe(),o.high=Le.create(r)}e[t+"s"].push(ze.create(o));break;case"midsidecompressor":if(!o.mid){var a=Object(g.a)({},u.Compressor.getDefaults());a.id="compressor_"+oe(),o.mid=Le.create(a)}if(!o.side){var s=Object(g.a)({},u.Compressor.getDefaults());s.id="compressor_"+oe(),o.side=Le.create(s)}e[t+"s"].push(Re.create(o));break;case"multibandsplit":if(!o.low){var l=Object(g.a)({},u.Filter.getDefaults());l.id="filter_"+oe(),o.low=pe.create(l)}if(!o.mid){var c=Object(g.a)({},u.Filter.getDefaults());c.id="filter_"+oe(),o.mid=pe.create(c)}if(!o.high){var p=Object(g.a)({},u.Filter.getDefaults());p.id="filter_"+oe(),o.high=pe.create(p)}e[t+"s"].push(Ze.create(o));break;case"volume":e[t+"s"].push(Ye.create(o));break;case"panner":e[t+"s"].push(Qe.create(o))}},delete:function(t,o){Object(_.b)(e.getComponentByTypeId(t,o))},addToneObj:function(e,t){ne.addAudioObj(e,t,"component")},delToneObj:function(e){Vt.delConnectionsByObj(e),ne.delAudioObj(e,"component")}}}),$e=_.g.model("AMOscillator",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),440),type:_.g.optional(_.g.string,"sine"),modulationType:_.g.optional(_.g.string,"square"),detune:_.g.optional(_.g.number,0),phase:_.g.optional(_.g.number,0),harmonicity:_.g.optional(_.g.number,1),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"source",t,o,n,i)},afterCreate:function(){},afterAttach:function(){e.ui||void 0===e.track||(e.ui=le.create()),void 0!==e.track&&Object(_.d)(e,2).addToneObj("AMOscillator",e)},beforeDestroy:function(){void 0!==e.track&&Object(_.d)(e,2).delToneObj(e.id)}}}),et=_.g.model("FMOscillator",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),440),type:_.g.optional(_.g.string,"sine"),modulationType:_.g.optional(_.g.string,"square"),modulationIndex:_.g.optional(_.g.number,2),detune:_.g.optional(_.g.number,0),phase:_.g.optional(_.g.number,0),harmonicity:_.g.optional(_.g.number,1),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"source",t,o,n,i)},afterCreate:function(){},afterAttach:function(){e.ui||void 0===e.track||(e.ui=le.create()),void 0!==e.track&&Object(_.d)(e,2).addToneObj("FMOscillator",e)},beforeDestroy:function(){void 0!==e.track&&Object(_.d)(e,2).delToneObj(e.id)}}}),tt=_.g.model("FatOscillator",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),type:_.g.optional(_.g.string,"sawtooth"),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),440),detune:_.g.optional(_.g.number,0),phase:_.g.optional(_.g.number,0),spread:_.g.optional(_.g.number,20),count:_.g.optional(_.g.number,3),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"source",t,o,n,i)},afterCreate:function(){},afterAttach:function(){e.ui||void 0===e.track||(e.ui=le.create()),void 0!==e.track&&Object(_.d)(e,2).addToneObj("FatOscillator",e)},beforeDestroy:function(){void 0!==e.track&&Object(_.d)(e,2).delToneObj(e.id)}}}),ot=_.g.model("Oscillator",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),type:_.g.optional(_.g.string,"sine"),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),440),detune:_.g.optional(_.g.number,0),phase:_.g.optional(_.g.number,0),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"source",t,o,n,i)},afterCreate:function(){},afterAttach:function(){e.ui||void 0===e.track||(e.ui=le.create()),void 0!==e.track&&Object(_.d)(e,2).addToneObj("Oscillator",e)},beforeDestroy:function(){void 0!==e.track&&Object(_.d)(e,2).delToneObj(e.id)}}}),nt=_.g.model("OmniOscillator",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),type:_.g.optional(_.g.string,"sine"),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),440),detune:_.g.optional(_.g.number,0),phase:_.g.optional(_.g.number,0),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"source",t,o,n,i)},afterCreate:function(){},afterAttach:function(){e.ui||void 0===e.track||(e.ui=le.create()),void 0!==e.track&&Object(_.d)(e,2).addToneObj("OmniOscillator",e)},beforeDestroy:function(){void 0!==e.track&&Object(_.d)(e,2).delToneObj(e.id)}}}),it=_.g.model("PWMOscillator",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),type:_.g.optional(_.g.string,"sine"),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),440),detune:_.g.optional(_.g.number,0),phase:_.g.optional(_.g.number,0),modulationFrequency:_.g.optional(_.g.union(_.g.number,_.g.string),.4),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"source",t,o,n,i)},afterCreate:function(){},afterAttach:function(){e.ui||void 0===e.track||(e.ui=le.create()),void 0!==e.track&&Object(_.d)(e,2).addToneObj("PWMOscillator",e)},beforeDestroy:function(){void 0!==e.track&&Object(_.d)(e,2).delToneObj(e.id)}}}),rt=_.g.model("PulseOscillator",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),type:_.g.optional(_.g.string,"sine"),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),440),detune:_.g.optional(_.g.number,0),phase:_.g.optional(_.g.number,0),width:_.g.optional(_.g.number,.2),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"source",t,o,n,i)},afterCreate:function(){},afterAttach:function(){e.ui||void 0===e.track||(e.ui=le.create()),void 0!==e.track&&Object(_.d)(e,2).addToneObj("PulseOscillator",e)},beforeDestroy:function(){void 0!==e.track&&Object(_.d)(e,2).delToneObj(e.id)}}}),at=_.g.model("Noise",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),type:_.g.optional(_.g.string,"white"),playbackRate:_.g.optional(_.g.number,1),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"source",t,o,n,i)},afterCreate:function(){},afterAttach:function(){e.ui||void 0===e.track||(e.ui=le.create()),void 0!==e.track&&Object(_.d)(e,2).addToneObj("Noise",e)},beforeDestroy:function(){void 0!==e.track&&Object(_.d)(e,2).delToneObj(e.id)}}}),st=_.g.model("UserMedia",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),type:_.g.optional(_.g.number,0),mute:_.g.optional(_.g.boolean,!1),ui:_.g.maybe(le)}).views(function(e){return{}}).actions(function(e){return{setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"source",t,o,n,i)},afterCreate:function(){e.ui=le.create()},afterAttach:function(){Object(_.d)(e,2).addToneObj("UserMedia",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),lt=_.g.model("Sources",{amoscillators:_.g.maybe(_.g.array($e)),fatoscillators:_.g.maybe(_.g.array(tt)),fmoscillators:_.g.maybe(_.g.array(et)),oscillators:_.g.maybe(_.g.array(ot)),omnioscillators:_.g.maybe(_.g.array(nt)),pwmoscillators:_.g.maybe(_.g.array(it)),pulseoscillators:_.g.maybe(_.g.array(rt)),noises:_.g.maybe(_.g.array(at)),usermedias:_.g.maybe(_.g.array(st))}).views(function(e){return{getSourceByTypeId:function(t,o){return e[t+"s"].find(function(e){return e.id===o})},getAllByTrack:function(t){var o=Object(_.c)(e).properties,n=[];for(var i in o)o.hasOwnProperty(i)&&e[i].filter(function(e){return e.track.id===t}).forEach(function(e){n.push(e)});return n}}}).actions(function(e){return{add:function(t,o){switch(t){case"amoscillator":e[t+"s"].push($e.create(o));break;case"fatoscillator":e[t+"s"].push(tt.create(o));break;case"fmoscillator":e[t+"s"].push(et.create(o));break;case"oscillator":e[t+"s"].push(ot.create(o));break;case"omnioscillator":e[t+"s"].push(nt.create(o));break;case"pwmoscillator":e[t+"s"].push(it.create(o));break;case"pulseoscillator":e[t+"s"].push(rt.create(o));break;case"noise":e[t+"s"].push(at.create(o));break;case"usermedia":e[t+"s"].push(st.create(o))}},delete:function(t,o){Object(_.b)(e.getSourceByTypeId(t,o))},addToneObj:function(e,t){ne.addAudioObj(e,t,"source")},delToneObj:function(e){Vt.delConnectionsByObj(e),ne.delAudioObj(e,"source")}}}),ct=_.g.model("Player",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),sample:_.g.maybe(_.g.reference(re)),region:_.g.maybe(_.g.reference(ie)),url:_.g.maybe(_.g.string),playbackRate:_.g.optional(_.g.number,1),loop:_.g.optional(_.g.boolean,!1),autostart:_.g.optional(_.g.boolean,!1),loopStart:_.g.optional(_.g.number,0),loopEnd:_.g.optional(_.g.number,0),retrigger:_.g.optional(_.g.boolean,!1),reverse:_.g.optional(_.g.boolean,!1),fadeIn:_.g.optional(_.g.number,0),fadeOut:_.g.optional(_.g.number,0),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).actions(function(e){return{addAutomation:function(t,o){e.automation.push({pattern:t,signal:o})},setModelPlaybackRate:function(t){e.playbackRate=t},setPropVal:function(t,o,n,i){e[t]=o,ne.setPropVal(e.id,"instrument",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Player",e);var t=ne.instruments.find(function(t){return t.id===e.id}).obj;e.region?Vt.DBLoadAudioFile(e.region.id).then(function(e){t.buffer.fromArray(e.data)}):Vt.DBLoadAudioFile(e.sample.id).then(function(e){if(e&&e.data)if(Array.isArray(e.data)||e.data instanceof Float32Array)t.buffer.fromArray(e.data);else{var o=window.URL.createObjectURL(e.data);t.load(o).then(function(){window.URL.revokeObjectURL(o)})}})},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),pt=_.g.model("Synth",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),oscillator:nt,envelope:Ue,portamento:_.g.optional(_.g.number,0),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).actions(function(e){return{setPropVal:function(t,o,n,i){i?e[i][t]=o:e[t]=o,ne.setPropVal(e.id,"instrument",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("Synth",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),dt=_.g.model("MonoSynth",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),detune:_.g.optional(_.g.number,0),oscillator:nt,filter:pe,envelope:Ue,filterEnvelope:He,portamento:_.g.optional(_.g.number,0),volume:_.g.optional(_.g.number,-8),ui:_.g.maybe(le)}).views(function(e){return{get getParentId(){return Object(_.d)(e,1).id}}}).actions(function(e){return{setPropVal:function(t,o,n,i){if(e.getParentId){var r=Object(_.d)(e,1);if("duosynth"===r.id.split("_")[0]){var a="voice0";r.voice1.id===e.id&&(a="voice1"),i?e[i][t]=o:e[t]=o,ne.setPropVal(r.id,"instrument",t,o,n,i,a)}}else i?e[i][t]=o:e[t]=o,ne.setPropVal(e.id,"instrument",t,o,n,i)},afterCreate:function(){},afterAttach:function(){e.ui||void 0===e.track||(e.ui=le.create()),void 0!==e.track&&Object(_.d)(e,2).addToneObj("MonoSynth",e)},beforeDestroy:function(){void 0!==e.track&&Object(_.d)(e,2).delToneObj(e.id)}}}),mt=_.g.model("AMSynth",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),harmonicity:_.g.optional(_.g.number,3),detune:_.g.optional(_.g.number,0),oscillator:nt,envelope:Ue,modulation:nt,modulationEnvelope:Ue,portamento:_.g.optional(_.g.number,0),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).actions(function(e){return{setPropVal:function(t,o,n,i){i?e[i][t]=o:e[t]=o,ne.setPropVal(e.id,"instrument",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("AMSynth",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),ut=_.g.model("FMSynth",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),harmonicity:_.g.optional(_.g.number,3),modulationIndex:_.g.optional(_.g.number,10),detune:_.g.optional(_.g.number,0),oscillator:nt,envelope:Ue,modulation:nt,modulationEnvelope:Ue,portamento:_.g.optional(_.g.number,0),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).actions(function(e){return{setPropVal:function(t,o,n,i){i?e[i][t]=o:e[t]=o,ne.setPropVal(e.id,"instrument",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("FMSynth",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),bt=_.g.model("MetalSynth",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),frequency:_.g.optional(_.g.union(_.g.number,_.g.string),200),envelope:Ue,harmonicity:_.g.optional(_.g.number,5.1),modulationIndex:_.g.optional(_.g.number,32),resonance:_.g.optional(_.g.number,4e3),octaves:_.g.optional(_.g.number,1.5),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).actions(function(e){return{setPropVal:function(t,o,n,i){i?e[i][t]=o:e[t]=o,ne.setPropVal(e.id,"instrument",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("MetalSynth",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),ft=_.g.model("MembraneSynth",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),pitchDecay:_.g.optional(_.g.number,.05),octaves:_.g.optional(_.g.number,10),oscillator:nt,envelope:Ue,volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).actions(function(e){return{setPropVal:function(t,o,n,i){i?e[i][t]=o:e[t]=o,ne.setPropVal(e.id,"instrument",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("MembraneSynth",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),ht=_.g.model("PluckSynth",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),attackNoise:_.g.optional(_.g.number,1),dampening:_.g.optional(_.g.union(_.g.number,_.g.string),4e3),resonance:_.g.optional(_.g.number,.7),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).actions(function(e){return{setPropVal:function(t,o,n,i){i?e[i][t]=o:e[t]=o,ne.setPropVal(e.id,"instrument",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("PluckSynth",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),gt=_.g.model("NoiseSynth",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),noise:at,envelope:Ue,volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).actions(function(e){return{setPropVal:function(t,o,n,i){i?e[i][t]=o:e[t]=o,ne.setPropVal(e.id,"instrument",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("NoiseSynth",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),_t=_.g.model("PolySynth",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),polyphony:_.g.optional(_.g.number,4),detune:_.g.optional(_.g.number,0),voice:_.g.optional(_.g.string,"Synth"),volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).actions(function(e){return{setPropVal:function(e,t,o,n){},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("PolySynth",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),yt=_.g.model("DuoSynth",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),vibratoAmount:_.g.optional(_.g.number,.5),vibratoRate:_.g.optional(_.g.union(_.g.number,_.g.string),5),harmonicity:_.g.optional(_.g.number,1.5),voice0:dt,voice1:dt,volume:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).actions(function(e){return{setPropVal:function(t,o,n,i){i?e[i][t]=o:e[t]=o,ne.setPropVal(e.id,"instrument",t,o,n,i)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){Object(_.d)(e,2).addToneObj("DuoSynth",e)},beforeDestroy:function(){Object(_.d)(e,2).delToneObj(e.id)}}}),vt=_.g.model("TinySynth",{id:_.g.identifier,track:_.g.maybe(_.g.reference(se)),panvol:_.g.maybe(_.g.reference(Ie)),channel:_.g.optional(_.g.number,0),instrument:_.g.optional(_.g.number,0),ui:_.g.maybe(le)}).actions(function(e){return{setPropVal:function(t,o,n,i){"instrument"===t?(e[t]=o,ne.custom.find(function(t){return t.id===e.id}).obj.send([192,o])):"channel"===t&&(e[t]=o)},disconnectFromPanVol:function(){var t=e.id.split("_"),o=ne.custom.find(function(t){return t.id===e.id}),n=ne.components.find(function(e){return e.id==="tinysynth_panvol_"+t[1]});o&&n&&o.obj&&n.obj&&u.disconnect(o.obj.getConnectSourceNode(),n.obj)},afterCreate:function(){e.ui||(e.ui=le.create())},afterAttach:function(){var t="tinysynth_panvol_"+e.id.split("_")[1];e.panvol||(Vt.components.add("panvol",{id:t,track:e.track.id}),e.panvol=t);var o=ne.components.find(function(e){return e.id===t}).obj;if(!ne.custom.find(function(t){return t.id===e.id})){ne.custom.push({id:e.id,track:e.track.id,obj:new window.WebAudioTinySynth({internalcontext:0,useReverb:0})});var n=ne.custom.find(function(t){return t.id===e.id}).obj;u.connect(n.setAudioContext(u.context),o),n.send([192,e.instrument])}},beforeDestroy:function(){e.disconnectFromPanVol();var t=ne.custom.find(function(t){return t.id===e.id});t.obj.destroy(),t.obj=null,delete t.obj,ne.custom=ne.custom.filter(function(t){return t.id!==e.id})}}}),jt=_.g.model("Instruments",{players:_.g.maybe(_.g.array(ct)),amsynths:_.g.maybe(_.g.array(mt)),fmsynths:_.g.maybe(_.g.array(ut)),synths:_.g.maybe(_.g.array(pt)),monosynths:_.g.maybe(_.g.array(dt)),metalsynths:_.g.maybe(_.g.array(bt)),membranesynths:_.g.maybe(_.g.array(ft)),plucksynths:_.g.maybe(_.g.array(ht)),noisesynths:_.g.maybe(_.g.array(gt)),polysynths:_.g.maybe(_.g.array(_t)),duosynths:_.g.maybe(_.g.array(yt)),tinysynths:_.g.maybe(_.g.array(vt))}).views(function(e){return{getInstrumentByTypeId:function(t,o){return e[t+"s"].find(function(e){return e.id===o})},getPlayerByTrack:function(t){return e.players.find(function(e){return e.track.id===t})},getAllByTrack:function(t){var o=Object(_.c)(e).properties,n=[];for(var i in o)o.hasOwnProperty(i)&&e[i].filter(function(e){return e.track.id===t}).forEach(function(e){n.push(e)});return n}}}).actions(function(e){return{add:function(t,o){switch(t){case"player":e[t+"s"].push(ct.create(o));break;case"synth":if(!o.oscillator){var n=Object(g.a)({},u.Synth.getDefaults().oscillator);n.id="omnioscillator_"+oe(),o.oscillator=nt.create(n)}if(!o.envelope){var i=Object(g.a)({},u.Synth.getDefaults().envelope);i.id="amplitudeenvelope_"+oe(),o.envelope=Ue.create(i)}e[t+"s"].push(pt.create(o));break;case"amsynth":if(!o.oscillator){var r=Object(g.a)({},u.AMSynth.getDefaults().oscillator);r.id="omnioscillator_"+oe(),o.oscillator=nt.create(r)}if(!o.envelope){var a=Object(g.a)({},u.AMSynth.getDefaults().envelope);a.id="amplitudeenvelope_"+oe(),o.envelope=Ue.create(a)}if(!o.modulation){var s=Object(g.a)({},u.AMSynth.getDefaults().modulation);s.id="omnioscillator_"+oe(),o.modulation=nt.create(s)}if(!o.modulationEnvelope){var l=Object(g.a)({},u.AMSynth.getDefaults().modulationEnvelope);l.id="amplitudeenvelope_"+oe(),o.modulationEnvelope=Ue.create(l)}e[t+"s"].push(mt.create(o));break;case"fmsynth":if(!o.oscillator){var c=Object(g.a)({},u.FMSynth.getDefaults().oscillator);c.id="omnioscillator_"+oe(),o.oscillator=nt.create(c)}if(!o.envelope){var p=Object(g.a)({},u.FMSynth.getDefaults().envelope);p.id="amplitudeenvelope_"+oe(),o.envelope=Ue.create(p)}if(!o.modulation){var d=Object(g.a)({},u.FMSynth.getDefaults().modulation);d.id="omnioscillator_"+oe(),o.modulation=nt.create(d)}if(!o.modulationEnvelope){var m=Object(g.a)({},u.FMSynth.getDefaults().modulationEnvelope);m.id="amplitudeenvelope_"+oe(),o.modulationEnvelope=Ue.create(m)}e[t+"s"].push(ut.create(o));break;case"monosynth":if(!o.oscillator){var b=Object(g.a)({},u.MonoSynth.getDefaults().oscillator);b.id="omnioscillator_"+oe(),o.oscillator=nt.create(b)}if(!o.filter){var f=Object(g.a)({},u.MonoSynth.getDefaults().filter);f.id="filter_"+oe(),o.filter=pe.create(f)}if(!o.envelope){var h=Object(g.a)({},u.MonoSynth.getDefaults().envelope);h.id="amplitudeenvelope_"+oe(),o.envelope=Ue.create(h)}if(!o.filterEnvelope){var _=Object(g.a)({},u.MonoSynth.getDefaults().filterEnvelope);_.id="frequencyenvelope_"+oe(),o.filterEnvelope=He.create(_)}e[t+"s"].push(dt.create(o));break;case"metalsynth":if(!o.envelope){var y=Object(g.a)({},u.MetalSynth.getDefaults().envelope);y.id="amplitudeenvelope_"+oe(),o.envelope=Ue.create(y)}e[t+"s"].push(bt.create(o));break;case"membranesynth":if(!o.oscillator){var j=Object(g.a)({},u.MembraneSynth.getDefaults().oscillator);j.id="omnioscillator_"+oe(),o.oscillator=nt.create(j)}if(!o.envelope){var w=Object(g.a)({},u.MembraneSynth.getDefaults().envelope);w.id="amplitudeenvelope_"+oe(),o.envelope=Ue.create(w)}e[t+"s"].push(ft.create(o));break;case"plucksynth":e[t+"s"].push(ht.create(o));break;case"noisesynth":if(!o.noise){var k=Object(g.a)({},u.NoiseSynth.getDefaults().noise);k.id="noise_"+oe(),o.noise=at.create(k)}if(!o.envelope){var N=Object(g.a)({},u.NoiseSynth.getDefaults().envelope);N.id="amplitudeenvelope_"+oe(),o.envelope=Ue.create(N)}e[t+"s"].push(gt.create(o));break;case"polysynth":e[t+"s"].push(_t.create(o));break;case"duosynth":if(!o.voice0){var E=v(u.DuoSynth.getDefaults().voice0);E.id="monosynth_"+oe(),E.oscillator.id="omnioscillator_"+oe(),E.oscillator=nt.create(E.oscillator),E.filter||(E.filter=Object(g.a)({},u.MonoSynth.getDefaults().filter)),E.filter.id="filter_"+oe(),E.filter=pe.create(E.filter),E.envelope.id="amplitudeenvelope_"+oe(),E.envelope=Ue.create(E.envelope),E.filterEnvelope.id="frequencyenvelope_"+oe(),E.filterEnvelope=He.create(E.filterEnvelope),o.voice0=dt.create(E)}if(!o.voice1){var T=v(u.DuoSynth.getDefaults().voice1);T.id="monosynth_"+oe(),T.oscillator.id="omnioscillator_"+oe(),T.oscillator=nt.create(T.oscillator),T.filter||(T.filter=Object(g.a)({},u.MonoSynth.getDefaults().filter)),T.filter.id="filter_"+oe(),T.filter=pe.create(T.filter),T.envelope.id="amplitudeenvelope_"+oe(),T.envelope=Ue.create(T.envelope),T.filterEnvelope.id="frequencyenvelope_"+oe(),T.filterEnvelope=He.create(T.filterEnvelope),o.voice1=dt.create(T)}e[t+"s"].push(yt.create(o));break;case"tinysynth":e[t+"s"].push(vt.create(o))}},delete:function(t,o){Object(_.b)(e.getInstrumentByTypeId(t,o))},addToneObj:function(e,t){ne.addAudioObj(e,t,"instrument")},delToneObj:function(e){Vt.delConnectionsByObj(e),ne.delAudioObj(e,"instrument")}}}),wt=_.g.model("Scene",{id:_.g.identifier,start:_.g.string,end:_.g.string,muteGroups:_.g.array(_.g.string)}).views(function(e){return{isGroupMuted:function(t){return e.muteGroups.find(function(e){return e===t})},get getLength(){return Vt.getSceneLength(e.id)}}}).actions(function(e){return{setStart:function(t){e.start=t},setEnd:function(t){e.end=t},setGroupMute:function(t,o){e.muteGroups.find(function(e){return e===t})?e.muteGroups=e.muteGroups.filter(function(e){return e!==t}):e.muteGroups.push(t),Vt.getPatternsBySceneGroup(e.id,t).forEach(function(e){e.setMute(o)})}}}),kt=_.g.model("Note",{id:_.g.identifier,time:_.g.string,mute:_.g.optional(_.g.boolean,!1),note:_.g.maybe(_.g.union(_.g.array(_.g.number),_.g.array(_.g.string))),duration:_.g.maybe(_.g.union(_.g.number,_.g.string)),velocity:_.g.optional(_.g.number,1),probability:_.g.optional(_.g.number,1),offset:_.g.optional(_.g.number,0)}).views(function(e){return{get getPattern(){return Object(_.d)(e,2)},get getNote(){return void 0!==e.note?e.note.map(function(e){return e}):void 0}}}).actions(function(e){return{pasteNoteProps:function(t){for(var o in t)"id"!==o&&"time"!==o&&(e[o]="note"===o?t.getNote:t[o]);"copy"!==e.id.split("_")[1]&&e.setPartNote()},setRandomNote:function(){e.note=ee(),e.setPartNote()},setNote:function(t){e.note=t,e.setPartNote()},setOffset:function(t){e.offset=t,e.setPartNote()},setVelocity:function(t){e.velocity=t,e.setPartNote()},setDuration:function(t){e.duration=t,e.setPartNote()},setProbability:function(t){e.probability=t,e.setPartNote()},setHumanize:function(t){e.humanize=t,e.setPartNote()},toggle:function(){e.mute=!e.mute,e.setPartNote()},setPartNote:function(){var t=ne.parts.find(function(t){return t.id===Object(_.d)(e,2).id}).obj.at(e.time,{mute:e.mute,note:e.getNote,duration:e.duration,velocity:e.velocity,offset:e.offset,time:e.time});t.probability=e.probability,t.humanize=e.humanize},afterAttach:function(){"copy"!==e.id.split("_")[1]&&e.setPartNote()},beforeDestroy:function(){"copy"!==e.id.split("_")[1]&&ne.parts.find(function(t){return t.id===Object(_.d)(e,2).id}).obj.remove(e.time)}}}),Nt=_.g.model("Pattern",{id:_.g.identifier,resolution:_.g.optional(_.g.string,"16n"),track:_.g.reference(se),scene:_.g.reference(wt),notes:_.g.maybe(_.g.array(kt)),mute:_.g.optional(_.g.boolean,!1)}).views(function(e){return{getNote:function(t){return e.notes.find(function(e){return e.time===t})},getNotesByBar:function(t){return e.notes.filter(function(e){return u.Time(e.time)>=u.Time(t-1+":0:0")&&u.Time(e.time)<u.Time(t+":0:0")})},get getSortedNotesAsc(){var t=[];return e.notes.forEach(function(o){u.Time(o.time)<u.Time(Vt.getSceneLength(e.scene.id))&&t.push(o)}),t.sort(function(e,t){return u.Time(e.time).toSeconds()-u.Time(t.time).toSeconds()})},get getSortedNotesDesc(){var t=[];return e.notes.forEach(function(o){u.Time(o.time)<u.Time(Vt.getSceneLength(e.scene.id))&&t.push(o)}),t.sort(function(e,t){return u.Time(t.time).toSeconds()-u.Time(e.time).toSeconds()})},get getLength(){return Vt.getSceneLength(e.scene.id)}}}).actions(function(e){return{addNote:function(t,o,n,i,r,a,s){var l;n&&(l=n.map(function(e){return e})),e.notes.push(kt.create({id:"note_"+oe(),time:t,mute:o,note:l,duration:i,velocity:r,probability:a,offset:s}))},deleteNote:function(e){Object(_.b)(e)},deleteNotesByBar:function(t){Vt.ui.selectedNote&&Vt.ui.selectNote(void 0),e.getNotesByBar(t).forEach(function(t){return e.deleteNote(t)})},pasteNotesToBar:function(t,o){o-=1,t.forEach(function(t){var n=o+":"+t.time.split(":")[1]+":"+t.time.split(":")[2];e.addNote(n,t.mute,t.note,t.duration,t.velocity,t.probability,t.offset)})},createRandomNotes:function(t){var o="0:0:0",n=u.Time(e.getLength).toBarsBeatsSixteenths();t&&(o=t-1+":0:0",n=t+":0:0");for(var i=parseInt(o.split(":")[0],10),r=parseInt(n.split(":")[0],10)-i,a=r*e.resolution.slice(0,-1),s=0;s<r;s++)for(var l=0;l<a;l++){var c=u.Time(u.Time(s+i+":0:0")+u.Time(e.resolution)*l).toBarsBeatsSixteenths();e.addNote(c,!1,ee(),e.resolution)}},setResolution:function(t){e.resolution=t},setMute:function(t){e.mute=t,ne.parts.find(function(t){return t.id===e.id}).obj.mute=t},pastePattern:function(t){e.resolution=t.resolution,e.deleteNotes(),t.notes.forEach(function(t){e.notes.push(kt.create({id:"note_"+oe(),time:t.time,mute:t.mute,note:t.getNote,duration:t.duration,velocity:t.velocity,probability:t.probability,humanize:t.humanize,offset:t.offset}))})},deleteNotes:function(){Vt.ui.selectedNote&&Vt.ui.selectNote(void 0),e.getSortedNotesAsc.forEach(function(e){Object(_.b)(e)})},initPart:function(t){var o=ne;t&&(o=t);var n=o.parts.find(function(t){return t.id===e.id});t||(n.player||(n.player=(new u.Player).connect(ne.components.find(function(t){return t.id===e.track.getPanVol.id}).obj)),n.playerPart||(n.playerPart=new u.Part(function(e,t){n.player.start(e)})),n.playerPart.start(e.scene.start).stop(e.scene.end),n.playerPart.mute=!0,n.playerPart.at("0:0:0","C3")),n.obj=new u.Part(function(t,i){if(!i.note||1!==i.note.length||""!==i.note[0]){var r=u.Time(e.resolution)*i.offset;if(i.note)for(var a=0;a<i.note.length;a++)isNaN(i.note[a])&&(i.note[a]=b.b.freq(i.note[a]));if(o.instruments.filter(function(e){return e.track===n.track}).forEach(function(e){var o=e.id.split("_")[0];if(!i.mute)if("player"===o){if(e.obj.stop(t+r),e.obj.volume.setValueAtTime(i.velocity,t+r),e.obj.start(t+r),i.duration<1){var n=e.obj.buffer.duration/e.obj.playbackRate;n*=i.duration,n+=r,e.obj.stop(t+n)}}else if(["metalsynth","plucksynth","membranesynth"].includes(o)){if(void 0!==i.note){e.obj.triggerAttack(i.note[0],t+r,i.velocity),e.obj.triggerRelease(t+u.Time(i.duration));var a=p();a&&(e.obj.triggerAttack(a.note.getNote[0],t+u.Time(i.duration),a.note.velocity),e.obj.triggerRelease(t+u.Time(i.duration)+a.deltaDur))}}else if(["synth","monosynth","amsynth","fmsynth","duosynth"].includes(o))void 0!==i.note&&e.obj.triggerAttackRelease(i.note,u.Time(i.duration),t+r,i.velocity);else if("noisesynth"===o&&void 0!==i.note){e.obj.triggerAttackRelease(u.Time(i.duration),t+r,i.velocity);var s=p();s&&e.obj.triggerAttackRelease(s.deltaDur,t+u.Time(i.duration),s.note.velocity)}}),o.sources.filter(function(e){return e.track===n.track}).forEach(function(e){var o=e.id.split("_")[0];if(!i.mute&&void 0!==i.note){e.obj.stop(t+r),"noise"!==o&&e.obj.frequency.setValueAtTime(i.note[0],t+r);var n=t+u.Time(i.duration),a=Vt.getConnectionsByObjId(e.id).filter(function(e){return"amplitudeenvelope"===e.dest.split("_")[0]});if(a.length>0){var s=[];a.forEach(function(e){return s.push(Vt.components.getComponentByTypeId("amplitudeenvelope",e.dest))}),n+=s.sort(function(e,t){return t.release-e.release})[0].release}e.obj.start(t+r),e.obj.stop(n);var l=p();l&&(e.obj.frequency.setValueAtTime(l.note.getNote[0],t+u.Time(i.duration)),e.obj.start(t+u.Time(i.duration)),e.obj.stop(t+u.Time(i.duration)+l.deltaDur))}}),o.components.filter(function(e){return e.track===n.track&&"amplitudeenvelope"===e.id.split("_")[0]}).forEach(function(e){i.mute||void 0!==i.note&&e.obj.triggerAttackRelease(u.Time(i.duration),t+r,i.velocity)}),o.custom.filter(function(e){return e.track===n.track}).forEach(function(e){if(e.obj&&!i.mute&&void 0!==!i.note){var o=Vt.instruments.getInstrumentByTypeId("tinysynth",e.id).channel;i.note.forEach(function(n){var a=u.Frequency(n).toMidi();e.obj.send([144+o,a,100],t+r),e.obj.send([128+o,a,0],t+u.Time(i.duration))});var n=p();n&&n.note.getNote.forEach(function(a){var s=u.Frequency(a).toMidi();e.obj.send([128+o,s,0],t+r),e.obj.send([144+o,s,100],t+u.Time(i.duration)),e.obj.send([128+o,s,0],t+u.Time(i.duration)+n.deltaDur)})}}),"button"===Vt.ui.viewMode&&"audio"===Vt.getTrack(n.track).type){var s=document.getElementById("divGridButton_"+n.track);if(s){var l=s.querySelector(".divGridButtonProgress");if(l){var c=o.instruments.find(function(e){return e.track===n.track}).obj;u.Draw.schedule(function(){if(s&&l&&c){var e=c.buffer.duration/c.playbackRate;"started"===c.state?(l.style.animation="none",window.requestAnimationFrame(function(t){window.requestAnimationFrame(function(t){l.style.animation="progressWidth "+e+"s linear"})})):l.style.animation="progressWidth "+e+"s linear"}},t)}}}}function p(){var t,o;return!!e.getSortedNotesDesc.filter(function(e){return u.Time(e.time)<u.Time(i.time)}).some(function(e){if(e.note&&e.note[0]){var n=u.Time(e.time)+u.Time(e.duration),r=u.Time(i.time)+u.Time(i.duration);if(n>r)return t=u.Time(n)-u.Time(r),o=e,!0}return!1})&&{note:o,deltaDur:t}}}).start(e.scene.start).stop(e.scene.end),n.obj.mute=e.mute},afterAttach:function(){ne.parts.find(function(t){return t.id===e.id})||(ne.parts.push({id:e.id,track:e.track.id}),e.initPart())},beforeDestroy:function(){ne.parts.find(function(t){return t.id===e.id}).obj.clear(),ne.parts.find(function(t){return t.id===e.id}).obj.dispose(),ne.parts.splice(ne.parts.findIndex(function(t){return t.id===e.id}),1)}}}),Et=_.g.model("AutomationValue",{time:_.g.union(_.g.string,_.g.number),value:_.g.union(_.g.string,_.g.number)}).views(function(e){return{}}).actions(function(e){return{}}),Tt=(_.g.model("Automation",{pattern:_.g.reference(Nt),signal:_.g.maybe(_.g.string),params:_.g.array(Et)}).views(function(e){return{get getParams(){return e.params.map(function(e){return{time:e.time,value:e.value}})}}}).actions(function(e){return{addParam:function(t,o){e.params.push({value:t,time:o})}}}),_.g.model("ListBrowser",{selectedDir:_.g.optional(_.g.string,"/"),selectedFile:_.g.maybe(_.g.string)}).actions(function(e){return{selectDir:function(t){e.selectedFile=void 0,e.selectedDir=t},selectFile:function(t){e.selectedFile=(e.selectedDir+"/").replace("//","/")+t}}})),St=_.g.model("UISequencerView",{}).views(function(e){return{}}).actions(function(e){return{}}),Ot=_.g.model("UIButtonView",{}).views(function(e){return{}}).actions(function(e){return{}}),xt=_.g.model("UIEditView",{mode:_.g.optional(_.g.union(_.g.literal("graph"),_.g.literal("bar")),"bar"),selectedBars:_.g.array(_.g.number),copiedBars:_.g.array(_.g.number),copiedPattern:_.g.maybe(_.g.reference(Nt)),multiNoteSelect:_.g.optional(_.g.boolean,!1),selectedNotes:_.g.array(_.g.string),copiedNotes:_.g.array(kt)}).views(function(e){return{isBarSelected:function(t){return e.selectedBars.find(function(e){return e===t})},isBarCopied:function(t){return e.copiedBars.find(function(e){return e===t})},get getNumSelectedBars(){return e.selectedBars.length},get getNumCopiedBars(){return e.copiedBars.length},get getNumSelectedNotes(){return e.selectedNotes.length}}}).actions(function(e){return{toggleMode:function(){"graph"===e.mode?(Vt.ui.setViewLength("1:0:0"),e.mode="bar"):e.mode="graph"},toggleMultiNoteSelect:function(){e.multiNoteSelect=!e.multiNoteSelect,e.multiNoteSelect?Vt.ui.selectedNote&&(e.selectedNotes=[Vt.ui.selectedNote.id],Vt.ui.selectNote(void 0)):"instrument"===Vt.ui.selectedTrack.type?e.delSelectedNotes():e.selectedNotes=[]},toggleNote:function(t){e.selectedNotes.find(function(e){return e===t})?e.selectedNotes=e.selectedNotes.filter(function(e){return e!==t}):e.selectedNotes.push(t)},delSelectedNotes:function(){Vt.ui.selectNote(void 0),"instrument"===Vt.ui.selectedTrack.type?Vt.getNotesByTrack(Vt.ui.selectedTrack.id).filter(function(e){return""===e.note[0]}).forEach(function(e){return e.getPattern.deleteNote(e)}):"audio"===Vt.ui.selectedTrack.type&&e.selectedNotes.forEach(function(e){var t=Vt.getNotesByTrack(Vt.ui.selectedTrack.id).find(function(t){return t.id===e});t.getPattern.deleteNote(t,!0)}),e.selectedNotes=[]},copySelectedNotes:function(){e.clearCopiedNotes(),e.selectedNotes.forEach(function(t){var o=Vt.getNotesByTrack(Vt.ui.selectedTrack.id).find(function(e){return e.id===t}),n=kt.create({id:"note_copy_"+o.id.split("_")[1],time:o.time});n.pasteNoteProps(o),e.copiedNotes.push(n)}),e.selectedNotes=[]},pasteCopiedNote:function(){e.selectedNotes.forEach(function(t,o){var n=Vt.getNotesByTrack(Vt.ui.selectedTrack.id).find(function(e){return e.id===t});e.copiedNotes[o]&&n.pasteNoteProps(e.copiedNotes[o])}),e.selectedNotes=[]},clearCopiedNotes:function(){e.copiedNotes.forEach(function(e){return Object(_.b)(e)}),e.copiedNotes=[]},resetSelectedNotes:function(){e.selectedNotes=[]},selectAllNotes:function(){e.selectedNotes=[],Vt.getNotesByTrack(Vt.ui.selectedTrack.id).forEach(function(t){e.selectedNotes.push(t.id)})},clearSelectedNotes:function(){e.selectedNotes.forEach(function(e){Vt.getNotesByTrack(Vt.ui.selectedTrack.id).find(function(t){return t.id===e}).setNote([""])}),e.delSelectedNotes()},randomizeSelectedNotes:function(){e.selectedNotes.forEach(function(e){Vt.getNotesByTrack(Vt.ui.selectedTrack.id).find(function(t){return t.id===e}).setRandomNote()})},toggleBarSelect:function(t){e.isBarSelected(t)?e.selectedBars=e.selectedBars.filter(function(e){return e!==t}):e.selectedBars.push(t)},selectAllBars:function(){var t=parseInt(u.Time(Vt.ui.selectedPattern.getLength).toBarsBeatsSixteenths().split(":")[0],10);e.selectedBars=Object(h.a)(Array(t).keys()).map(function(e){return e+1})},copySelectedBars:function(){e.copiedPattern=Vt.ui.selectedPattern,e.copiedBars=Object(h.a)(e.selectedBars),e.selectedBars=[]},setCopiedPatternId:function(t){e.copiedPattern=t},pasteCopiedBars:function(){var t=e.selectedBars.sort(function(e,t){return e-t})[0]-e.copiedBars.sort(function(e,t){return e-t})[0];e.copiedBars.forEach(function(o){var n=o+t,i=e.copiedPattern.getNotesByBar(o);Vt.ui.selectedPattern.deleteNotesByBar(n),Vt.ui.selectedPattern.pasteNotesToBar(i,n)})},deleteSelectedBarNotes:function(){e.selectedBars.forEach(function(e){return Vt.ui.selectedPattern.deleteNotesByBar(e)})},clearSelectedBars:function(){e.selectedBars=[]},clearCopiedBars:function(){e.copiedBars=[]},randomizeSelectedBarNotes:function(){e.selectedBars.forEach(function(e){Vt.ui.selectedPattern.deleteNotesByBar(e),Vt.ui.selectedPattern.createRandomNotes(e)})}}}),Ct=_.g.model("UIEditView",{mode:_.g.optional(_.g.union(_.g.literal("scene"),_.g.literal("track")),"scene"),copiedTrack:_.g.maybe(_.g.safeReference(se)),copySceneMode:_.g.optional(_.g.boolean,!1)}).views(function(e){return{}}).actions(function(e){return{setMode:function(t){e.mode=t},copyTrack:function(t){e.copiedTrack=Vt.getTrack(t)},toggleCopySceneMode:function(){e.copySceneMode=!e.copySceneMode}}}),Bt=_.g.model("UIMainViews",{sequencer:St,button:Ot,edit:xt,manager:Ct}).views(function(e){return{}}).actions(function(e){return{}}),Mt=_.g.model("UIToolbarMain",{}).views(function(e){return{}}).actions(function(e){return{}}),It=_.g.model("UIToolbarBrowser",{browser1:Tt,browser2:Tt,browser3:Tt,action:_.g.maybe(_.g.string)}).views(function(e){return{}}).actions(function(e){return{setAction:function(t){e.action=t+"_"+oe()}}}),Dt=_.g.model("UIToolbarEdit",{selectedObj:_.g.maybe(_.g.string)}).views(function(e){return{}}).actions(function(e){return{selectObj:function(t){e.selectedObj=t}}}),Pt=_.g.model("UIToolbarKeys",{}).views(function(e){return{}}).actions(function(e){return{}}),At=_.g.model("UIToolbar",{main:Mt,browser:It,editor1:Dt,editor2:Dt,keys:Pt}).views(function(e){return{}}).actions(function(e){return{}}),Lt=_.g.model("UI",{viewMode:_.g.optional(_.g.union(_.g.literal("sequencer"),_.g.literal("button"),_.g.literal("edit"),_.g.literal("manager")),"sequencer"),views:Bt,toolbar:At,mixMode:_.g.optional(_.g.boolean,!1),editMode:_.g.optional(_.g.boolean,!0),recordMode:_.g.optional(_.g.boolean,!1),settings:_.g.optional(_.g.boolean,!1),viewLength:_.g.optional(_.g.string,"1:0:0"),windowHeight:_.g.optional(_.g.number,0),windowWidth:_.g.optional(_.g.number,0),selectedToolbar:_.g.maybe(_.g.union(_.g.literal("home"),_.g.literal("browse"),_.g.literal("editor1"),_.g.literal("editor2"),_.g.literal("synth"))),selectedScene:_.g.maybe(_.g.reference(wt)),selectedTrack:_.g.maybe(_.g.reference(se)),selectedPattern:_.g.maybe(_.g.reference(Nt)),selectedObj:_.g.maybe(_.g.string),selectedGroup:_.g.optional(_.g.string,"A"),selectedNote:_.g.maybe(_.g.reference(kt)),selectedKey:_.g.optional(_.g.string,""),selectedChord:_.g.maybe(_.g.string),device:_.g.maybe(_.g.union(_.g.literal("mobile"),_.g.literal("desktop"))),showSideBar:_.g.optional(_.g.boolean,!1)}).views(function(e){return{getSelectedPatternProp:function(t,o){if("resolution"!==t){if("notes"!==t);else if(o){if("master"!==o.type)return Vt.getPatternByTrackScene(o.id,e.selectedScene.id).getSortedNotesAsc.length}else if(e.selectedPattern)return e.selectedPattern.getSortedNotesAsc}else if(o){if("master"!==o.type)return o.resolution}else if(e.selectedPattern)return e.selectedPattern.resolution},get getSelectedNoteVelocity(){return e.selectedNote?e.selectedNote.velocity:void 0},get getSelectedNoteValue(){return e.selectedNote&&e.selectedNote.note?e.selectedNote.note.map(function(e){return e}):void 0},get getSelectedNoteDuration(){return e.selectedNote&&e.selectedNote.duration?e.selectedNote.duration:void 0},get getSelectedNoteOffset(){return e.selectedNote?e.selectedNote.offset:void 0},get getGridSizes(){if(e.selectedScene){var t=e.windowWidth,o=u.Time(e.viewLength),n=Vt.getSceneLength(e.selectedScene.id);if("edit"===Vt.ui.viewMode&&"bar"===Vt.ui.views.edit.mode&&(n=u.Time(u.Time("1:0:0"))),n>o){var i=n/o*t;return{parent:{width:2*i-t+"px",left:-1*i+t+"px"},container:{width:i+"px",left:i-t+"px"}}}}return{parent:{width:e.windowWidth+"px",left:0},container:{width:e.windowWidth+"px",left:0}}},calibrateSizes:function(t,o){if(e.selectedScene&&("sequencer"===e.viewMode||"button"===e.viewMode||"edit"===e.viewMode)){var n=e.windowWidth,i=e.viewLength,r=Vt.getSceneLength(e.selectedScene.id),a=document.getElementById("gridParent"),s=document.getElementById("gridContainer");if("edit"===Vt.ui.viewMode&&"bar"===Vt.ui.views.edit.mode&&(r=u.Time(u.Time("1:0:0"))),u.Time(r).toSeconds()>=u.Time(i).toSeconds()){var l=u.Time(i).toSeconds(),c=n*(u.Time(r).toSeconds()/l);a.style.width=2*c-n+"px",a.style.left=-1*c+n+"px",s.style.width=c+"px",s.style.left=c-n+"px"}if(t&&("sequencer"===e.viewMode||"edit"===e.viewMode&&"bar"===e.views.edit.mode)){var p=s.offsetHeight,d=40,m=162;"edit"===e.viewMode&&"bar"===e.views.edit.mode&&(d=80,m=202,p>e.windowHeight-m&&(m=e.windowHeight-60));var b=p-(e.windowHeight-m);if("edit"===e.viewMode&&"bar"===e.views.edit.mode&&(b=p-(e.windowHeight-m)),b>0){var f=parseInt(a.style.top.replace("px",""),10),h=d-b;a.style.top=h+"px",a.style.height=p+b+"px";var g=0;h!==f&&(g=f-h);var _=parseInt(s.getAttribute("data-x"),10),y=parseInt(s.getAttribute("data-y"),10);o?y=-1*h+80:h<f?y+=g:y-=g,s.setAttribute("data-y",y),s.style.transform="translate("+_+"px,"+y+"px)"}else a.style.top=d+"px",a.style.height=p+"px",s.setAttribute("data-y",0)}var v=parseFloat(s.style.left.replace("px","")),j=parseFloat(s.getAttribute("data-x")),w=parseFloat(s.getAttribute("data-y"));if(v<-1*j){var N=-1*v;s.setAttribute("data-x",N),s.style.webkitTransform=s.style.transform="translate("+N+"px, "+w+"px)"}j>0&&(s.setAttribute("data-x",0),s.style.webkitTransform=s.style.transform="translate(0px, "+w+"px)"),k()("#gridContainer").fire({type:"dragmove",target:s})}},get getWindowSizes(){return{width:e.windowWidth,height:e.windowHeight}}}}).actions(function(e){return{selectToolbar:function(t){e.selectedToolbar=t},setWindowWidthHeight:function(t,o){e.windowHeight=o,t>=960?(e.showSideBar||(e.showSideBar=!0),e.windowWidth=.8*t):(e.showSideBar&&(e.showSideBar=!1),e.windowWidth=t)},toggleMixMode:function(){e.mixMode=!e.mixMode},setViewLength:function(t){e.selectedScene&&("edit"===e.viewMode&&"bar"===e.views.edit.mode?u.Time(t)>=u.Time("0:1:0")&&u.Time(t)<=u.Time("1:0:0")&&(e.viewLength=t,e.calibrateSizes()):u.Time(t)<=Vt.getSceneLength(e.selectedScene.id)&&u.Time(t)>=u.Time("0:1:0")&&(e.viewLength=t,e.calibrateSizes()))},setViewScene:function(t){t.id!==e.selectedScene.id&&e.setViewLength(u.Time(Vt.getSceneLength(t.id)).toBarsBeatsSixteenths())},toggleSettings:function(t){t&&e.toggleViewMode("manager"),e.settings=!e.settings},selectScene:function(t){e.selectedScene=Vt.getScene(t),e.selectedScene&&e.setViewScene(e.selectedScene)},selectTrack:function(t){if(t){var o=Vt.getTrack(t);Vt.settings.partRender&&e.selectedTrack&&e.selectedScene&&e.selectedTrack.id!==t&&"master"!==e.selectedTrack.type&&X(e.selectedTrack,Vt.getPatternByTrackScene(e.selectedTrack.id,e.selectedScene.id)).then(function(){if(o&&"master"!==o.type){var t=ne.parts.find(function(t){return t.id===Vt.getPatternByTrackScene(o.id,e.selectedScene.id).id});t.player.stop(),t.playerPart.mute=!0,t.obj.mute=!1}}),e.selectedPattern=Vt.getPatternByTrackScene(o.id,Vt.ui.selectedScene.id),e.selectedTrack=o}else"edit"===Vt.ui.viewMode&&Vt.ui.toggleViewMode("sequencer"),e.selectedTrack=void 0},selectPattern:function(t){if(t){var o=Vt.getPattern(t);e.selectScene(o.scene.id),e.selectedPattern=o}else e.selectedPattern=void 0},selectObj:function(t){e.selectedObj=t,"editor1"===e.selectedToolbar?e.toolbar.editor1.selectObj(t):"editor2"===e.selectedToolbar&&e.toolbar.editor2.selectObj(t)},selectGroup:function(t){"M"!==t||e.mixMode||(e.mixMode=!0),e.selectedGroup=t},selectNote:function(t){var o=e.selectedNote;if(e.selectedNote=t,t&&(e.selectedTrack=t.getPattern.track),o&&!e.views.edit.multiNoteSelect&&e.selectedNote!==o&&"instrument"===o.getPattern.track.type){var n=o.getNote;n&&""===n[0]&&o.getPattern.deleteNote(o)}},selectKey:function(t){e.selectedKey=t},selectChord:function(t){e.selectedChord=t},toggleViewMode:function(t){t?"edit"===t?(e.selectedNote&&e.selectedTrack&&e.selectedNote.getPattern.track!==e.selectedTrack&&e.selectNote(void 0),"master"!==e.selectedTrack.type?(e.selectPattern(Vt.getPatternByTrackScene(e.selectedTrack.id,e.selectedScene.id).id),u.Time(e.viewLength)>u.Time("1:0:0")&&e.setViewLength("1:0:0")):"graph"!==e.views.edit.mode&&e.views.edit.toggleMode("graph"),e.viewMode="edit"):"sequencer"===t?e.viewMode="sequencer":"button"===t?e.viewMode="button":"manager"===t&&(e.viewMode="manager"):"button"===("reorder"===document.getElementById("iViewMode").innerHTML?"sequencer":"button")?(e.selectedNote&&e.selectedTrack&&e.selectedNote.getPattern.track!==e.selectedTrack&&e.selectNote(void 0),e.editMode&&(e.editMode=!1),"M"===e.selectedGroup&&(e.selectedGroup="A"),e.selectedTrack&&e.selectedScene&&(e.selectedPattern=Vt.getPatternByTrackScene(e.selectedTrack.id,e.selectedScene.id)),e.viewMode="button"):(e.mixMode&&"M"!==e.selectedGroup&&(e.mixMode=!1),e.viewMode="sequencer"),("button"===e.viewMode||"sequencer"===e.viewMode||"edit"===e.viewMode&&"graph"===e.views.edit.mode)&&u.Time(e.viewLength)>u.Time(e.selectedScene.getLength)&&(e.viewLength=u.Time(e.selectedScene.getLength).toBarsBeatsSixteenths())},toggleEditMode:function(){e.editMode=!e.editMode,"edit"===e.viewMode&&"bar"===e.views.edit.mode&&(e.editMode||(e.views.edit.clearSelectedBars(),e.views.edit.multiNoteSelect&&("instrument"===Vt.ui.selectedTrack.type?e.views.edit.delSelectedNotes():e.views.edit.resetSelectedNotes())))},toggleRecordMode:function(){e.recordMode=!e.recordMode,ne.metronome&&(ne.metronome.mute=!e.recordMode)},setDevice:function(){var t="desktop";/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(t="mobile"),e.device=t}}}),zt=_.g.model("Settings",{title:_.g.maybe(_.g.string),modified:_.g.maybe(_.g.Date),bpm:_.g.optional(_.g.number,90),swing:_.g.optional(_.g.number,0),swingSubdivision:_.g.optional(_.g.string,"8n"),loopStart:_.g.optional(_.g.string,"0:0:0"),loopEnd:_.g.optional(_.g.string,"1:0:0"),scale:_.g.optional(_.g.string,"major"),key:_.g.optional(_.g.string,"C"),partRender:_.g.optional(_.g.boolean,!1)}).actions(function(e){return{setScale:function(t){e.scale=t},setKey:function(t){e.key=t},setSongTitle:function(t){e.title=t},setModified:function(t){e.modified=t},setBPM:function(t){e.bpm=t,u.Transport.bpm.value=parseFloat(t)},setSwing:function(t){e.swing=t,u.Transport.swing=parseFloat(t)},setSwingSubdivision:function(t){e.swingSubdivision=t,u.Transport.swingSubdivision=t},setLoopStart:function(t){e.loopStart=t,u.Transport.loopStart=u.Time(t)},setLoopEnd:function(t){e.loopEnd=t,u.Transport.loopEnd=u.Time(t)}}}),Rt=_.g.model("RootStore",{id:_.g.maybe(_.g.string),settings:zt,tracks:_.g.maybe(_.g.array(se)),patterns:_.g.maybe(_.g.array(Nt)),scenes:_.g.maybe(_.g.array(wt)),samples:_.g.maybe(_.g.array(re)),ui:Lt,sources:_.g.maybe(lt),instruments:_.g.maybe(jt),effects:_.g.maybe(Ce),components:_.g.maybe(Je),connections:_.g.maybe(_.g.array(ce))}).views(function(e){return{getObjsByTrackObj:function(t){var o=[];return t&&(o=(o=(o=(o=o.concat(e.instruments.getAllByTrack(t.id))).concat(e.effects.getAllByTrack(t.id))).concat(e.components.getAllByTrack(t.id))).concat(e.sources.getAllByTrack(t.id))),o},getObjTypeByIdTrack:function(t,o){return e.instruments.getAllByTrack(o).find(function(e){return e.id===t})?"instrument":e.effects.getAllByTrack(o).find(function(e){return e.id===t})?"effect":e.components.getAllByTrack(o).find(function(e){return e.id===t})?"component":e.sources.getAllByTrack(o).find(function(e){return e.id===t})?"source":null},getTrack:function(t){return e.tracks.find(function(e){return e.id===t})},getTrackBySampleRegion:function(t,o){return e.tracks.filter(function(e){return"master"!==e.type&&"audio"===e.type&&e.sample.id===t&&e.region}).find(function(e){return e.region.id===o})},getTracksByGroup:function(t){return"M"===t?e.tracks.filter(function(e){return"master"===e.type}):e.tracks.filter(function(e){return e.group===t&&"master"!==e.type}).sort(function(e,t){return e.groupIndex-t.groupIndex})},getScene:function(t){return e.scenes.find(function(e){return e.id===t})},getSceneByTime:function(t){var o=u.Time(t);return e.scenes.find(function(e){return o>=u.Time(e.start)&&o<u.Time(e.end)})},get getScenesAsc(){return e.scenes.slice().sort(function(e,t){return u.Time(e.start)-u.Time(t.start)})},get getScenesDesc(){return e.scenes.slice().sort(function(e,t){return u.Time(t.start)-u.Time(e.start)})},getPrevScene:function(t){var o=e.getScene(t),n=e.getScenesDesc;if(n.length>1)for(var i=0;i<n.length;i++)if(n[i]===o&&i!==n.length)return n[i+1]},getNextScene:function(t){var o=e.getScene(t),n=e.getScenesAsc;if(n.length>1)for(var i=0;i<n.length;i++)if(n[i]===o&&i!==n.length)return n[i+1]},getPattern:function(t){return e.patterns.find(function(e){return e.id===t})},get getAllPatterns(){return e.patterns},get getAllSamples(){return e.samples},get getNumTracks(){var e=0;return["A","B","C","D"].forEach(function(t){e+=Vt.getTracksByGroup(t).filter(function(e){return"master"!==e.type}).length}),e},get numSamples(){return e.getAllSamples.length},get getAllRegions(){var t=[];return e.getAllSamples.forEach(function(e){t.push.apply(t,Object(h.a)(e.regions))}),t},get numRegions(){return e.getAllRegions.length},getSample:function(t){return e.samples.find(function(e){return e.id===t})},getSampleByUrlLength:function(t,o){return e.samples.find(function(e){return e.url===t&&e.length===o})},getConnection:function(t){return e.connections.find(function(e){return e.id===t})},getConnectionsByObjId:function(t){return e.connections.filter(function(e){return e.src===t||e.dest===t})},getConnectionsByTrack:function(t){return e.connections.filter(function(e){return e.track.id===t})},getPatternsByTrack:function(t){return e.patterns.filter(function(e){return e.track.id===t})},getPatternsByScene:function(t){return e.patterns.filter(function(e){return e.scene.id===t})},getPatternByTrackScene:function(t,o){return e.patterns.find(function(e){return e.track.id===t&&e.scene.id===o})},getPatternsBySceneGroup:function(t,o){return e.patterns.filter(function(e){return e.track.group===o&&e.scene.id===t})},getNotesByTrack:function(t){var o=[];return e.getPatternsByTrack(t).forEach(function(e){o=o.concat(e.getSortedNotesAsc)}),o},getSceneLength:function(t){var o=e.getScene(t);return u.Time(o.end)-u.Time(o.start)},getSongLength:function(){var t=0;return e.scenes.forEach(function(o){t=u.Time(t)+u.Time(e.getSceneLength(o.id))}),t},get getLoopLength(){return u.Time(e.settings.loopEnd)-u.Time(e.settings.loopStart)},get refreshConnections(){e.connections.forEach(function(e){})}}}).actions(function(e){function t(){return(t=Object(f.a)(te().mark(function e(t){var o,n,i,r;return te().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a("propadb",1,function(e){return e.createObjectStore("audio",{keyPath:"id"})});case 2:return o=e.sent,n=o.transaction("audio","readwrite"),i=n.objectStore("audio"),e.next=7,i.get(t);case 7:return r=e.sent,e.next=10,n.complete;case 10:return o.close(),e.abrupt("return",r);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function o(){return(o=Object(f.a)(te().mark(function e(t){var o,n,i;return te().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a("propadb",1,function(e){return e.createObjectStore("audio",{keyPath:"id"})});case 2:return o=e.sent,n=o.transaction("audio","readwrite"),i=n.objectStore("audio"),e.next=7,i.put(t);case 7:return e.next=9,n.complete;case 9:o.close();case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function n(){return(n=Object(f.a)(te().mark(function e(t){var o,n;return te().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a("propadb",1,function(e){return e.createObjectStore("songs",{keyPath:"id"})});case 2:return o=e.sent,n=o.transaction("songs","readwrite"),n.objectStore("songs").delete(t),e.next=8,n.complete;case 8:o.close();case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function i(){return(i=Object(f.a)(te().mark(function e(){var t,o,n,i,r;return te().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a("propadb",1,function(e){return e.createObjectStore("songs",{keyPath:"id"})});case 2:return t=e.sent,o=t.transaction("songs","readonly"),n=o.objectStore("songs"),e.next=7,n.getAll();case 7:return i=e.sent,e.next=10,o.complete;case 10:return t.close(),r=[],i.forEach(function(e){r.push({id:e.id,title:e.settings.title,modified:e.settings.modified})}),e.abrupt("return",r);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function r(e){var t,o=indexedDB.open("propadb",1);o.onupgradeneeded=function(e){var t=e.target.result;console.log("DB Save - running onupgradeneeded"),t.objectStoreNames.contains("songs")||t.createObjectStore("songs",{keyPath:"id"}),t.objectStoreNames.contains("audio")||t.createObjectStore("audio",{keyPath:"id"})},o.onsuccess=function(o){if(e){var n=(t=o.target.result).transaction(["songs"],"readwrite").objectStore("songs").put(Object(_.e)(Vt));n.onerror=function(e){t.close()},n.onsuccess=function(e){t.close()}}},o.onerror=function(e){console.log("DB Save Error!"),console.dir(e)}}return{afterCreate:function(){r(!1)},setSongId:function(t){e.id=t},DBGetAllSongs:function(){return i.apply(this,arguments)},DBSaveStore:r,DBLoadStore:function(e){var t=indexedDB.open("propadb",1);t.onsuccess=function(t){console.log("DB Load - running onsuccess");var o=t.target.result.transaction(["songs"],"readwrite").objectStore("songs").get(e);o.onerror=function(e){console.log("Error loading database",e.target.error.name)},o.onsuccess=function(e){console.log("opened database. loading song..."),Q(e.target.result.settings),Y(e.target.result),e.target.result.ui.toolbar.browser.action=void 0,e.target.result.ui.windowWidth=Vt.ui.windowWidth,e.target.result.ui.windowHeight=Vt.ui.windowHeight,Object(_.a)(Vt,e.target.result),Vt.patterns.forEach(function(e){e.getSortedNotesAsc.forEach(function(e){})}),Vt.refreshConnections,Vt.instruments.players.forEach(function(){}),e.target.result.samples.forEach(function(e){})}},t.onerror=function(e){console.log("DB Load - onerror!"),console.dir(e)}},DBSaveAudioFile:function(e){return o.apply(this,arguments)},DBLoadAudioFile:function(e){return t.apply(this,arguments)},DBDeleteSongById:function(e){return n.apply(this,arguments)},DBDelete:function(){var e=indexedDB.deleteDatabase("propadb");e.onerror=function(e){console.log("Error deleting database.")},e.onsuccess=function(e){console.log("Database deleted successfully"),console.log(e.result)}},addPattern:function(t,o,n,i,r){e.patterns.push(Nt.create({id:t,resolution:o,track:n,scene:i,notes:r}))},delPattern:function(t){e.ui.selectedNote&&e.ui.selectedNote.getPattern.id===t&&e.ui.selectNote(void 0),Object(_.b)(e.getPattern(t))},addMasterTracks:function(){["master","A","B","C","D"].forEach(function(t){var o="track_"+t;"master"===t?e.tracks.push(se.create({id:o,type:"master",mute:!1,solo:!1,sample:void 0,region:void 0,group:"M",mixRow:ae.create({})})):e.tracks.push(se.create({id:o,type:"master",mute:!1,solo:!1,sample:void 0,region:void 0,group:t,mixRow:ae.create({})}));var n="panvol_"+t;Vt.components.add("panvol",{id:n,track:o});var i="panvol_"+t+"_out";if(Vt.components.add("panvol",{id:i,track:o}),"master"===t)Vt.addConnection("connection_"+oe(),o,n,i,"component","component"),Vt.addConnection("connection_"+oe(),o,i,"master","component","master");else{var r="mix_solo_"+t;Vt.components.add("solo",{id:r,track:o}),Vt.addConnection("connection_"+oe(),o,r,n,"component","component"),Vt.addConnection("connection_"+oe(),o,n,i,"component","component"),Vt.addConnection("connection_"+oe(),o,i,"panvol_master","component","component")}})},addTrack:function(t,o,n,i,r,a){if("M"!==e.ui.selectedGroup){var s=Vt.getTracksByGroup(e.ui.selectedGroup).length;e.tracks.push(se.create({id:t,type:o,mute:n,solo:i,sample:r,region:a,group:e.ui.selectedGroup,groupIndex:s,mixRow:ae.create({})}));var l="panvol_"+oe();if(e.components.panvols.push(Ie.create({id:l,track:t})),Vt.addConnection("connection_"+oe(),t,l,"mix_solo_"+e.ui.selectedGroup,"component","component"),"audio"===o){var c="player_"+oe();Vt.instruments.add("player",{id:c,track:t,sample:r,region:a}),Vt.addConnection("connection_"+oe(),t,c,l,"instrument","component")}e.scenes.forEach(function(o){e.addPattern("pattern_"+oe(),"16n",t,o.id,[])}),Vt.ui.selectTrack(t)}},duplicateTrack:function(t){var o=e.getTrack(t),n="track_"+oe();e.addTrack(n,o.type,o.mute,o.solo,o.sample,o.region);var i=function e(t,o,n,i,r){Object.keys(t).forEach(function(a){if(a===o){var s=t[a].split("_");s[s.length-1]=n||oe(),t[a]=s.toString().replace(/,/g,"_")}else"object"===typeof t[a]&&e(t[a],o,n,i,r)})},r=e.getConnectionsByTrack(t).filter(function(e){return"mix"!==e.src.split("_")[0]&&"mix"!==e.dest.split("_")[0]}).map(function(e){return Object(g.a)({},Object(_.e)(e))});e.getObjsByTrackObj(o).sort(function(e,t){return e-t}).forEach(function(t){var a=t.id.split("_")[0];if("mix"!==a){var s=v(Object(_.e)(t));if(s.track=n,"panvol"===a){var l=e.components.panvols.find(function(e){return e.track.id===n});s.id=l.id,Object(_.a)(l,s)}else if("player"===a){var c=e.instruments.players.find(function(e){return e.track.id===n});s.id=c.id,Object(_.a)(c,s),e.delConnectionsByObj(c.id)}else if("tinysynth"!==a){i(s,"id");var p=e.getObjTypeByIdTrack(t.id,o.id)+"s";e[p].add(a,s)}else if("tinysynth"===a&&"panvol"===t.id.split("_")[1]){i(s,"id"),e.components.add("panvol",s);var d=e.instruments.getInstrumentByTypeId("tinysynth","tinysynth_"+t.id.split("_")[2]),m=Object(g.a)({},Object(_.e)(d));m.track=n,i(m,"id",s.id.split("_")[2]),i(m,"panvol",s.id.split("_")[2]),e.instruments.add("tinysynth",m)}r.filter(function(e){return e.src===t.id||e.dest===t.id}).forEach(function(e){e.src===t.id?e.src=s.id:e.dest===t.id&&(e.dest=s.id)})}}),r.forEach(function(e){Vt.addConnection("connection_"+oe(),n,e.src,e.dest,e.srcType,e.destType,e.signal,e.numOut,e.numIn)}),e.getPatternsByTrack(o.id).forEach(function(t){e.getPatternByTrackScene(n,t.scene.id).pastePattern(t)})},delTrack:function(t){var o=e.getTrack(t);if(Vt.ui.selectedPattern&&Vt.ui.selectedPattern.track.id===t&&Vt.ui.selectPattern(void 0),Vt.ui.selectedTrack&&Vt.ui.selectedTrack.id===o.id){var n=Vt.getTracksByGroup(Vt.ui.selectedGroup);n.length>1?o.groupIndex+1===n.length?Vt.ui.selectTrack(n.find(function(e){return e.groupIndex===o.groupIndex-1}).id):Vt.ui.selectTrack(n.find(function(e){return e.groupIndex===o.groupIndex+1}).id):Vt.ui.selectTrack(void 0)}Vt.ui.selectedNote&&Vt.ui.selectedNote.getPattern.track===o&&Vt.ui.selectNote(void 0),Vt.ui.selectedObj&&Vt.getObjsByTrackObj(o).find(function(e){return e.id===Vt.ui.selectedObj})&&Vt.ui.selectObj(""),Vt.ui.views.edit.copiedPattern&&Vt.ui.views.edit.copiedPattern.track.id===t&&Vt.ui.views.edit.setCopiedPatternId(void 0),e.components.getAllByTrack(t).forEach(function(t){var o=t.id.split("_");e.components.isHidden(t.id)?e.components.delete(o[1],t.id):e.components.delete(o[0],t.id)}),e.effects.getAllByTrack(t).forEach(function(t){e.effects.delete(t.id.split("_")[0],t.id)}),e.instruments.getAllByTrack(t).forEach(function(t){e.instruments.delete(t.id.split("_")[0],t.id)}),e.sources.getAllByTrack(t).forEach(function(t){e.sources.delete(t.id.split("_")[0],t.id)}),e.patterns.filter(function(e){return e.track.id===t}).forEach(function(t){return e.delPattern(t.id)}),"audio"===o.type&&o.region&&e.getSample(o.sample.id).delRegion(o.region.id),e.getTracksByGroup(o.group).filter(function(e){return e.groupIndex>o.groupIndex}).forEach(function(e){return e.setGroupIndex(e.groupIndex-1)}),Object(_.b)(e.getTrack(t))},addScene:function(t,o,n){e.scenes.push(wt.create({id:t,start:o,end:n,on:!0})),e.tracks.forEach(function(o){"master"!==o.type&&e.addPattern("pattern_"+oe(),"16n",o.id,t,[])})},delScene:function(t){if(e.scenes.length>1){var o=e.getScene(t);e.getPatternsByScene(t).forEach(function(t){return e.delPattern(t.id)});var n=e.getNextScene(o.id),i=e.getPrevScene(o.id);n?(e.shiftSceneTimes(o.end,e.getSceneLength(o.id),"sub"),e.ui.selectScene(n.id)):(u.Time(e.settings.loopStart)>=u.Time(o.start)&&e.settings.setLoopStart(i.start),u.Time(e.settings.loopEnd)>u.Time(o.start)&&e.settings.setLoopEnd(i.end),e.ui.selectScene(i.id)),Object(_.b)(o)}},shiftSceneTimes:function(t,o,n){var i=e.getScenesAsc.filter(function(e){return u.Time(e.end)>=u.Time(t)});i.forEach(function(e){"sub"===n&&(e!==i[0]&&e.setStart(u.Time(u.Time(e.start)-u.Time(o)).toBarsBeatsSixteenths()),e.setEnd(u.Time(u.Time(e.end)-u.Time(o)).toBarsBeatsSixteenths())),"add"===n&&(e!==i[0]&&e.setStart(u.Time(u.Time(e.start)+u.Time(o)).toBarsBeatsSixteenths()),e.setEnd(u.Time(u.Time(e.end)+u.Time(o)).toBarsBeatsSixteenths())),Vt.getPatternsByScene(e.id).forEach(function(e){ne.parts.find(function(t){return t.id===e.id}).obj.dispose(),e.initPart(),e.getSortedNotesAsc.forEach(function(e){e.setPartNote()})})}),u.Time(e.settings.loopEnd)>=u.Time(t)&&("add"===n?Vt.settings.setLoopEnd(u.Time(u.Time(e.settings.loopEnd)+u.Time(o)).toBarsBeatsSixteenths()):"sub"===n&&Vt.settings.setLoopEnd(u.Time(u.Time(e.settings.loopEnd)-u.Time(o)).toBarsBeatsSixteenths())),u.Time(e.settings.loopStart)>=u.Time(t)&&("add"===n?Vt.settings.setLoopStart(u.Time(u.Time(e.settings.loopStart)+u.Time(o)).toBarsBeatsSixteenths()):"sub"===n&&Vt.settings.setLoopStart(u.Time(u.Time(e.settings.loopStart)-u.Time(o)).toBarsBeatsSixteenths()))},swapScenes:function(t,o){var n=e.getScene(t),i=e.getScene(o),r=n.start,a=e.getSceneLength(i.id);n.setStart(u.Time(u.Time(i.end)-u.Time(e.getSceneLength(n.id))).toBarsBeatsSixteenths()),n.setEnd(i.end),i.setStart(r),i.setEnd(u.Time(u.Time(r)+u.Time(a)).toBarsBeatsSixteenths()),[n,i].forEach(function(t){e.getPatternsByScene(t.id).forEach(function(e){ne.parts.find(function(t){return t.id===e.id}).obj.dispose(),e.initPart(),e.getSortedNotesAsc.forEach(function(e){e.setPartNote()})})})},duplicateScene:function(t){var o=u.Time(e.getSongLength()).toBarsBeatsSixteenths(),n=u.Time(u.Time(o)+u.Time(e.getSceneLength(t))).toBarsBeatsSixteenths(),i="scene_"+oe();e.addScene(i,o,n),e.getPatternsByScene(t).forEach(function(t){var o=e.getPatternByTrackScene(t.track.id,i);t.getSortedNotesAsc.forEach(function(e){o.addNote(e.time,e.mute,e.note,e.duration)})}),e.ui.selectScene(i)},addConnection:function(t,o,n,i,r,a,s,l,c){e.connections.push(ce.create({id:t,track:o,src:n,dest:i,srcType:r,destType:a,signal:s,numOut:l,numIn:c}))},delConnectionsByObj:function(t){e.getConnectionsByObjId(t).forEach(function(e){Object(_.b)(e)})},delConnection:function(t){Object(_.b)(e.getConnection(t))},addSample:function(t,o,n,i,r){e.samples.push(re.create({id:t,url:o,length:n,regions:i,duration:r}))},delSample:function(t){Object(_.b)(e.getSample(t))}}}),Ft="scene_"+oe(),Vt=Rt.create({id:"song_"+oe(),settings:{title:"untitled",modified:void 0,bpm:120,"swing:":0,loopStart:"0:0:0",loopEnd:"1:0:0",scale:b.c.names()[Math.floor(Math.random()*b.c.names().length)],key:["C","C#","Db","D","D#","Eb","E","E#","Fb","F","F#","Gb","G","G#","Ab","A","A#","Bb","B","B#","Cb"][Math.floor(21*Math.random())],swingSubDivision:"16n",partRender:!1},tracks:[],patterns:[],scenes:[{id:Ft,start:"0:0:0",end:"1:0:0",on:!0}],samples:[],ui:{viewMode:"sequencer",views:{sequencer:{},button:{},edit:{mode:"bar"},manager:{}},toolbar:{main:{},browser:{browser1:{selectedDir:"/",selectedFile:void 0},browser2:{selectedDir:"/",selectedFile:void 0},browser3:{selectedDir:"/",selectedFile:void 0},action:void 0},editor1:{},editor2:{},song:{},keys:{}},mixMode:!1,editMode:!1,recordMode:!1,settings:!1,viewLength:"1:0:0",windowHeight:0,windowWidth:0,selectedToolbar:void 0,selectedScene:Ft,selectedTrack:void 0,selectedPattern:void 0,selectedObj:void 0,selectedGroup:"A",selectedNote:void 0,selectedKey:void 0,selectedChord:void 0,device:void 0,showSideBar:void 0},sources:{amoscillators:[],fmoscillators:[],fatoscillators:[],oscillators:[],omnioscillators:[],pwmoscillators:[],pulseoscillators:[],noises:[],usermedias:[]},instruments:{players:[],synths:[],amsynths:[],fmsynths:[],monosynths:[],metalsynths:[],membranesynths:[],plucksynths:[],noisesynths:[],polysynths:[],duosynths:[],tinysynths:[]},effects:{autofilters:[],autopanners:[],autowahs:[],bitcrushers:[],chebyshevs:[],choruss:[],convolvers:[],distortions:[],feedbackdelays:[],freeverbs:[],jcreverbs:[],midsideeffects:[],phasers:[],pingpongdelays:[],pitchshifts:[],reverbs:[],stereowideners:[],tremolos:[],vibratos:[]},components:{filters:[],followers:[],meters:[],panvols:[],splits:[],limiters:[],solos:[],eq3s:[],compressors:[],gates:[],monos:[],envelopes:[],amplitudeenvelopes:[],frequencyenvelopes:[],lfos:[],feedbackcombfilters:[],lowpasscombfilters:[],multibandcompressors:[],midsidecompressors:[],multibandsplits:[],volumes:[],panners:[]},connections:[]}),Gt=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).playing=!1,o.toggleRecordMode=function(){Vt.ui.toggleRecordMode()},o.toggleMixMode=function(){Vt.ui.toggleMixMode()},o.toggleViewMode=function(e){Vt.ui.toggleViewMode()},o.toggleSlider=function(e){if("BPM"===e.target.innerHTML){e.target.innerHTML="Swng",document.getElementById("tempoSlider").setAttribute("min",0),document.getElementById("tempoSlider").setAttribute("max",100),document.getElementById("tempoSlider").setAttribute("step",1);var t=parseInt(100*o.props.store.settings.swing,10);document.getElementById("tempoSlider").value=t,document.getElementById("lblTempo").innerHTML=t+"%",o.tempoMode="swing"}else e.target.innerHTML="BPM",document.getElementById("tempoSlider").setAttribute("min",60),document.getElementById("tempoSlider").setAttribute("max",180),document.getElementById("tempoSlider").setAttribute("step",.5),document.getElementById("tempoSlider").value=o.props.store.settings.bpm,document.getElementById("lblTempo").innerHTML=o.props.store.settings.bpm,o.tempoMode="bpm"},o.toggleSettings=function(e){"manager"===o.props.viewMode?Vt.ui.toggleViewMode(o.viewPrev):Vt.ui.toggleSettings(!0)},o.tempoChange=function(e){if("bpm"===o.tempoMode){var t=Number(e.target.value);Vt.settings.setBPM(t),document.getElementById("lblTempo").innerHTML=e.target.value}if("swing"===o.tempoMode){var n=Number(e.target.value/100);Vt.settings.setSwing(n),document.getElementById("lblTempo").innerHTML=e.target.value+"%"}},o.togglePlay=function(e){e.stopPropagation();var t=document.getElementById("iconPlay");!1===o.playing?(Vt.ui.recordMode?u.Transport.start("+0.1",u.Time(Vt.settings.loopStart)-u.Time("1:0:0")):u.Transport.start("+0.1",Vt.settings.loopStart),t.innerHTML="stop"):(u.Transport.stop(),ne.instruments.forEach(function(e){var t=e.id.split("_")[0];"player"===t?(e.obj.stop(),setTimeout(function(){if("button"===Vt.ui.viewMode&&Vt.getTrack(e.track).group===Vt.ui.selectedGroup){var t=document.getElementById("divGridButton_"+e.track);if(t){var o=t.querySelector(".divGridButtonProgress");o&&(o.style.animation="none")}}},100)):"noisesynth"!==t&&"plucksynth"!==t&&"membranesynth"!==t&&"metalsynth"!==t?e.obj.releaseAll():e.obj.triggerRelease()}),ne.sources.forEach(function(e){e.obj.stop()}),t.innerHTML="play_arrow"),o.playing=!o.playing},o.endSlider=function(e){},o.hideBPMFooter=function(e){Vt.ui.toggleSettings(!1)},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.tempoMode="bpm",document.getElementById("lblTempo").innerHTML=this.props.bpm,document.getElementById("tempoSlider").value=this.props.bpm,document.getElementById("iViewMode").innerHTML="button"===this.props.viewMode?"reorder":"view_module"}},{key:"componentDidUpdate",value:function(e,t,o){this.tempoMode="bpm",document.getElementById("lblTempo").innerHTML=this.props.bpm,document.getElementById("tempoSlider").value=this.props.bpm;var n=document.getElementById("iViewMode");"manager"===this.props.viewMode&&"manager"!==e.viewMode||"edit"===this.props.viewMode&&"edit"!==e.viewMode?("manager"===this.props.viewMode&&"manager"!==e.viewMode&&(this.viewPrev=e.viewMode,document.getElementById("iconFooterSettings").innerHTML="arrow_back"),"button"===e.viewMode?n.innerHTML="view_module":"sequencer"===e.viewMode&&(n.innerHTML="reorder")):"button"===this.props.viewMode?n.innerHTML="reorder":"sequencer"===this.props.viewMode&&(n.innerHTML="view_module"),"manager"===e.viewMode&&"manager"!==this.props.viewMode&&(document.getElementById("iconFooterSettings").innerHTML="settings_applications")}},{key:"render",value:function(){var e=40,t={display:"none"};this.props.settings&&(e=80,t={display:"block"});var o="";return this.props.store.ui.recordMode&&(o=" colorRed"),i.a.createElement("div",{id:"divFooter",className:"divFooter",style:{height:e+"px",width:this.props.store.ui.windowWidth+"px"}},i.a.createElement("div",{className:"divTransportControls"},i.a.createElement("button",{onClick:this.toggleViewMode,style:{position:"absolute",left:"0px",height:"100%",backgroundColor:"transparent",border:0}},i.a.createElement("i",{id:"iViewMode",className:"material-icons i-36"})),i.a.createElement("button",{id:"btnTransportToggleRecord",onClick:this.toggleRecordMode,style:{height:"100%",width:"50px",backgroundColor:"transparent",border:0}},i.a.createElement("i",{id:"iconRecord",className:"material-icons i-36"+o},"fiber_manual_record")),i.a.createElement("button",{id:"btnTransportTogglePlay",onClick:this.togglePlay,style:{height:"100%",width:"50px",backgroundColor:"transparent",border:0}},i.a.createElement("i",{id:"iconPlay",className:"material-icons i-36"},"play_arrow")),i.a.createElement("button",{onClick:this.toggleSettings,style:{position:"absolute",right:0,height:"100%",backgroundColor:"transparent",border:0}},i.a.createElement("i",{id:"iconFooterSettings",className:"material-icons i-36"},"settings_applications"))),i.a.createElement("div",{className:"divFooterSettings",style:t},i.a.createElement("button",{id:"btnToggleTempoSlider",onClick:this.toggleSlider},"BPM"),i.a.createElement("label",{id:"lblTempo"}),i.a.createElement("div",{style:{position:"relative",marginLeft:"55px",marginRight:"50px"}},i.a.createElement("input",{type:"range",min:"60",max:"180",id:"tempoSlider",step:"0.5",onChange:this.tempoChange,onMouseUp:this.endSlide,onTouchEnd:this.endSlide})),i.a.createElement("button",{id:"btnHideFooter",onClick:this.hideBPMFooter},i.a.createElement("i",{className:"material-icons i-36"},"arrow_drop_down_circle"))))}}]),t}(n.Component)),Ut=o(10),Wt=o(79),Ht=o(741),qt=!1,Kt=(new u.Player).toDestination(),Xt=function(e,t,o){o.querySelector(".divListItemLoadingIcon").style.display="none",t.style.animation="progressWidth "+Kt.buffer.duration+"s linear",Kt.start(),e.tStart=(new Date).getTime()},Zt=function(e,t){Kt.stop(),t.style.animation="none",e.tStart=void 0},Yt=function(e,t){var o=e.type,n=e.name.toLowerCase(),i=n+"_"+oe(),r="track_"+oe();if("song"===o){var a=Vt.ui.toolbar.browser[t].selectedDir.split("/")[2];if(a)switch(a){case"Key":Vt.settings.setKey(e.name);break;case"Scale":Vt.settings.setScale(e.name);break;case"Swing":Vt.settings.setSwingSubdivision(e.name)}else switch(e.name){case"Save As":Vt.ui.toolbar.browser.setAction(e.name);break;case"Save":Vt.DBGetAllSongs().then(function(e){e.find(function(e){return e.id===Vt.id})?(Vt.settings.setModified(Date.now()),Vt.DBSaveStore(!0)):Vt.ui.toolbar.browser.setAction("Save")});break;case"Load":Vt.ui.toolbar.browser.setAction(e.name);break;case"Export":!function(){var e=function(e,t,o,n){Vt.DBLoadAudioFile(o).then(function(i){if(i)if(i.data){var r=new u.Buffer,a=o.replace("sample_/","");if(["region","sample"].includes(a.split("_")[0])&&"wav"!==a.split(".").pop()&&(a=o+".wav"),Array.isArray(i.data)||i.data instanceof Float32Array)r.fromArray(i.data),q(r.get()).then(function(t){n.file(a,t),r.dispose(),e(!0)});else{var s=window.URL.createObjectURL(i.data);r.load(s).then(function(){q(r.get()).then(function(t){n.file(a,t),window.URL.revokeObjectURL(s),r.dispose(),e(!0)})})}}else t("no audio data found in DB");else t("no id found in DB")})},t=new x.a,o=t.folder(Vt.settings.title);o.file("song.json",JSON.stringify(Vt));var n=[];Vt.getAllSamples.forEach(function(t){n.push(new Promise(function(n,i){e(n,i,t.id,o)})),t.regions.forEach(function(t){n.push(new Promise(function(n,i){e(n,i,t.id,o)}))})}),Promise.all(n).then(function(){t.generateAsync({type:"blob"}).then(function(e){Object(S.saveAs)(e,Vt.settings.title+".zip")})})}();break;case"Render":X().then(function(){});break;case"Fullscreen":!function(){var e=window.document,t=e.documentElement,o=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,n=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?n.call(e):o.call(t),Vt.ui.calibrateSizes()}();break;case"BPM":Vt.ui.toggleSettings(!1)}}else if("instrument"===o||"source"===o){if("edit"===Vt.ui.viewMode)r=Vt.ui.selectedTrack.id,Vt[o+"s"].add(n,{id:i,track:r});else{Vt.addTrack(r,"instrument",!1,!1),Vt[o+"s"].add(n,{id:i,track:r});var s=Vt.components.getAllByTrack(r).find(function(e){return"panvol"===e.id.split("_")[0]}).id;"tinysynth"!==n?Vt.addConnection("connection_"+oe(),r,i,s,o,"component"):Vt.addConnection("connection_"+oe(),r,"tinysynth_panvol_"+i.split("_")[1],s,"component","component")}Vt.ui.selectToolbar("synth"),"tinysynth"===n?Vt.ui.selectObj("tinysynth_panvol_"+i.split("_")[1]):Vt.ui.selectObj(i)}else if("effect"===o||"component"===o)Vt.ui.selectedTrack&&(Vt[o+"s"].add(n,{id:i,track:Vt.ui.selectedTrack.id}),Vt.ui.selectToolbar("editor1"),Vt.ui.selectObj(i));else if("sample"===o)if("...Import"===e.name)document.getElementById("inputFile_"+t).click();else if("...Folder"===e.name);else if("...Record"===e.name)Vt.ui.selectToolbar("editor1"),Vt.ui.selectObj("record_"+oe());else if("/Samples"===e.dir.substr(0,8))"region"===e.name.split("_")[0]?Vt.DBLoadAudioFile(e.name).then(function(e){if(e&&e.data&&(e.data instanceof Blob||Array.isArray(e.data)||e.data instanceof Float32Array)){var t="sample_"+oe();Vt.DBSaveAudioFile({id:t,url:void 0,duration:e.duration,data:e.data}).then(function(){Vt.addSample(t,void 0,void 0,[],e.duration),Vt.ui.selectToolbar("editor1"),Vt.ui.selectObj(t)})}}):(Vt.ui.selectToolbar("editor1"),Vt.ui.selectObj(e.name));else if("/Library"===e.dir.substr(0,8)){var l=e.dir+"/"+e.name,c="sample_"+l;Vt.DBLoadAudioFile(c).then(function(e){if(e)Vt.getSample(c)||Vt.addSample(c,l,e.data.length,[],e.duration),Vt.ui.selectToolbar("editor1"),Vt.ui.selectObj(c);else var t=new u.Buffer(l,function(){q(t.get()).then(function(e){Vt.DBSaveAudioFile({id:c,url:l,duration:t.duration,data:e}).then(function(){Vt.getSample(c)||Vt.addSample(c,l,t.length,[],t.duration),Vt.ui.selectToolbar("editor1"),Vt.ui.selectObj(c),t.dispose()})})})})}},Qt=function(e,t){if(!qt&&e!==Vt.ui.toolbar.browser[t].selectedDir){"/"===e?(document.getElementById("btnBrowseBack_"+t).style.opacity=.5,document.getElementById("btnBrowseHome_"+t).style.opacity=.5):(document.getElementById("btnBrowseBack_"+t).style.opacity=1,document.getElementById("btnBrowseHome_"+t).style.opacity=1),Jt(!0,t),qt=!0;var o=document.getElementById("divListBrowseContainer_"+t);o.classList.add("menuFade"),setTimeout(function(){o.classList.remove("menuFade");var n=o.querySelector(".itemSelected");n&&n.classList.remove("itemSelected"),Vt.ui.toolbar.browser[t].selectDir(e),qt=!1},220)}},Jt=function(e,t){var o=document.getElementById("btnBrowseLoad_"+t);e?(o.disabled=!0,o.style.opacity=.25):(o.disabled=!1,o.style.opacity=1)},$t=function(e,t){e.folder?Jt(!0,t):"component"===e.type||"effect"===e.type?"edit"===Vt.ui.viewMode?Jt(!1,t):Jt(!0,t):"sample"===e.type||"instrument"===e.type||"source"===e.type?"edit"===Vt.ui.viewMode?(Vt.ui.selectedTrack.type,Jt(!1,t)):"M"!==Vt.ui.selectedGroup&&Jt(!1,t):"song"===e.type&&Jt(!1,t)},eo=function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).shouldComponentUpdate=Wt.b.bind(Object(Ut.a)(Object(Ut.a)(o))),o.rowAnimationEnded=function(e){Zt(o.item,e.target)},o.selectRow=function(e){var t=document.getElementById("divListBrowseContainer_"+o.browserId).querySelector(".itemSelected");if(t){if(t.id!==e.target.id){var n=t.querySelector(".divListItemLoadingIcon");n&&(n.style.display="none"),t.classList.remove("itemSelected")}var i=t.querySelector(".divRowAudioPlaying");i&&(i.style.animation="none")}e.target.classList.contains("itemSelected")||e.target.classList.add("itemSelected")},o.rowClick=function(e){var t=o.item;if(!qt)if(o.selectRow(e),t.selected||o.props.data.list.filter(function(e){return!0===e.selected}).forEach(function(e){e.selected=!1,e.tStart=void 0}),t.folder){var n=(t.dir+"/"+t.name).replace("//","/");Qt(n,o.browserId),$t(t,o.browserId)}else if("song"===t.type)t.selected=!0,Vt.ui.toolbar.browser[o.browserId].selectFile(t.name),$t(t,o.browserId);else if("instrument"===t.type||"source"===t.type||"effect"===t.type||"component"===t.type)t.selected=!0,Vt.ui.toolbar.browser[o.browserId].selectFile(t.name),$t(t,o.browserId);else if("sample"===t.type)if("...Import"===t.name||"...Folder"===t.name||"...Record"===t.name)t.selected=!0,Vt.ui.toolbar.browser[o.browserId].selectFile(t.name),$t(t,o.browserId);else{var i=e.target.querySelector(".divRowAudioPlaying"),r=t.dir+"/"+t.name;t.selected?"started"===Kt.state?Zt(t,i):Kt.loaded&&"stopped"===Kt.state?Xt(t,i,e.target):Kt.load(r).then(function(){r===Vt.ui.toolbar.browser[o.browserId].selectedFile&&Xt(t,i,e.target)}):(t.selected=!0,Vt.ui.toolbar.browser[o.browserId].selectFile(t.name),Zt(t,e.target),Kt.buffer.dispose(),"/Samples"===r.substr(0,8)?Vt.DBLoadAudioFile(t.name).then(function(n){if(n&&n.data)if(n.data instanceof Blob){var a=window.URL.createObjectURL(n.data);Kt.load(a).then(function(){r===Vt.ui.toolbar.browser[o.browserId].selectedFile&&Xt(t,i,e.target),window.URL.revokeObjectURL(a)})}else(Array.isArray(n.data)||n.data instanceof Float32Array)&&(Kt.buffer.fromArray(n.data),r===Vt.ui.toolbar.browser[o.browserId].selectedFile&&Xt(t,i,e.target))}):(e.target.querySelector(".divListItemLoadingIcon").style.display="block",Vt.DBLoadAudioFile(r).then(function(n){if(n){if(n.data)if(n.data instanceof Blob){var a=window.URL.createObjectURL(n.data);Kt.load(a).then(function(){r===Vt.ui.toolbar.browser[o.browserId].selectedFile&&Xt(t,i,e.target),window.URL.revokeObjectURL(a)})}else(Array.isArray(n.data)||n.data instanceof Float32Array)&&(Kt.buffer.fromArray(n.data),r===Vt.ui.toolbar.browser[o.browserId].selectedFile&&Xt(t,i,e.target))}else Kt.load(r).then(function(){q(Kt.buffer.get()).then(function(n){Vt.DBSaveAudioFile({id:r,url:r,duration:Kt.buffer.duration,data:n}).then(function(){r===Vt.ui.toolbar.browser[o.browserId].selectedFile&&Xt(t,i,e.target)})})})}))),$t(t,o.browserId)}},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t={x:void 0,y:void 0},o=!1,n=0,i=[];if("browser3"===this.browserId?k()("#"+this.rowId).draggable({autoScroll:!1,ignoreFrom:"input",onmove:function(r){if(!e.item.folder&&e.item.selected&&!document.getElementById("btnBrowseLoad_"+e.browserId).disabled){var a=r.target,s=(parseFloat(a.getAttribute("data-x"))||0)+r.dx,l=(parseFloat(a.getAttribute("data-y"))||0)+r.dy;(Math.sqrt(Math.pow(s-t.x,2)+Math.pow(l-t.y,2)|0).toFixed(3)>50||o)&&(o||(o=!0,n=document.querySelector("#divListBrowseContainer_"+e.browserId+" div.List").scrollTop,document.querySelector("#divListBrowseContainer_"+e.browserId+" div.List").style.overflow="",n>0&&document.querySelectorAll("#divListBrowseContainer_"+e.browserId+" .ListItem").forEach(function(e){i.push(e.style.top),e.style.top=e.style.top.replace("px","")-n+"px"})),a.classList.contains("itemDragging")||(a.classList.add("itemDragging"),k()("#divDropZone").fire({type:"dropactivate",target:document.getElementById("divDropZone")})),a.style.webkitTransform=a.style.transform="translate("+s+"px, "+l+"px)"),a.setAttribute("data-x",s),a.setAttribute("data-y",l)}},onstart:function(e){t.x=parseFloat(e.target.getAttribute("data-x"))||0,t.y=parseFloat(e.target.getAttribute("data-y"))||0},onend:function(r){o&&(n>0&&(document.querySelectorAll("#divListBrowseContainer_"+e.browserId+" .ListItem").forEach(function(e,t){e.style.top=i[t]}),i=[],n=0),document.querySelector("#divListBrowseContainer_"+e.browserId+" div.List").style.overflow="auto"),o=!1,r.target.classList.remove("itemDragging"),r.target.setAttribute("data-x",t.x),r.target.setAttribute("data-y",t.y),r.target.style.webkitTransform=r.target.style.transform="translate("+t.x+"px, "+t.y+"px)"}}).on("up",function(t){e.rowClick(t)}):k()("#"+this.rowId).on("up",function(t){e.rowClick(t)}),"sample"===this.item.type){var r=document.querySelector("#"+this.rowId+" div.divRowAudioPlaying");if(r&&r.addEventListener("animationend",this.rowAnimationEnded),this.item.tStart){var a=(new Date).getTime(),s=(this.item.tStart-a)/1e3,l=document.querySelector(".itemSelected .divRowAudioPlaying");l&&(l.style.animation="progressWidth "+Kt.buffer.duration+"s linear",l.style.animationDelay=s+"s")}}}},{key:"componentWillUnmount",value:function(){k()("#"+this.rowId).unset();var e=document.querySelector("#"+this.rowId+" div.divRowAudioPlaying");e&&e.removeEventListener("animationend",this.rowAnimationEnded)}},{key:"render",value:function(){var e=this.props,t=e.data,o=e.index,n=e.style;this.item=t.list[o],this.browserId=t.browserId;var r,a,s=this.item,l=s.name,c="",p="none";if(s.dir+"/"+s.name===Vt.ui.toolbar.browser[this.browserId].selectedFile&&(c=" itemSelected","sample"!==s.type||Kt.loaded||"...Import"===s.name||"...Record"===s.name||(p="block")),s.folder||"sample"!==s.type){var d="audiotrack";s.folder?d="folder_open":"effect"===s.type?d="settings_input_component":"component"===s.type?d="equalizer":"source"===s.type?d="waves":"song"===s.type&&(d="",s.name===Vt.settings.key||s.name===Vt.settings.swingSubdivision||s.name===Vt.settings.scale?d="check_box":"Save"===s.name&&Vt.settings.modified&&(l=l+" ("+new Date(Vt.settings.modified).toLocaleTimeString("en-US")+")")),r=i.a.createElement("div",{style:{pointerEvents:"none"}},i.a.createElement("i",{className:"material-icons menuIcon"},d),i.a.createElement("label",{className:"lblMain"},l))}else{var m=s.name.split(" - ");r=i.a.createElement("div",{style:{pointerEvents:"none"}},i.a.createElement("div",{className:"divRowAudioPlaying"}),i.a.createElement("label",{className:"lblArtist"},m[0]),i.a.createElement("label",{className:"lblSong"},m[1])),a=i.a.createElement("div",{className:"divListItemLoadingIcon",style:{display:p}},i.a.createElement("div",{className:"la-ball-spin-clockwise-fade-rotating la-sm"},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)))}return this.rowId||(this.rowId="ListBrowse_"+this.browserId+"_row_"+oe()),i.a.createElement("div",{id:this.rowId,className:"ListItem"+c,style:n},r,a)}}]),t}(n.Component),to=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).list=[],o.btnMainClick=function(e){Kt.stop(),o.list=[],Qt("/",o.props.id)},o.btnBackClick=function(e){Kt.stop();var t=Vt.ui.toolbar.browser[o.props.id].selectedDir.split("/").filter(function(e){return""!==e}),n="";t.length>0&&t.forEach(function(e,o){o<t.length-1&&(n+="/"+e)}),n||(n="/"),Qt(n,o.props.id)},o.btnLoadClick=function(e){var t=o.list.find(function(e){return!0===e.selected});if(t&&!qt&&!t.folder){var n=document.getElementById("divListBrowseContainer_"+o.props.id);if("sample"===t.type){Kt.stop();var i=n.querySelector(".itemSelected div.divRowAudioPlaying");i&&(i.style.animation="none")}Yt(t,o.props.id)}},o.filterSection=function(e){o.list=[];var t="sample";"/Instruments"===e||"/Components"===e||"/Effects"===e||"/Sources"===e?t=e.replace("/","").slice(0,-1).toLowerCase():"Song"===e.split("/")[1]&&(t=e.split("/")[1].toLowerCase()),C[e].folders.forEach(function(n){o.list.push({name:n,type:t,folder:!0,dir:e,selected:!1,tStart:void 0})}),C[e].files.forEach(function(n){o.list.push({name:n,type:t,folder:!1,dir:e,selected:!1,tStart:void 0})}),"/Samples"===e&&(t="sample",Vt.getAllSamples.forEach(function(n){o.list.push({name:n.id,type:t,folder:!1,dir:e,selected:!1,tStart:void 0}),n.regions.forEach(function(n){o.list.push({name:n.id,type:t,folder:!1,dir:e,selected:!1,tStart:void 0})})}))},o.importFile=function(e){var t=e.target.files[0];if(t&&"audio"===t.type.split("/")[0]){var o="sample_"+oe();Vt.DBSaveAudioFile({id:o,url:"",duration:void 0,data:t}).then(function(){Vt.addSample(o,"",void 0,[],void 0)})}},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){if(e.selectedDir!==this.props.selectedDir&&Kt.stop(),"M"!==e.selectedGroup&&"M"===this.props.selectedGroup&&Jt(!0,this.props.id),"M"===e.selectedGroup&&"M"!==this.props.selectedGroup){var t=this.list.find(function(e){return!0===e.selected});t&&$t(t,this.props.id)}}},{key:"render",value:function(){var e=this;this.currDir===this.props.selectedDir&&"/Samples"!==this.props.selectedDir||(this.currDir=this.props.selectedDir,this.filterSection(this.props.selectedDir));var t=this.list,o=this.props.id;return i.a.createElement("div",{className:"divBrowseMainContainer"},i.a.createElement("div",{id:"divBrowseHdr_"+o,className:"divListBrowseHdrContainer"},i.a.createElement("button",{id:"btnBrowseBack_"+o,className:"btnBrowseHdrIcon btnBrowseBack",onClick:this.btnBackClick},i.a.createElement("i",{className:"material-icons"},"arrow_back")),i.a.createElement("button",{id:"btnBrowseLoad_"+o,className:"btnBrowseHdrIcon btnBrowseLoad",onClick:this.btnLoadClick},i.a.createElement("i",{className:"material-icons"},"open_in_browser")),i.a.createElement("button",{id:"btnBrowseHome_"+o,className:"btnBrowseHdrIcon btnBrowseHome",onClick:this.btnMainClick},i.a.createElement("i",{className:"material-icons"},"home")),i.a.createElement("input",{id:"inputFile_"+o,type:"file",accept:"audio/*",onChange:this.importFile,multiple:!0,style:{display:"none"}}),i.a.createElement("input",{id:"inputFolder_"+o,type:"file",accept:"audio/*",onChange:this.importFolder,multiple:!0,mozdirectory:"",webkitdirectory:"",directory:"",style:{display:"none"}})),i.a.createElement("div",{id:"divListBrowseContainer_"+o,className:"divBrowseListContainer"},i.a.createElement(Ht.a,null,function(n){var r=n.height,a=n.width;return i.a.createElement(Wt.a,{className:"List",height:r,itemCount:e.list.length,itemData:{list:t,browserId:o},itemSize:35,width:a},eo)})))}}]),t}(n.Component)),oo=function(e){return i.a.createElement("div",{id:"divToolHome",className:"divToolRowPanelContainer",style:{color:"white",height:"100%",width:"100%"}},i.a.createElement("iframe",{title:"MainVideo",src:"https://blbeats.blapps.lol/2022_06_08_13_44_16.mp4",frameBorder:"0",allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,style:{height:"100%",width:"100%",display:"table",margin:"0 auto"}}))},no=o(30),io=o.n(no),ro=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).ongoingTouches=[],o.setupKeys=function(e){for(var t=document.getElementsByClassName("divSynthRow"),n=0;n<t.length;n++)for(var i=t[n].getElementsByClassName("divSynthKey"),r=0;r<i.length;r++)i[r].innerHTML=i[r].id,b.a.notes(i[r].id,o.selectedChord).length>0||!o.selectedChord?(i[r].style.visibility="visible",Vt.ui.selectedKey===i[r].id?i[r].style.backgroundColor="#181f87":o.arrayOctave[r].length>=2?i[r].style.backgroundColor="black":i[r].style.backgroundColor="white"):i[r].style.visibility="hidden"},o.copyTouch=function(e){return{identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,element:e.target}},o.ongoingTouchIndexById=function(e){for(var t=0;t<o.ongoingTouches.length;t++){if(o.ongoingTouches[t].identifier===e)return t}return-1},o.cancelTouchEvent=function(e){e.preventDefault();for(var t=e.changedTouches,n=0;n<t.length;n++){var i=o.ongoingTouchIndexById(t[n].identifier);o.noteOff(o.ongoingTouches[i].element,!1),o.ongoingTouches.splice(i,1)}},o.keyDown=function(e,t){if(e.preventDefault(),e.changedTouches){var n=e.changedTouches;if(t)for(var i=0;i<n.length;i++){var r=o.ongoingTouchIndexById(n[i].identifier);r>=0&&o.noteOn(o.ongoingTouches[r].element,t)}else{o.bTouched=!0;for(var a=0;a<n.length;a++)o.noteOn(n[a].target,t),o.ongoingTouches.push(o.copyTouch(n[a]))}}else t||(o.mouseDown=!0),o.noteOn(e.target,t)},o.keyUp=function(e,t){if(e.preventDefault(),e.changedTouches)if(t)for(var n=0;n<e.changedTouches.length;n++){var i=o.ongoingTouchIndexById(e.changedTouches[n].identifier);i>=0&&o.noteOff(o.ongoingTouches[i].element,t)}else{o.bTouched=!1;for(var r=0;r<e.changedTouches.length;r++){var a=o.ongoingTouchIndexById(e.changedTouches[r].identifier);a>=0&&(o.noteOff(o.ongoingTouches[a].element,t),o.ongoingTouches.splice(a,1))}}else t||(o.mouseDown=!1),o.noteOff(e.target,t)},o.mouseLeaveKey=function(e){e.preventDefault(),o.mouseDown&&!o.bTouched&&o.keyUp(e,!0)},o.mouseLeaveContainer=function(e){e.preventDefault(),o.mouseDown&&!o.bTouched&&(o.mouseDown=!1,o.keyUp(e,!0))},o.mouseEnterKey=function(e){e.preventDefault(),o.mouseDown&&!o.bTouched&&o.keyDown(e,!0)},o.touchMove=function(e){e.preventDefault();for(var t=e.changedTouches,n=0;n<t.length;n++){var i=o.ongoingTouchIndexById(t[n].identifier);if(i>=0){var r=document.elementFromPoint(t[n].pageX,t[n].pageY);o.ongoingTouches[i].element&&r&&o.ongoingTouches[i].element.id!==r.id&&"divSynthRow"===r.parentNode.className&&(o.keyUp(e,!0),o.ongoingTouches[i].element=r,o.keyDown(e,!0))}}},o.noteOff=function(e,t){var n=[];o.selectedChord?n=e.dataset.notes.split(","):n[0]=e.id,o.props.selectedTrack&&ne.trackInstNoteOff(o.props.selectedTrack.id,n,o.mouseDown),t?e.id.length>2?e.style.backgroundColor="black":e.style.backgroundColor="white":Vt.ui.selectedKey===e.id&&(e.style.backgroundColor="#181f87")},o.noteOn=function(e,t){var n=[];if(o.selectedChord?n=e.dataset.notes.split(","):n[0]=e.id,o.props.selectedTrack&&ne.trackInstNoteOn(o.props.selectedTrack.id,n),e.style.backgroundColor="#2671ea",Vt.ui.selectedKey&&Vt.ui.selectedKey!==e.id){var i=document.getElementById(Vt.ui.selectedKey);i&&(i.id.length>2?i.style.backgroundColor="black":i.style.backgroundColor="white")}Vt.ui.selectedNote&&!Vt.ui.views.edit.multiNoteSelect?Vt.ui.selectedNote.setNote(n):Vt.ui.views.edit.multiNoteSelect&&Vt.ui.views.edit.selectedNotes.forEach(function(e){Vt.getNotesByTrack(Vt.ui.selectedTrack.id).filter(function(t){return t.id===e}).forEach(function(e){e.setNote(n)})}),Vt.ui.selectedKey===n[0]&&Vt.ui.selectKey(""),Vt.ui.selectKey(n[0])},o.setupSlider=function(){var e=Object(Ut.a)(Object(Ut.a)(o));if(o.slider){var t=1;o.arrayChords.length>0?(t=o.arrayChords.length,o.slider.disabled=!1):o.slider.disabled=!0,o.slider.noUiSlider.updateOptions({range:{min:0,max:t}})}else{o.slider=document.getElementById("sliderToolChorus");var n=o.arrayChords.indexOf(Vt.ui.selectedChord);e.selectedChord=n>-1?o.arrayChords[n]:"none";var i=1;o.arrayChords.length>0?(i=o.arrayChords.length,o.slider.disabled=!1):o.slider.disabled=!0,io.a.create(o.slider,{start:e.selectedChord,step:1,range:{min:0,max:i},tooltips:!0,format:{to:function(t){var o=parseInt(t,10);return o?e.arrayChords[o-1]:"none"},from:function(t){return e.arrayChords.indexOf(t)+1}}}),o.slider.noUiSlider.on("update",function(t,o){var n=t[o];"none"===n&&(n=void 0),e.selectedChord!==n&&(e.selectedChord=n,Vt.ui.selectedChord!==e.selectedChord&&Vt.ui.selectChord(e.selectedChord))});var r=document.querySelector("#sliderToolChorus .noUi-tooltip");o.slider.noUiSlider.on("start",function(){r.style.bottom="34px"}),o.slider.noUiSlider.on("end",function(){r.style.bottom="3px"})}},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.mouseDown=!1,this.setupKeys(),this.setupSlider()}},{key:"componentDidUpdate",value:function(e,t,o){this.setupKeys(),e.height===this.props.height&&this.setupSlider()}},{key:"componentWillUnmount",value:function(){this.slider&&this.slider.noUiSlider.destroy()}},{key:"render",value:function(){var e=this,t=this;this.arrayOctave!==b.c.notes(this.props.scaleKey,this.props.scale)&&(this.arrayOctave=b.c.notes(this.props.scaleKey,this.props.scale)),this.arrayChords!==b.c.chords(this.props.scale).filter(function(e){return"64"!==e})&&(this.arrayChords=b.c.chords(this.props.scale).filter(function(e){return"64"!==e}));var o=this.props.height.replace("px",""),n=Math.floor(o/50);0===n?n=1:n>8&&(n=8);var r=[],a=3;n>=2&&(a=2),n>=4&&(a=1),n>=6&&(a=0);for(var s=0;s<n;s++)r.push(b.c.notes(this.props.scaleKey+(s+a),this.props.scale).map(function(o,n){return i.a.createElement("div",{key:n,id:o,className:"divSynthKey","data-notes":b.a.notes(o,e.selectedChord),style:{touchAction:"manipulation",width:100/t.arrayOctave.length+"%",color:"gray",textAlign:"center"},onMouseDown:e.keyDown,onMouseUp:e.keyUp,onTouchStart:e.keyDown,onTouchEnd:e.keyUp,onTouchCancel:e.cancelTouchEvent,onMouseEnter:e.mouseEnterKey,onMouseLeave:e.mouseLeaveKey})}));return i.a.createElement("div",{id:"divToolSynth",className:"divToolRowPanelContainer"},i.a.createElement("div",{id:"divToolSynthHeader",style:{height:"30px",width:"100%",backgroundColor:"darkgray"}},i.a.createElement("div",{id:"sliderToolChorus"})),i.a.createElement("div",{id:"divSynthContainerKeys",onTouchMove:this.touchMove,onMouseLeave:this.mouseLeaveContainer,style:{width:"100%",height:"calc(100% - 30px)"}},r.map(function(e,t){return i.a.createElement("div",{key:t,className:"divSynthRow",style:{height:100/n+"%",width:"100%"}},e)})))}}]),t}(n.Component)),ao=o(742),so=o.n(ao),lo=o(743),co=o.n(lo),po=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).drawAudio=function(){var e;if(e="sample"===o.props.objId.split("_")[0]?o.props.objId:"player_"===o.props.objId||"record"===o.props.objId.split("_")[0]?o.props.file:Vt.instruments.getInstrumentByTypeId("player",o.props.objId).sample.id,o.sampleId=e,e){document.getElementById("btnDelRegion").disabled=!0,o.sample=so.a.create({container:"#waveform",responsive:!0,waveColor:"#ff3c00",progressColor:"#ff6000",partialRender:!0,scrollParent:!0,plugins:[co.a.create({})]});var t=null,n=Object(Ut.a)(Object(Ut.a)(o)),i=o.sample;Vt.DBLoadAudioFile(e).then(function(t){if(Array.isArray(t.data)||t.data instanceof Float32Array){var o=(new u.Buffer).fromArray(t.data);Vt.getSample(e)||Vt.addSample(e,e,o.length,[],o.duration),n.sample.loadDecodedBuffer(o.get()),o.dispose()}else Vt.getSample(e)||Vt.addSample(e,t.data.name,t.data.length,[],t.duration),n.sample.loadBlob(t.data)}),o.ensureWaveIsReady(o.sample).then(function(){document.getElementById("divEditorSampleLoading").style.display="none"}),o.sample.on("ready",function(){n.sample.isReady=!0;var o=Vt.ui.windowWidth/n.sample.getDuration(),r=Vt.ui.windowWidth,a=document.getElementById("sampleEditorZoomSlider");a&&(a.min=o,a.max=r,a.value=o),(t=Vt.getSample(e)).regions.forEach(function(e){i.addRegion({id:e.id,start:e.start,end:e.end})}),n.sample.getDuration()<2.5&&0===t.regions.length&&i.addRegion({id:"region_"+oe(),start:0,end:n.sample.getDuration()}),Vt.ui.selectedTrack&&Vt.ui.selectedTrack.region&&n.selectRegion(Vt.ui.selectedTrack.region.id),n.bSelect?n.sample.enableDragSelection({}):n.toggleSelect()}),o.sample.on("region-created",function(o){n.selectRegion(o.id);var r=null,a=Vt.getTrackBySampleRegion(e,o.id);if(r=a?a.id:"track_"+oe(),t.getRegion(o.id)||(o.id="region_"+oe(),t.addRegion(o.id,e,o.start,o.end)),o.on("update-end",function(n){if(o.end-o.start>0){var a=t.getRegion(o.id);if(Vt.getTrack(r)){if(a.start!==o.start||a.end!==o.end){var s=new u.Buffer(i.backend.buffer).slice(o.start,o.end),l=Vt.instruments.getPlayerByTrack(r).id;ne.instruments.find(function(e){return e.id===l}).obj.buffer.set(s),a.setRegions(o.start,o.end),Vt.DBSaveAudioFile({id:o.id,url:"",duration:s.duration,data:s.toArray()}).then(function(){s.dispose()})}}else{a.setRegions(o.start,o.end);var c=new u.Buffer(i.backend.buffer).slice(o.start,o.end);Vt.DBSaveAudioFile({id:o.id,url:"",duration:c.duration,data:c.toArray()}).then(function(){Vt.addTrack(r,"audio",!1,!1,e,o.id),c.dispose()})}}}),n.sample.getDuration()<2.5&&1===t.regions.length){var s=t.getRegion(o.id);s&&0===s.start&&s.end===n.sample.getDuration()&&o.handlers["update-end"][0]()}}),o.sample.on("region-click",function(e){n.selectedRegion=e;for(var t=document.getElementsByClassName("wavesurfer-region-selected"),o=0;o<t.length;o++)t[o].className="wavesurfer-region";e.element.className="wavesurfer-region-selected",document.getElementById("btnDelRegion").disabled=!1,document.getElementById("iconSampleDelete").style.opacity="1";var i=Vt.getTrackBySampleRegion(n.sampleId,e.id);i&&Vt.ui.selectTrack(i.id)}),o.sample.on("region-updated",function(e){if(n.selectedRegion!==e){n.selectedRegion=e;for(var t=document.getElementsByClassName("wavesurfer-region-selected"),o=0;o<t.length;o++)t[o].className="wavesurfer-region";e.element.className="wavesurfer-region-selected",document.getElementById("btnDelRegion").disabled=!1,document.getElementById("iconSampleDelete").style.opacity="1"}var i=Vt.getTrackBySampleRegion(n.sampleId,e.id);i&&Vt.ui.selectTrack(i.id)}),o.sample.on("loading",function(e,t){}),o.sample.on("finish",function(){document.getElementById("iconSamplePlay").innerHTML="play_arrow"}),o.sample.on("zoom",function(e){n.zoomVal=e})}},o.selectRegion=function(e){var t,n=o.sample;if(n){Object.keys(n.regions.list).forEach(function(o){o===e&&(t=n.regions.list[o].element.dataset.id)});for(var i=document.getElementsByTagName("region"),r=0,a=i.length;r<a;r++)t===i[r].getAttribute("data-id")&&i[r].click()}},o.delRegion=function(e){"string"===typeof e&&o.sample?o.sample.regions.list[e].remove():o.selectedRegion&&o.sampleId&&(Vt.delTrack(Vt.getTrackBySampleRegion(o.sampleId,o.selectedRegion.id).id),o.selectedRegion.remove(),document.getElementById("btnDelRegion").disabled=!0,document.getElementById("iconSampleDelete").style.opacity="0.5")},o.refreshRegions=function(){if(o.sample&&o.sampleId){var e=o.sample.regions.list;for(var t in e)e.hasOwnProperty(t)&&(Vt.getSample(o.sampleId).getRegion(t)||o.delRegion(t))}},o.toggleSelectDisable=function(e){document.getElementById("btnSampleSelectToggle").disabled=e,e&&o.bSelect&&o.toggleSelect()},o.toggleSelect=function(){o.bSelect=!o.bSelect;var e=document.getElementById("iconSampleSelect");o.bSelect?e.innerHTML="layers":e.innerHTML="layers_clear";var t=o.sample;if(t){var n=document.getElementById("waveform").children[0];o.bSelect?(n.style.overflowX="hidden",t.enableDragSelection({}),Object.keys(t.regions.list).forEach(function(e){t.regions.list[e].drag=!0,t.regions.list[e].resize=!0})):(n.style.overflowX="auto",t.disableDragSelection({}),Object.keys(t.regions.list).forEach(function(e){t.regions.list[e].drag=!1,t.regions.list[e].resize=!1}))}},o.togglePlay=function(e){o.sample&&(o.sample.playPause(),o.sample.isPlaying()?document.getElementById("iconSamplePlay").innerHTML="pause":document.getElementById("iconSamplePlay").innerHTML="play_arrow")},o.ensureWaveIsReady=function(e){return new Promise(function(t,o){var n=document.getElementById("divEditorSampleLoading");!function o(){if("table"!==n.style.display&&(n.style.display="table"),e.isReady)return t();setTimeout(o,15)}()})},o.zoomChange=function(e){var t=Number(e.target.value);o.sample&&o.sample.zoom(t)},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.drawAudio()}},{key:"componentDidUpdate",value:function(e){if("M"!==e.selectedGroup&&"M"===this.props.selectedGroup&&this.toggleSelectDisable(!0),"M"===e.selectedGroup&&"M"!==this.props.selectedGroup&&this.toggleSelectDisable(!1),e.objId===this.props.objId&&e.file===this.props.file||(this.sample.destroy(),this.drawAudio()),(e.selectedToolbar!==this.props.selectedToolbar&&("editor1"===this.props.selectedToolbar||"editor2"===this.props.selectedToolbar)||e.winWidth!==this.props.winWidth)&&this.sample&&this.sample.getDuration()){var t=Vt.ui.windowWidth/this.sample.getDuration();this.sample.zoom(t)}if(("button"===Vt.ui.viewMode||"sequencer"===Vt.ui.viewMode)&&e.selectedTrack!==this.props.selectedTrack&&this.props.selectedTrack){var o=this.props.selectedTrack.region;o&&(this.selectedRegion?this.selectedRegion.id!==o.id&&this.selectRegion(o.id):this.selectRegion(o.id))}}},{key:"componentWillUnmount",value:function(){this.sample&&this.sample.destroy()}},{key:"render",value:function(){return this.props.tracks.length>=0&&this.refreshRegions(),i.a.createElement("div",{style:{height:"100%",width:"100%",position:"absolute"}},i.a.createElement("div",{id:"divEditorSampleLoading",style:{width:"100%",height:"100%",display:"none"}},i.a.createElement("div",{style:{display:"table-cell",verticalAlign:"middle"}},i.a.createElement("div",{className:"la-ball-spin-clockwise-fade-rotating la-lg",style:{margin:"auto"}},i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null),i.a.createElement("div",null)))),i.a.createElement("div",{id:"samplezoom"},i.a.createElement("div",{style:{marginLeft:"25px",marginRight:"225px",position:"relative"}},i.a.createElement("input",{id:"sampleEditorZoomSlider",type:"range",onInput:this.zoomChange,style:{width:"100%"}})),i.a.createElement("button",{onClick:this.delRegion,id:"btnDelRegion",style:{position:"absolute",right:"5px",backgroundColor:"transparent",top:"4px",border:0}},i.a.createElement("i",{id:"iconSampleDelete",className:"material-icons i-28 colorRed",style:{opacity:.5}},"delete")),i.a.createElement("button",{id:"btnSampleSelectToggle",onClick:this.toggleSelect,style:{position:"absolute",right:"80px",backgroundColor:"transparent",top:"4px",border:0}},i.a.createElement("i",{id:"iconSampleSelect",className:"material-icons i-28"},"layers_clear")),i.a.createElement("button",{onClick:this.togglePlay,style:{position:"absolute",right:"140px",backgroundColor:"transparent",top:"4px",border:0}},i.a.createElement("i",{id:"iconSamplePlay",className:"material-icons i-28"},"play_arrow"))),i.a.createElement("div",{id:"waveform"}),i.a.createElement("div",{id:"timeline"}))}}]),t}(n.Component)),mo=o(744),uo=o.n(mo),bo=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).status="stopped",o.init=function(){o.objId!==o.props.objId&&(o.objId=o.props.objId,o.status="stopped",o.sampleId=void 0)},o.startRecord=function(){"started"===o.source.state&&"stopped"===o.status&&(o.count=4,o.icon.innerHTML="looks_"+o.count,o.interval=setInterval(o.Timer,1e3))},o.Timer=function(){if(o.count-=1,0===o.count)return clearInterval(o.interval),o.icon.innerHTML="stop",o.recorder.start(o.source._stream),void(o.status="recording");var e=o.count;2===o.count?e="two":1===o.count&&(e="one"),o.icon.innerHTML="looks_"+e},o.stopRecord=function(){clearInterval(o.interval),o.icon.innerHTML="fiber_manual_record","recording"===o.status&&(o.status="stopped",o.recorder.stop().then(function(e){var t=e.blob,n=(e.buffer,"sample_"+oe()),i=new File([t],"rec"+oe()+" "+(new Date).toLocaleTimeString());Vt.DBSaveAudioFile({id:n,data:i}).then(function(){o.sampleId=n,o.source.close(),o.forceUpdate()})}))},o.toggleRecord=function(e){"stopped"===o.status?o.startRecord():o.stopRecord()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.source=new u.UserMedia,this.source.open().then(function(){e.recorder=new uo.a(e.source._mediaStream.context,{}),e.recorder.init(e.source._stream)}),this.icon=document.getElementById("btnToggleRecord").children[0]}},{key:"componentDidUpdate",value:function(e,t,o){this.sampleId||(this.icon=document.getElementById("btnToggleRecord").children[0],"started"!==this.source.state&&this.source.open().then(function(){}))}},{key:"componentWillUnmount",value:function(){this.source&&(this.source.close(),this.source.dispose(),this.source=void 0),this.recorder&&(this.recorder.stop(),this.recorder=void 0),this.interval&&clearInterval(this.interval)}},{key:"render",value:function(){this.init();var e=i.a.createElement("div",{style:{textAlign:"center",top:"30%",position:"relative"}},i.a.createElement("button",{id:"btnToggleRecord",style:{backgroundColor:"transparent"},onClick:this.toggleRecord},i.a.createElement("i",{className:"material-icons i-72 colorRed"},"fiber_manual_record")));return this.sampleId&&(e=i.a.createElement(po,{store:this.props.store,file:this.sampleId,tracks:this.props.store.tracks,objId:this.props.objId,selectedTrack:this.props.store.ui.selectedTrack,winWidth:this.props.store.ui.windowWidth})),i.a.createElement("div",{style:{color:"white",width:"100%",height:"100%"}},e)}}]),t}(n.Component)),fo=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).delObj=function(e){"tinysynth"===o.props.obj.id.split("_")[0]?(Vt.components.delete("panvol","tinysynth_panvol_"+o.props.obj.id.split("_")[1]),Vt.instruments.delete("tinysynth",o.props.obj.id)):Vt[o.props.type+"s"].delete(o.props.obj.id.split("_")[0],o.props.obj.id),Vt.ui.selectObj("")},o.selectSection=function(e){var t=e.target.id.split("_")[2],n=o.editorId+"_btnEditHeaderToggleSection";o.props.parent&&(t=e.target.id.split("_")[3],n=o.editorId+"_btnEditHeaderToggleSection_"+o.props.parent),o.props.sections.forEach(function(e){document.getElementById(n+"_"+e).style.backgroundColor=e===t?"#2671ea":""}),o.props.selectSection(t,o.props.parent)},o.btnClickTitle=function(e){o.props.obj.track.id!==Vt.ui.selectedTrack&&Vt.ui.selectTrack(o.props.obj.track.id),"graph"!==Vt.ui.views.edit.mode&&Vt.ui.views.edit.toggleMode(),Vt.ui.toggleViewMode("edit")},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(this.props.selSection){var e=this.editorId+"_btnEditHeaderToggleSection_"+this.props.selSection;this.props.parent&&(e=this.editorId+"_btnEditHeaderToggleSection_"+this.props.parent+"_"+this.props.selSection),document.getElementById(e).style.backgroundColor="#2671ea"}}},{key:"render",value:function(){var e=this;this.editorId="editor"+this.props.editorNum;var t=0,o=this.props.obj.id.split("_")[0];o=E.find(function(e){return e.toLowerCase()===o});var n=this.editorId+"_btnEditHeaderToggleSection",r="block";"panvol"===o&&(r="none");var a,s=i.a.createElement("button",{onClick:this.delObj,id:"btnDelObject",style:{display:r,float:"right",right:"5px",backgroundColor:"transparent",border:0,position:"absolute",zIndex:1}},i.a.createElement("i",{className:"material-icons i-28 colorRed"},"delete"));this.props.obj.track&&("instrument"===Vt.getObjTypeByIdTrack(this.props.obj.id,this.props.obj.track.id)&&"NoiseSynth"!==o&&(a=i.a.createElement("button",{id:this.editorId+"_btnSetRandom",onClick:this.props.funcRandom,style:{position:"absolute",height:"100%",right:"56px",zIndex:99}},"Rnd")));var l=[];this.props.sections&&(l=this.props.sections);return this.props.parent&&(a=null,o="",s=null,t=32,n=n+"_"+this.props.parent),i.a.createElement("div",{style:{height:"32px"}},i.a.createElement("div",{style:{position:"absolute",backgroundColor:"rgb(12, 11, 27)",width:"100%",height:"32px",top:t+"px",zIndex:99}},i.a.createElement("button",{style:{float:"left",position:"relative",height:"100%",zIndex:1},onClick:this.btnClickTitle},o),a,i.a.createElement("div",{className:"divEditorHdrSectionContainer"},l.map(function(t,o){return i.a.createElement("button",{key:o,id:n+"_"+t,onClick:e.selectSection,style:{height:"100%"}},t)})),s))}}]),t}(n.Component)),ho=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).updateValue=function(e,t){var n=o.props,i=!1;if(e&&(n.child?n.obj[n.child][n.propName]!==parseFloat(e)&&(i=!0):n.obj[n.propName]!==parseFloat(e)&&(i=!0)),i)if(t)"float"===n.numType?n.obj.setPropVal(n.propName,parseFloat(e),n.signal,n.child):"integer"===n.numType&&n.obj.setPropVal(n.propName,parseInt(e,10),n.signal,n.child);else{var r=e;"float"===n.numType?r=parseFloat(e):"integer"===n.numType&&(r=parseInt(e,10));var a=n.obj.id.split("_")[0];if("instrument"===o.objType&&"noisesynth"!==a&&"player"!==a&&"plucksynth"!==a&&"membranesynth"!==a&&"metalsynth"!==a)n.voice?ne.setPropVal(n.obj.getParentId,o.objType,n.propName,r,n.signal,n.child,n.voice):ne.setPropVal(n.obj.id,o.objType,n.propName,r,n.signal,n.child);else if(ne.setPropVal(n.obj.id,o.objType,n.propName,r,n.signal,n.child),"reverb"===a){var s=ne.effects.find(function(e){return e.id===n.obj.id}).obj;s.preDelay>=s.decay&&ne.setPropVal(n.obj.id,o.objType,"preDelay",s.decay-.01,n.signal,n.child),s.generate().then(function(){})}}},o.setRandomVal=function(){var e=o.props.min,t=o.props.max,n=parseFloat((Math.random()*(t-e)+e).toFixed(2));o.slider.noUiSlider.set(n)},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.slider=document.getElementById(this.sliderId),io.a.create(this.slider,{start:this.obj[this.props.propName],connect:[!0,!1],range:{min:this.props.min,max:this.props.max},step:this.props.step,pips:{mode:this.props.mode,density:this.props.density},tooltips:!0}),this.slider.noUiSlider.on("update",function(t,o){e.updateValue(t[o],!1)}),this.slider.noUiSlider.on("set",function(t,o){e.updateValue(t[o],!0)})}},{key:"componentWillUnmount",value:function(){this.slider.noUiSlider.destroy()}},{key:"componentDidUpdate",value:function(e){e.random!==this.props.random?this.setRandomVal():this.slider.noUiSlider.set(this.obj[this.props.propName])}},{key:"render",value:function(){var e="editor"+this.props.editorNum;return this.props.child?(this.obj=this.props.obj[this.props.child],this.sliderId=e+"_slider_"+this.props.child+"_"+this.props.propName+"_"+this.props.obj.id):(this.obj=this.props.obj,this.sliderId=e+"_slider_"+this.props.propName+"_"+this.props.obj.id),this.objType||(this.props.voice?this.objType="instrument":this.props.obj.track&&(this.objType=Vt.getObjTypeByIdTrack(this.props.obj.id,this.props.obj.track.id))),i.a.createElement("div",{className:"divEditorSliderContainer"},i.a.createElement("label",null,this.props.propName),i.a.createElement("br",null),i.a.createElement("div",{id:this.sliderId}))}}]),t}(n.Component)),go=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).updateValue=function(e){var t=!1;e&&o.props.obj[o.props.propName]!==e&&(t=!0),t&&o.props.obj.setPropVal(o.props.propName,e,!0)},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.slider=document.getElementById(this.sliderId),io.a.create(this.slider,{start:e.props.obj[e.props.propName],connect:[!0,!1],range:{min:1,max:10},step:1,pips:{mode:"steps",density:10,format:{to:function(e){return{1:"4m",2:"2m",3:"1m",4:"2n",5:"4n",6:"8n",7:"16n",8:"32n",9:"64n",10:"128n"}[e]}}},tooltips:!0,format:{to:function(e){var t=Math.round(e);return 1===t?"4m":2===t?"2m":3===t?"1m":4===t?"2n":5===t?"4n":6===t?"8n":7===t?"16n":8===t?"32n":9===t?"64n":10===t?"128n":void 0},from:function(e){return"4m"===e?1:"2m"===e?2:"1m"===e?3:"2n"===e?4:"4n"===e?5:"8n"===e?6:"16n"===e?7:"32n"===e?8:"64n"===e?9:"128n"===e?10:void 0}}}),this.slider.noUiSlider.on("update",function(t,o){e.updateValue(t[o])})}},{key:"componentWillUnmount",value:function(){this.slider.noUiSlider.destroy()}},{key:"componentDidUpdate",value:function(e,t,o){this.slider.noUiSlider.set(this.props.obj[this.props.propName])}},{key:"render",value:function(){var e="editor"+this.props.editorNum;return this.sliderId=e+"_slider_"+this.props.propName+"_"+this.props.obj.id,i.a.createElement("div",{className:"divEditorSliderContainer"},i.a.createElement("label",null,this.props.propName),i.a.createElement("br",null),i.a.createElement("div",{id:this.sliderId}))}}]),t}(n.Component)),_o=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).updateValue=function(e){var t=!1;e&&(o.props.child?o.props.obj[o.props.child][o.props.propName]!==e&&(t=!0):o.props.obj[o.props.propName]!==e&&(t=!0)),t&&o.props.obj.setPropVal(o.props.propName,e,!1,o.props.child)},o.setRandomVal=function(){var e=Math.floor(4*Math.random())+0;o.slider.noUiSlider.set(["sine","triangle","sawtooth","square"][e])},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props;this.slider=document.getElementById(this.sliderId),t.child?e.obj=t.obj[t.child]:e.obj=t.obj,io.a.create(this.slider,{start:e.obj[t.propName],connect:[!0,!1],range:{min:1,max:4},step:1,pips:{mode:"steps",density:25,format:{to:function(e){return{1:"SINE",2:"TRI",3:"SAW",4:"SQR"}[e]}}},tooltips:!0,format:{to:function(e){var t=Math.round(e);return 1===t?"sine":2===t?"triangle":3===t?"sawtooth":4===t?"square":void 0},from:function(e){return"sine"===e?1:"triangle"===e?2:"sawtooth"===e?3:"square"===e?4:void 0}}}),this.slider.noUiSlider.on("update",function(t,o){e.updateValue(t[o])}),this.slider.noUiSlider.on("set",function(t,o){e.updateValue(t[o])})}},{key:"componentWillUnmount",value:function(){this.slider.noUiSlider.destroy()}},{key:"componentDidUpdate",value:function(e){e.random!==this.props.random?this.setRandomVal():(this.props.child?this.obj=this.props.obj[this.props.child]:this.obj=this.props.obj,this.slider.noUiSlider.set(this.obj[this.props.propName]))}},{key:"render",value:function(){var e="editor"+this.props.editorNum;return this.sliderId=e+"_slider_"+this.props.propName+"_"+this.props.obj.id,this.props.child&&(this.sliderId=e+"_slider_"+this.props.child+"_"+this.props.propName+"_"+this.props.obj.id),i.a.createElement("div",{className:"divEditorSliderContainer"},i.a.createElement("label",null,this.props.propName),i.a.createElement("br",null),i.a.createElement("div",{id:this.sliderId}))}}]),t}(n.Component)),yo=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).updateValue=function(e){var t=!1;e&&(o.props.child?o.props.obj[o.props.child][o.props.propName]!==e&&(t=!0):o.props.obj[o.props.propName]!==e&&(t=!0)),t&&o.props.obj.setPropVal(o.props.propName,e,!1,o.props.child)},o.setRandomVal=function(){var e=Math.floor(8*Math.random())+0;o.slider.noUiSlider.set(["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"][e])},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props;this.slider=document.getElementById(this.sliderId),t.child?e.obj=t.obj[t.child]:e.obj=t.obj,io.a.create(this.slider,{start:e.obj[t.propName],connect:[!0,!1],range:{min:1,max:8},step:1,pips:{mode:"steps",density:12.5,format:{to:function(e){return{1:"LOW",2:"HI",3:"BND",4:"LSHLF",5:"HSHLF",6:"NOTCH",7:"ALL",8:"PEAK"}[e]}}},tooltips:!0,format:{to:function(e){var t=Math.round(e);return 1===t?"lowpass":2===t?"highpass":3===t?"bandpass":4===t?"lowshelf":5===t?"highshelf":6===t?"notch":7===t?"allpass":8===t?"peaking":void 0},from:function(e){return"lowpass"===e?1:"highpass"===e?2:"bandpass"===e?3:"lowshelf"===e?4:"highshelf"===e?5:"notch"===e?6:"allpass"===e?7:"peaking"===e?8:void 0}}}),this.slider.noUiSlider.on("update",function(t,o){e.updateValue(t[o])}),this.slider.noUiSlider.on("set",function(t,o){e.updateValue(t[o])})}},{key:"componentWillUnmount",value:function(){this.slider.noUiSlider.destroy()}},{key:"componentDidUpdate",value:function(e){e.random!==this.props.random?this.setRandomVal():(this.props.child?this.obj=this.props.obj[this.props.child]:this.obj=this.props.obj,this.slider.noUiSlider.set(this.obj[this.props.propName]))}},{key:"render",value:function(){var e="editor"+this.props.editorNum;return this.sliderId=e+"_slider_"+this.props.propName+"_"+this.props.obj.id,this.props.child&&(this.sliderId=e+"_slider_"+this.props.child+"_"+this.props.propName+"_"+this.props.obj.id),i.a.createElement("div",{className:"divEditorSliderContainer"},i.a.createElement("label",null,this.props.propName),i.a.createElement("br",null),i.a.createElement("div",{id:this.sliderId}))}}]),t}(n.Component)),vo=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).updateValue=function(e){var t=!1;e&&(o.props.child?o.props.obj[o.props.child][o.props.propName]!==e&&(t=!0):o.props.obj[o.props.propName]!==e&&(t=!0)),t&&o.props.obj.setPropVal(o.props.propName,e,!1,o.props.child)},o.setRandomVal=function(){var e=Math.floor(7*Math.random())+0;o.slider.noUiSlider.set(["linear","exponential","sine","cosine","bounce","ripple","step"][e])},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props;this.slider=document.getElementById(this.sliderId),t.child?e.obj=t.obj[t.child]:e.obj=t.obj,io.a.create(this.slider,{start:e.obj[t.propName],connect:[!0,!1],range:{min:1,max:7},step:1,pips:{mode:"steps",density:14.28571,format:{to:function(e){return{1:"LIN",2:"EXP",3:"SIN",4:"COS",5:"BOUNCE",6:"RPPL",7:"STEP"}[e]}}},tooltips:!0,format:{to:function(e){var t=Math.round(e);return 1===t?"linear":2===t?"exponential":3===t?"sine":4===t?"cosine":5===t?"bounce":6===t?"ripple":7===t?"step":void 0},from:function(e){return"linear"===e?1:"exponential"===e?2:"sine"===e?3:"cosine"===e?4:"bounce"===e?5:"ripple"===e?6:"step"===e?7:void 0}}}),this.slider.noUiSlider.on("update",function(t,o){e.updateValue(t[o])}),this.slider.noUiSlider.on("set",function(t,o){e.updateValue(t[o])})}},{key:"componentWillUnmount",value:function(){this.slider.noUiSlider.destroy()}},{key:"componentDidUpdate",value:function(e){e.random!==this.props.random?this.setRandomVal():(this.props.child?this.obj=this.props.obj[this.props.child]:this.obj=this.props.obj,this.slider.noUiSlider.set(this.obj[this.props.propName]))}},{key:"render",value:function(){var e="editor"+this.props.editorNum;return this.sliderId=e+"_slider_"+this.props.propName+"_"+this.props.obj.id,this.props.child&&(this.sliderId=e+"_slider_"+this.props.child+"_"+this.props.propName+"_"+this.props.obj.id),i.a.createElement("div",{className:"divEditorSliderContainer"},i.a.createElement("label",null,this.props.propName),i.a.createElement("br",null),i.a.createElement("div",{id:this.sliderId}))}}]),t}(n.Component)),jo=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).updateValue=function(e){var t=!1;e&&(o.props.child?o.props.obj[o.props.child][o.props.propName]!==parseInt(e,10)&&(t=!0):o.props.obj[o.props.propName]!==parseInt(e,10)&&(t=!0)),t&&o.props.obj.setPropVal(o.props.propName,e,!1,o.props.child)},o.setRandomVal=function(){var e=Math.floor(4*Math.random())+0;o.slider.noUiSlider.set([-12,-24,-48,-96][e])},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props;this.slider=document.getElementById(this.sliderId),t.child?e.obj=t.obj[t.child]:e.obj=t.obj,io.a.create(this.slider,{start:e.obj[t.propName],connect:[!0,!1],range:{min:1,max:4},step:1,pips:{mode:"steps",density:25,format:{to:function(e){return{1:"-12",2:"-24",3:"-48",4:"-96"}[e]}}},tooltips:!0,format:{to:function(e){var t=Math.round(e);return 1===t?-12:2===t?-24:3===t?-48:4===t?-96:void 0},from:function(e){return-12===parseInt(e,10)?1:-24===parseInt(e,10)?2:-48===parseInt(e,10)?3:-96===parseInt(e,10)?4:void 0}}}),this.slider.noUiSlider.on("update",function(t,o){e.updateValue(t[o])}),this.slider.noUiSlider.on("set",function(t,o){e.updateValue(t[o])})}},{key:"componentWillUnmount",value:function(){this.slider.noUiSlider.destroy()}},{key:"componentDidUpdate",value:function(e){e.random!==this.props.random?this.setRandomVal():(this.props.child?this.obj=this.props.obj[this.props.child]:this.obj=this.props.obj,this.slider.noUiSlider.set(this.obj[this.props.propName]))}},{key:"render",value:function(){var e="editor"+this.props.editorNum;return this.sliderId=e+"_slider_"+this.props.propName+"_"+this.props.obj.id,this.props.child&&(this.sliderId=e+"_slider_"+this.props.child+"_"+this.props.propName+"_"+this.props.obj.id),i.a.createElement("div",{className:"divEditorSliderContainer"},i.a.createElement("label",null,this.props.propName),i.a.createElement("br",null),i.a.createElement("div",{id:this.sliderId}))}}]),t}(n.Component)),wo=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).updateValue=function(e){var t=!1;e&&(o.props.child?o.props.obj[o.props.child][o.props.propName]!==e&&(t=!0):o.props.obj[o.props.propName]!==e&&(t=!0)),t&&o.props.obj.setPropVal(o.props.propName,e,!1,o.props.child)},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props;this.slider=document.getElementById(this.sliderId),t.child?e.obj=t.obj[t.child]:e.obj=t.obj,io.a.create(this.slider,{start:e.obj[t.propName],connect:[!0,!1],range:{min:1,max:3},step:1,pips:{mode:"steps",density:100,format:{to:function(e){return{1:"WHITE",2:"PINK",3:"BROWN"}[e]}}},tooltips:!0,format:{to:function(e){var t=Math.round(e);return 1===t?"white":2===t?"pink":3===t?"brown":void 0},from:function(e){return"white"===e?1:"pink"===e?2:"brown"===e?3:void 0}}}),this.slider.noUiSlider.on("update",function(t,o){e.updateValue(t[o])})}},{key:"componentWillUnmount",value:function(){this.slider.noUiSlider.destroy()}},{key:"componentDidUpdate",value:function(e,t,o){this.props.child?this.obj=this.props.obj[this.props.child]:this.obj=this.props.obj,this.slider.noUiSlider.set(this.obj[this.props.propName])}},{key:"render",value:function(){var e="editor"+this.props.editorNum;return this.sliderId=e+"_slider_"+this.props.propName+"_"+this.props.obj.id,this.props.child&&(this.sliderId=e+"_slider_"+this.props.child+"_"+this.props.propName+"_"+this.props.obj.id),i.a.createElement("div",{className:"divEditorSliderContainer"},i.a.createElement("label",null,this.props.propName),i.a.createElement("br",null),i.a.createElement("div",{id:this.sliderId}))}}]),t}(n.Component)),ko=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).updateValue=function(e){var t=!1;e&&o.props.obj[o.props.propName]!==e&&(t=!0),t&&o.props.obj.setPropVal(o.props.propName,e,o.props.signal)},o.setRandomVal=function(){var e=Math.floor(3*Math.random())+0;o.slider.noUiSlider.set(["none","2x","4x"][e])},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props;this.slider=document.getElementById(this.sliderId),io.a.create(this.slider,{start:e.props.obj[t.propName],connect:[!0,!1],range:{min:1,max:3},step:1,pips:{mode:"steps",density:33.333,format:{to:function(e){return{1:"NONE",2:"2x",3:"4x"}[e]}}},tooltips:!0,format:{to:function(e){return 1===parseInt(e,10)?"none":2===parseInt(e,10)?"2x":3===parseInt(e,10)?"4x":void 0},from:function(e){return"none"===e?1:"2x"===e?2:"4x"===e?3:void 0}}}),this.slider.noUiSlider.on("update",function(t,o){e.updateValue(t[o])}),this.slider.noUiSlider.on("set",function(t,o){e.updateValue(t[o])})}},{key:"componentWillUnmount",value:function(){this.slider.noUiSlider.destroy()}},{key:"componentDidUpdate",value:function(e){e.random!==this.props.random?this.setRandomVal():this.slider.noUiSlider.set(this.props.obj[this.props.propName])}},{key:"render",value:function(){var e="editor"+this.props.editorNum;return this.sliderId=e+"_slider_"+this.props.propName+"_"+this.props.obj.id,i.a.createElement("div",{className:"divEditorSliderContainer"},i.a.createElement("label",null,this.props.propName),i.a.createElement("br",null),i.a.createElement("div",{id:this.sliderId}))}}]),t}(n.Component)),No=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).getOscType=function(){var e=o.obj.type;return"fm"===e.substr(0,2)?"fm":"am"===e.substr(0,2)?"am":"fat"===e.substr(0,3)?"fat":"pwm"===e||"pulse"===e?e:"basic"},o.updateValue=function(e){e!==o.oscType&&(o.oscType=e,o.forceUpdate())},o.setRandomVal=function(){var e=Math.floor(6*Math.random())+0;o.slider.noUiSlider.set(["fm","am","fat","pwm","pulse","basic"][e])},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.slider=document.getElementById(this.sliderId),io.a.create(this.slider,{start:this.getOscType(),connect:[!0,!1],range:{min:1,max:6},step:1,pips:{mode:"steps",density:25,format:{to:function(e){return{1:"REG",2:"FM",3:"AM",4:"FAT",5:"PULSE",6:"PWM"}[e]}}},tooltips:!0,format:{to:function(e){var t=Math.round(e);return 1===t?"basic":2===t?"fm":3===t?"am":4===t?"fat":5===t?"pulse":6===t?"pwm":void 0},from:function(e){return"basic"===e?1:"fm"===e?2:"am"===e?3:"fat"===e?4:"pulse"===e?5:"pwm"===e?6:void 0}}}),this.slider.noUiSlider.on("update",function(t,o){e.updateValue(t[o])}),this.slider.noUiSlider.on("set",function(t,o){e.updateValue(t[o])})}},{key:"componentWillUnmount",value:function(){this.slider.noUiSlider.destroy()}},{key:"componentDidUpdate",value:function(e){e.random!==this.props.random&&this.setRandomVal()}},{key:"render",value:function(){var e="editor"+this.props.editorNum;return this.props.child?(this.obj=this.props.obj[this.props.child],this.sliderId=e+"_slider_"+this.props.child+"_"+this.props.propName+"_"+this.props.obj.id):(this.obj=this.props.obj,this.sliderId=e+"_slider_"+this.props.propName+"_"+this.props.obj.id),this.oscType||(this.oscType=this.getOscType()),i.a.createElement("div",null,i.a.createElement("div",{className:"divEditorSliderContainer"},i.a.createElement("label",null,this.props.propName),i.a.createElement("br",null),i.a.createElement("div",{id:this.sliderId})),i.a.createElement(Eo,{obj:this.props.obj,editorNum:this.props.editorNum,child:this.props.child,oscType:this.oscType,random:this.props.random}))}}]),t}(n.Component)),Eo=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).getWaveType=function(){var e=o.obj.type;return"fm"===e.substr(0,2)||"am"===e.substr(0,2)?e.substr(2):"fat"===e.substr(0,3)?e.substr(3):"pwm"===e||"pulse"===e?"sine":e},o.updateValue=function(e){var t;e&&(e!==o.waveType&&(o.waveType=e,t="basic"===o.props.oscType?o.waveType:"pwm"===o.props.oscType||"pulse"===o.props.oscType?o.props.oscType:o.props.oscType+o.waveType,o.props.obj.setPropVal("type",t,!1,o.props.child)))},o.setRandomVal=function(){var e=Math.floor(4*Math.random())+0;"pulse"!==o.props.oscType&&"pwm"!==o.props.oscType&&o.slider.noUiSlider.set(["sine","triangle","sawtooth","square"][e])},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.slider=document.getElementById(this.sliderId),io.a.create(this.slider,{start:this.getWaveType(),connect:[!0,!1],range:{min:1,max:4},step:1,pips:{mode:"steps",density:25,format:{to:function(e){return{1:"SINE",2:"TRI",3:"SAW",4:"SQR"}[e]}}},tooltips:!0,format:{to:function(e){var t=Math.round(e);return 1===t?"sine":2===t?"triangle":3===t?"sawtooth":4===t?"square":void 0},from:function(e){return"sine"===e?1:"triangle"===e?2:"sawtooth"===e?3:"square"===e?4:void 0}}}),this.slider.noUiSlider.on("update",function(t,o){e.updateValue(t[o])}),this.slider.noUiSlider.on("set",function(t,o){e.updateValue(t[o])})}},{key:"componentWillUnmount",value:function(){this.slider.noUiSlider.destroy()}},{key:"componentDidUpdate",value:function(e){if(e.random!==this.props.random&&this.setRandomVal(),e.oscType!==this.props.oscType){var t=this.props.oscType;"pulse"===this.props.oscType||"pwm"===this.props.oscType?this.slider.setAttribute("disabled",!0):(this.slider.removeAttribute("disabled"),t="basic"===this.props.oscType?this.waveType:this.props.oscType+this.waveType),this.props.obj.setPropVal("type",t,!1,this.props.child)}}},{key:"render",value:function(){var e="editor"+this.props.editorNum;return this.props.child?(this.obj=this.props.obj[this.props.child],this.sliderId=e+"_slider_"+this.props.child+"_wavetype_"+this.props.obj.id):(this.obj=this.props.obj,this.sliderId=e+"_slider_wavetype_"+this.props.obj.id),i.a.createElement("div",{className:"divEditorSliderContainer"},i.a.createElement("label",null,"wavetype"),i.a.createElement("br",null),i.a.createElement("div",{id:this.sliderId}))}}]),t}(n.Component)),To=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).arrSections=["main","filter"],o.selSection="main",o.selectSection=function(e){o.selSection=e,o.forceUpdate()},o.getDisplay=function(e){return e===o.selSection?"block":"none"},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.autofilters.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,sections:this.arrSections,selSection:this.selSection,type:this.props.type,selectSection:this.selectSection}),i.a.createElement("div",{style:{display:this.getDisplay("main")}},i.a.createElement(go,{obj:this.obj,editorNum:this.props.editorNum,propName:"frequency"}),i.a.createElement(_o,{obj:this.obj,editorNum:this.props.editorNum,propName:"type"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"depth",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"baseFrequency",min:20,max:1e3,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"octaves",min:0,max:10,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0})),i.a.createElement("div",{style:{display:this.getDisplay("filter")}},i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"Q",min:0,max:10,mode:"steps",step:1,density:10,numType:"integer",signal:!0,child:"filter"}),i.a.createElement(yo,{obj:this.obj,editorNum:this.props.editorNum,propName:"type",child:"filter"}),i.a.createElement(jo,{obj:this.obj,editorNum:this.props.editorNum,propName:"rolloff",child:"filter"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"gain",min:-20,max:3,mode:"range",step:null,density:1,numType:"float",signal:!0,child:"filter"})))}}]),t}(n.Component)),So=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.autopanners.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"depth",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(go,{obj:this.obj,editorNum:this.props.editorNum,propName:"frequency"}),i.a.createElement(_o,{obj:this.obj,editorNum:this.props.editorNum,propName:"type"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Oo=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.autowahs.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"baseFrequency",min:20,max:1e3,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"octaves",min:0,max:10,mode:"steps",step:1,density:10,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"sensitivity",min:-40,max:0,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"Q",min:0,max:10,mode:"steps",step:1,density:10,numType:"integer",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"gain",min:-20,max:3,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),xo=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.bitcrushers.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"bits",min:1,max:8,mode:"steps",step:1,density:12.5,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Co=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.chebyshevs.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"order",min:0,max:10,mode:"steps",step:1,density:10,numType:"integer",signal:!1}),i.a.createElement(ko,{obj:this.obj,editorNum:this.props.editorNum,propName:"oversample",min:0,max:2,mode:"steps",step:1,density:10,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Bo=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.choruss.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"frequency",min:0,max:20,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"delayTime",min:0,max:25,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"depth",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(_o,{obj:this.obj,editorNum:this.props.editorNum,propName:"type"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"spread",min:0,max:360,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Mo=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return null}}]),t}(n.Component)),Io=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.distortions.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"distortion",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ko,{obj:this.obj,editorNum:this.props.editorNum,propName:"oversample",min:0,max:2,mode:"steps",step:1,density:10,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Do=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.feedbackdelays.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(go,{obj:this.obj,editorNum:this.props.editorNum,propName:"delayTime"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"feedback",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Po=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.freeverbs.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"roomSize",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"dampening",min:0,max:15e3,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Ao=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.jcreverbs.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"roomSize",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Lo=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.phasers.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"frequency",min:0,max:25,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"octaves",min:0,max:10,mode:"steps",step:1,density:10,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"stages",min:0,max:20,mode:"steps",step:1,density:1,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"Q",min:0,max:10,mode:"steps",step:1,density:10,numType:"integer",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"baseFrequency",min:20,max:1e3,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),zo=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.pingpongdelays.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(go,{obj:this.obj,editorNum:this.props.editorNum,propName:"delayTime"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"feedback",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Ro=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.pitchshifts.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"pitch",min:-24,max:24,mode:"steps",step:1,density:10,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Fo=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.reverbs.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"decay",min:.1,max:4,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"preDelay",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Vo=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.stereowideners.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"width",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Go=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.tremolos.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"frequency",min:0,max:50,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(_o,{obj:this.obj,editorNum:this.props.editorNum,propName:"type"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"depth",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"spread",min:0,max:360,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Uo=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.effects.vibratos.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"frequency",min:0,max:50,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"depth",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(_o,{obj:this.obj,editorNum:this.props.editorNum,propName:"type"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"wet",min:0,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Wo=function(e){var t=Vt.components.filters.find(function(t){return t.id===e.objId});return i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:t,editorNum:e.editorNum,type:e.type}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"Q",min:0,max:10,mode:"steps",step:1,density:10,numType:"integer",signal:!0}),i.a.createElement(yo,{obj:t,editorNum:e.editorNum,propName:"type"}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"frequency",min:0,max:1e4,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(jo,{obj:t,editorNum:e.editorNum,propName:"rolloff"}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"gain",min:-20,max:3,mode:"range",step:null,density:1,numType:"float",signal:!0}))},Ho=function(e){var t=Vt.components.frequencyenvelopes.find(function(t){return t.id===e.objId});return i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:t,editorNum:e.editorNum,type:e.type}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"attack",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"decay",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"sustain",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"release",min:.01,max:4,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"baseFrequency",min:20,max:1e3,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"octaves",min:0,max:10,mode:"steps",step:1,density:1,numType:"float",signal:!1}))},qo=function(e){var t=Vt.components.amplitudeenvelopes.find(function(t){return t.id===e.objId});return i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:t,editorNum:e.editorNum,type:e.type}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"attack",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"decay",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"sustain",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"release",min:.01,max:4,mode:"range",step:null,density:1,numType:"float",signal:!1}))},Ko=function(e){var t=Vt.components.gates.find(function(t){return t.id===e.objId});return i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:t,editorNum:e.editorNum,type:e.type}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"threshold",min:-50,max:20,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"attack",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"release",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1}))},Xo=function(e){var t=Vt.components.limiters.find(function(t){return t.id===e.objId});return i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:t,editorNum:e.editorNum,type:e.type}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"threshold",min:-100,max:0,mode:"range",step:null,density:1,numType:"float",signal:!0}))},Zo=function(e){var t=Vt.components.lfos.find(function(t){return t.id===e.objId});return i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:t,editorNum:e.editorNum,type:e.type}),i.a.createElement(_o,{obj:t,editorNum:e.editorNum,propName:"type"}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"min",min:-1e4,max:1e4,mode:"range",step:1,density:1,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"max",min:-1e4,max:1e4,mode:"range",step:1,density:1,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"phase",min:0,max:360,mode:"range",step:1,density:1,numType:"integer",signal:!1}),i.a.createElement(go,{obj:t,editorNum:e.editorNum,propName:"frequency"}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"amplitude",min:0,max:1,mode:"range",step:.01,density:1,numType:"float",signal:!0}))},Yo=function(e){var t=Vt.components.compressors.find(function(t){return t.id===e.objId});return i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:t,editorNum:e.editorNum,type:e.type}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"ratio",min:1,max:30,mode:"steps",step:1,density:30,numType:"integer",signal:!0}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"threshold",min:-50,max:0,mode:"range",step:.01,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"attack",min:0,max:.2,mode:"range",step:.001,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"release",min:.001,max:5,mode:"range",step:.001,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"knee",min:-50,max:50,mode:"range",step:.01,density:1,numType:"float",signal:!0}))},Qo=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).arrSections=["main","low","mid","high"],o.selSection="main",o.selectSection=function(e){o.selSection=e,o.forceUpdate()},o.getDisplay=function(e){return e===o.selSection?"block":"none"},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.components.multibandcompressors.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,sections:this.arrSections,selSection:this.selSection,type:this.props.type,selectSection:this.selectSection}),i.a.createElement("div",{style:{display:this.getDisplay("main")}},i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"lowFrequency",min:20,max:2e4,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"highFrequency",min:20,max:2e4,mode:"range",step:null,density:1,numType:"float",signal:!0})),this.arrSections.map(function(t){return"main"!==t?i.a.createElement("div",{key:t+"_"+e.obj.id,style:{display:e.getDisplay(t)}},i.a.createElement(ho,{obj:e.obj,editorNum:e.props.editorNum,propName:"ratio",min:1,max:30,mode:"steps",step:1,density:30,numType:"integer",signal:!0,child:t}),i.a.createElement(ho,{obj:e.obj,editorNum:e.props.editorNum,propName:"threshold",min:-50,max:0,mode:"range",step:.01,density:1,numType:"float",signal:!0,child:t}),i.a.createElement(ho,{obj:e.obj,editorNum:e.props.editorNum,propName:"attack",min:0,max:.2,mode:"range",step:.001,density:1,numType:"float",signal:!0,child:t}),i.a.createElement(ho,{obj:e.obj,editorNum:e.props.editorNum,propName:"release",min:.001,max:5,mode:"range",step:.001,density:1,numType:"float",signal:!0,child:t}),i.a.createElement(ho,{obj:e.obj,editorNum:e.props.editorNum,propName:"knee",min:-50,max:50,mode:"range",step:.01,density:1,numType:"float",signal:!0,child:t})):null}))}}]),t}(n.Component)),Jo=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).arrSections=["mid","side"],o.selSection="mid",o.selectSection=function(e){o.selSection=e,o.forceUpdate()},o.getDisplay=function(e){return e===o.selSection?"block":"none"},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.components.midsidecompressors.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,sections:this.arrSections,selSection:this.selSection,type:this.props.type,selectSection:this.selectSection}),this.arrSections.map(function(t){return i.a.createElement("div",{key:t+"_"+e.obj.id,style:{display:e.getDisplay(t)}},i.a.createElement(ho,{obj:e.obj,editorNum:e.props.editorNum,propName:"ratio",min:1,max:30,mode:"steps",step:1,density:30,numType:"integer",signal:!0,child:t}),i.a.createElement(ho,{obj:e.obj,editorNum:e.props.editorNum,propName:"threshold",min:-50,max:0,mode:"range",step:.01,density:1,numType:"float",signal:!0,child:t}),i.a.createElement(ho,{obj:e.obj,editorNum:e.props.editorNum,propName:"attack",min:0,max:.2,mode:"range",step:.001,density:1,numType:"float",signal:!0,child:t}),i.a.createElement(ho,{obj:e.obj,editorNum:e.props.editorNum,propName:"release",min:.001,max:5,mode:"range",step:.001,density:1,numType:"float",signal:!0,child:t}),i.a.createElement(ho,{obj:e.obj,editorNum:e.props.editorNum,propName:"knee",min:-50,max:50,mode:"range",step:.01,density:1,numType:"float",signal:!0,child:t}))}))}}]),t}(n.Component)),$o=function(e){var t=Vt.components.monos.find(function(t){return t.id===e.objId});return i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:t,editorNum:e.editorNum,type:e.type}))},en=function(e){var t=Vt.components.eq3s.find(function(t){return t.id===e.objId});return i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:t,editorNum:e.editorNum,type:e.type}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"low",min:-30,max:30,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"mid",min:-30,max:30,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"high",min:-30,max:30,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"lowFrequency",min:20,max:2e4,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"highFrequency",min:20,max:2e4,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"Q",min:0,max:10,mode:"steps",step:1,density:10,numType:"integer",signal:!0}))},tn=function(e){var t=Vt.components.panvols.find(function(t){return t.id===e.objId});return i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:t,editorNum:e.editorNum,type:e.type}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"pan",min:-1,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))},on=function(e){var t=Vt.components.lowpasscombfilters.find(function(t){return t.id===e.objId});return i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:t,editorNum:e.editorNum,type:e.type}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"delayTime",min:.001,max:1,mode:"range",step:.001,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"resonance",min:0,max:1,mode:"range",step:.001,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"dampening",min:20,max:2e4,mode:"range",step:null,density:1,numType:"float",signal:!0}))},nn=function(e){var t=Vt.components.feedbackcombfilters.find(function(t){return t.id===e.objId});return i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:t,editorNum:e.editorNum,type:e.type}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"delayTime",min:.001,max:1,mode:"range",step:.001,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"resonance",min:0,max:1,mode:"range",step:.001,density:1,numType:"float",signal:!0}))},rn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).arrSections=["main","low","mid","high"],o.selSection="main",o.selectSection=function(e){o.selSection=e,o.forceUpdate()},o.getDisplay=function(e){return e===o.selSection?"block":"none"},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.components.multibandsplits.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,sections:this.arrSections,selSection:this.selSection,type:this.props.type,selectSection:this.selectSection}),i.a.createElement("div",{style:{display:this.getDisplay("main")}},i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"lowFrequency",min:20,max:2e4,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"highFrequency",min:20,max:2e4,mode:"range",step:null,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"Q",min:0,max:10,mode:"steps",step:1,density:10,numType:"integer",signal:!0})),this.arrSections.map(function(t){return"main"!==t?i.a.createElement("div",{key:e.props.objId+"_"+t,style:{display:e.getDisplay(t)}},i.a.createElement(ho,{obj:e.obj,editorNum:e.props.editorNum,propName:"Q",min:0,max:10,mode:"steps",step:1,density:10,numType:"integer",signal:!0,child:t}),i.a.createElement(yo,{obj:e.obj,editorNum:e.props.editorNum,propName:"type",child:t}),i.a.createElement(ho,{obj:e.obj,editorNum:e.props.editorNum,propName:"frequency",min:0,max:1e4,mode:"range",step:null,density:1,numType:"float",signal:!0,child:t}),i.a.createElement(jo,{obj:e.obj,editorNum:e.props.editorNum,propName:"rolloff",child:t})):null}))}}]),t}(n.Component)),an=function(e){var t=Vt.components.volumes.find(function(t){return t.id===e.objId});return i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:t,editorNum:e.editorNum,type:e.type}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:null,density:1,numType:"float",signal:!0}))},sn=function(e){var t=Vt.components.panners.find(function(t){return t.id===e.objId});return i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:t,editorNum:e.editorNum,type:e.type}),i.a.createElement(ho,{obj:t,editorNum:e.editorNum,propName:"pan",min:-1,max:1,mode:"range",step:null,density:1,numType:"float",signal:!0}))},ln=function(){return Math.random().toString(36).substr(2,5)},cn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).arrSections=["main","env"],o.selSection="main",o.selectSection=function(e){o.selSection=e,o.forceUpdate()},o.getDisplay=function(e){return e===o.selSection?"block":"none"},o.setRandomVals=function(){o.random=ln(),o.forceUpdate()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.instruments.synths.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,sections:this.arrSections,selSection:this.selSection,type:this.props.type,selectSection:this.selectSection,funcRandom:this.setRandomVals}),i.a.createElement("div",{style:{display:this.getDisplay("main")}},i.a.createElement(No,{obj:this.obj,editorNum:this.props.editorNum,propName:"type",child:"oscillator",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"portamento",min:0,max:.3,mode:"range",step:.01,density:1,numType:"float",signal:!1})),i.a.createElement("div",{style:{display:this.getDisplay("env")}},i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"attack",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"decay",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"sustain",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"release",min:.01,max:4,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random})))}}]),t}(n.Component)),pn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).arrSections=["main","env","mod"],o.selSection="main",o.selectSection=function(e){o.selSection=e,o.forceUpdate()},o.getDisplay=function(e){return e===o.selSection?"block":"none"},o.setRandomVals=function(){o.random=ln(),o.forceUpdate()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.instruments.amsynths.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,sections:this.arrSections,selSection:this.selSection,type:this.props.type,selectSection:this.selectSection,funcRandom:this.setRandomVals}),i.a.createElement("div",{style:{display:this.getDisplay("main")}},i.a.createElement(No,{obj:this.obj,editorNum:this.props.editorNum,propName:"type",child:"oscillator",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"harmonicity",min:0,max:4,mode:"range",step:.1,density:1,numType:"float",signal:!0,random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"portamento",min:0,max:.3,mode:"range",step:.01,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"detune",min:-100,max:100,mode:"range",step:.1,density:1,numType:"float",signal:!0})),i.a.createElement("div",{style:{display:this.getDisplay("env")}},i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"attack",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"decay",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"sustain",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"release",min:.01,max:4,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random})),i.a.createElement("div",{style:{display:this.getDisplay("mod")}},i.a.createElement(_o,{obj:this.obj,editorNum:this.props.editorNum,propName:"type",child:"modulation",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"attack",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"modulationEnvelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"decay",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"modulationEnvelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"sustain",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"modulationEnvelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"release",min:.01,max:4,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"modulationEnvelope",random:this.random})))}}]),t}(n.Component)),dn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).arrSections=["main","osc","mod"],o.selSection="main",o.selectSection=function(e){o.selSection=e,o.forceUpdate()},o.getDisplay=function(e){return e===o.selSection?"block":"none"},o.setRandomVals=function(){o.random=ln(),o.forceUpdate()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.instruments.fmsynths.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,sections:this.arrSections,selSection:this.selSection,type:this.props.type,selectSection:this.selectSection,funcRandom:this.setRandomVals}),i.a.createElement("div",{style:{display:this.getDisplay("main")}},i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"modulationIndex",min:0,max:40,mode:"range",step:.1,density:1,numType:"float",signal:!0,random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"harmonicity",min:0,max:4,mode:"range",step:.1,density:1,numType:"float",signal:!0,random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"portamento",min:0,max:.3,mode:"range",step:.01,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"detune",min:-100,max:100,mode:"range",step:.1,density:1,numType:"float",signal:!0})),i.a.createElement("div",{style:{display:this.getDisplay("osc")}},i.a.createElement(No,{obj:this.obj,editorNum:this.props.editorNum,propName:"type",child:"oscillator",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"attack",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"decay",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"sustain",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"release",min:.01,max:4,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random})),i.a.createElement("div",{style:{display:this.getDisplay("mod")}},i.a.createElement(_o,{obj:this.obj,editorNum:this.props.editorNum,propName:"type",child:"modulation",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"attack",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"modulationEnvelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"decay",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"modulationEnvelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"sustain",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"modulationEnvelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"release",min:.01,max:4,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"modulationEnvelope",random:this.random})))}}]),t}(n.Component)),mn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).arrSections=["main","filter","env1","env2"],o.selSection="main",o.selectSection=function(e){o.selSection=e,o.forceUpdate()},o.getDisplay=function(e){return e!==o.selSection&&e?"none":"block"},o.setRandomVals=function(){o.random=ln(),o.forceUpdate()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.instruments.monosynths.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,sections:this.arrSections,selSection:this.selSection,type:this.props.type,selectSection:this.selectSection,funcRandom:this.setRandomVals}),i.a.createElement(_n,{obj:this.obj,editorNum:this.props.editorNum,voice:null,getDisplay:function(t,o){return e.getDisplay(t)},random:this.random}))}}]),t}(n.Component)),un=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).arrSections=["main","env"],o.selSection="main",o.selectSection=function(e){o.selSection=e,o.forceUpdate()},o.getDisplay=function(e){return e===o.selSection?"block":"none"},o.setRandomVals=function(){o.random=ln(),o.forceUpdate()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.instruments.metalsynths.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,sections:this.arrSections,selSection:this.selSection,type:this.props.type,selectSection:this.selectSection,funcRandom:this.setRandomVals}),i.a.createElement("div",{style:{display:this.getDisplay("main")}},i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"modulationIndex",min:0,max:40,mode:"range",step:.1,density:1,numType:"float",signal:!1,random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"resonance",min:0,max:8e3,mode:"range",step:null,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"octaves",min:0,max:4,mode:"steps",step:.25,density:1,numType:"float",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"harmonicity",min:0,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!1,random:this.random})),i.a.createElement("div",{style:{display:this.getDisplay("env")}},i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"attack",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"decay",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"sustain",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"release",min:.01,max:4,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random})))}}]),t}(n.Component)),bn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).arrSections=["main","env"],o.selSection="main",o.selectSection=function(e){o.selSection=e,o.forceUpdate()},o.getDisplay=function(e){return e===o.selSection?"block":"none"},o.setRandomVals=function(){o.random=ln(),o.forceUpdate()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.instruments.membranesynths.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,sections:this.arrSections,selSection:this.selSection,type:this.props.type,selectSection:this.selectSection,funcRandom:this.setRandomVals}),i.a.createElement("div",{style:{display:this.getDisplay("main")}},i.a.createElement(No,{obj:this.obj,editorNum:this.props.editorNum,propName:"type",child:"oscillator",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"octaves",min:.5,max:6,mode:"steps",step:.5,density:1,numType:"float",signal:!1,random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"pitchDecay",min:0,max:.2,mode:"range",step:.01,density:1,numType:"float",signal:!1,random:this.random})),i.a.createElement("div",{style:{display:this.getDisplay("env")}},i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"attack",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"decay",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"sustain",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"release",min:.01,max:4,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:this.random}),i.a.createElement(vo,{obj:this.obj,editorNum:this.props.editorNum,propName:"attackCurve",child:"envelope",random:this.random})))}}]),t}(n.Component)),fn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).setRandomVals=function(){o.random=ln(),o.forceUpdate()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.instruments.plucksynths.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type,funcRandom:this.setRandomVals}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"attackNoise",min:.1,max:20,mode:"range",step:.01,density:1,numType:"float",signal:!1,random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"dampening",min:20,max:1e4,mode:"range",step:null,density:1,numType:"float",signal:!1,random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"resonance",min:0,max:1,mode:"range",step:.01,density:1,numType:"float",signal:!1,random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),hn=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.instruments.noisesynths.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(wo,{obj:this.obj,editorNum:this.props.editorNum,propName:"type",child:"noise"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"attack",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"decay",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"sustain",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"release",min:.01,max:4,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope"}))}}]),t}(n.Component)),gn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).arrSections=["main","voice0","voice1"],o.arrChildSections=[],o.selSection="main",o.selChildSection="main",o.selectSection=function(e,t){t?o.selChildSection=e:(o.selSection=e,"main"===o.selSection?o.arrChildSections=[]:o.arrChildSections=["main","filter","env1","env2"]),o.forceUpdate()},o.getDisplay=function(e,t){var n=o.selSection;return t&&(n=o.selChildSection),e===n?"block":"none"},o.setRandomVals=function(){o.random=ln(),o.forceUpdate()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;this.obj=Vt.instruments.duosynths.find(function(t){return t.id===e.props.objId});var t=null;return"main"!==this.selSection&&(t=i.a.createElement("div",{style:{height:"32px"}},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,sections:this.arrChildSections,selSection:this.selChildSection,type:this.props.type,selectSection:this.selectSection,parent:this.selSection}),i.a.createElement("br",null),i.a.createElement("br",null))),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,sections:this.arrSections,selSection:this.selSection,type:this.props.type,selectSection:this.selectSection,funcRandom:this.setRandomVals}),t,i.a.createElement("div",{style:{display:this.getDisplay("main")}},i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"vibratoAmount",min:0,max:1,mode:"range",step:.01,density:1,numType:"float",signal:!0,random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"vibratoRate",min:0,max:1e3,mode:"range",step:null,density:1,numType:"float",signal:!0,random:this.random}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"harmonicity",min:0,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0,random:this.random})),i.a.createElement(_n,{obj:this.obj.voice0,editorNum:this.props.editorNum,voice:"voice0",getDisplay:function(t,o){return e.getDisplay(t,o)},random:this.random}),i.a.createElement(_n,{obj:this.obj.voice1,editorNum:this.props.editorNum,voice:"voice1",getDisplay:function(t,o){return e.getDisplay(t,o)},random:this.random}))}}]),t}(n.Component)),_n=Object(m.a)(function(e){return i.a.createElement("div",{style:{display:e.getDisplay(e.voice)}},i.a.createElement("div",{style:{display:e.getDisplay("main",!0)}},i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(No,{obj:e.obj,editorNum:e.editorNum,propName:"type",child:"oscillator",random:e.random}),i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"detune",min:-100,max:100,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"portamento",min:0,max:.3,mode:"range",step:.01,density:1,numType:"float",signal:!1})),i.a.createElement("div",{style:{display:e.getDisplay("filter",!0)}},i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"Q",min:0,max:10,mode:"steps",step:1,density:10,numType:"integer",signal:!0,child:"filter",random:e.random}),i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"frequency",min:0,max:1e4,mode:"range",step:null,density:1,numType:"float",signal:!0,child:"filter",random:e.random}),i.a.createElement(yo,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"type",child:"filter",random:e.random}),i.a.createElement(jo,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"rolloff",child:"filter",random:e.random}),i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"gain",min:-20,max:3,mode:"range",step:null,density:1,numType:"float",signal:!0,child:"filter",random:e.random})),i.a.createElement("div",{style:{display:e.getDisplay("env1",!0)}},i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"attack",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:e.random}),i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"decay",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:e.random}),i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"sustain",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:e.random}),i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"release",min:.01,max:4,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"envelope",random:e.random})),i.a.createElement("div",{style:{display:e.getDisplay("env2",!0)}},i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"attack",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"filterEnvelope",random:e.random}),i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"decay",min:.01,max:2,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"filterEnvelope",random:e.random}),i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"sustain",min:.01,max:1,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"filterEnvelope",random:e.random}),i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"release",min:.01,max:4,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"filterEnvelope",random:e.random}),i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"baseFrequency",min:20,max:1e3,mode:"range",step:null,density:1,numType:"float",signal:!1,child:"filterEnvelope",random:e.random}),i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"octaves",min:0,max:10,mode:"steps",step:1,density:1,numType:"float",signal:!1,child:"filterEnvelope",random:e.random}),i.a.createElement(ho,{obj:e.obj,editorNum:e.editorNum,voice:e.voice,propName:"exponent",min:1,max:10,mode:"steps",step:1,density:1,numType:"integer",signal:!1,child:"filterEnvelope",random:e.random})))}),yn=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.objId.split("_");return this.obj=Vt.instruments.tinysynths.find(function(e){return e.id===t[0]+"_"+t[2]}),this.panvol=Vt.components.panvols.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"instrument",min:0,max:127,mode:"steps",step:1,density:10,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:this.panvol,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),vn=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.sources.oscillators.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(_o,{obj:this.obj,editorNum:this.props.editorNum,propName:"type"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"detune",min:-100,max:100,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"phase",min:0,max:360,mode:"range",step:1,density:1,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),jn=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.sources.amoscillators.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(_o,{obj:this.obj,editorNum:this.props.editorNum,propName:"type"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"detune",min:-100,max:100,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"phase",min:0,max:360,mode:"range",step:1,density:1,numType:"integer",signal:!1}),i.a.createElement(_o,{obj:this.obj,editorNum:this.props.editorNum,propName:"modulationType"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"harmonicity",min:0,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),wn=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.sources.fmoscillators.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(_o,{obj:this.obj,editorNum:this.props.editorNum,propName:"type"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"detune",min:-100,max:100,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"phase",min:0,max:360,mode:"range",step:1,density:1,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"modulationIndex",min:0,max:100,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(_o,{obj:this.obj,editorNum:this.props.editorNum,propName:"modulationType"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"harmonicity",min:0,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),kn=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.sources.fatoscillators.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"detune",min:-100,max:100,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"phase",min:0,max:360,mode:"range",step:1,density:1,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"spread",min:0,max:360,mode:"range",step:1,density:1,numType:"integer",signal:!1}),i.a.createElement(_o,{obj:this.obj,editorNum:this.props.editorNum,propName:"type"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Nn=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.sources.pwmoscillators.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"detune",min:-100,max:100,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"phase",min:0,max:360,mode:"range",step:1,density:1,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"modulationFrequency",min:0,max:1e3,mode:"range",step:1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),En=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.sources.pulseoscillators.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"detune",min:-100,max:100,mode:"range",step:.1,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"phase",min:0,max:360,mode:"range",step:1,density:1,numType:"integer",signal:!1}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"width",min:0,max:1,mode:"range",step:.01,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Tn=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return this.obj=Vt.sources.noises.find(function(t){return t.id===e.props.objId}),i.a.createElement("div",{className:"divToolRowEditorContainer"},i.a.createElement(fo,{obj:this.obj,editorNum:this.props.editorNum,type:this.props.type}),i.a.createElement(wo,{obj:this.obj,editorNum:this.props.editorNum,propName:"type"}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"playbackRate",min:0,max:100,mode:"range",step:.01,density:1,numType:"float",signal:!0}),i.a.createElement(ho,{obj:this.obj,editorNum:this.props.editorNum,propName:"volume",min:-100,max:10,mode:"range",step:.1,density:1,numType:"float",signal:!0}))}}]),t}(n.Component)),Sn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).update=function(){o.forceUpdate()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=null;switch(this.props.objId.split("_")[0]){case"autofilter":e=i.a.createElement(To,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"autopanner":e=i.a.createElement(So,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"autowah":e=i.a.createElement(Oo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"bitcrusher":e=i.a.createElement(xo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"chebyshev":e=i.a.createElement(Co,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"chorus":e=i.a.createElement(Bo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"convolver":e=i.a.createElement(Mo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"distortion":e=i.a.createElement(Io,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"feedbackdelay":e=i.a.createElement(Do,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"freeverb":e=i.a.createElement(Po,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"jcreverb":e=i.a.createElement(Ao,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"phaser":e=i.a.createElement(Lo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"pingpongdelay":e=i.a.createElement(zo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"pitchshift":e=i.a.createElement(Ro,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"reverb":e=i.a.createElement(Fo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"stereowidener":e=i.a.createElement(Vo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"tremolo":e=i.a.createElement(Go,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"vibrato":e=i.a.createElement(Uo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"effect"});break;case"amplitudeenvelope":e=i.a.createElement(qo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"compressor":e=i.a.createElement(Yo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"eq3":e=i.a.createElement(en,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"filter":e=i.a.createElement(Wo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"frequencyenvelope":e=i.a.createElement(Ho,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"limiter":e=i.a.createElement(Xo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"lfo":e=i.a.createElement(Zo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"gate":e=i.a.createElement(Ko,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"mono":e=i.a.createElement($o,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"panvol":e=i.a.createElement(tn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"feedbackcombfilter":e=i.a.createElement(nn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"lowpasscombfilter":e=i.a.createElement(on,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"multibandcompressor":e=i.a.createElement(Qo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"midsidecompressor":e=i.a.createElement(Jo,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"multibandsplit":e=i.a.createElement(rn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"volume":e=i.a.createElement(an,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"panner":e=i.a.createElement(sn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"component"});break;case"synth":e=i.a.createElement(cn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"instrument"});break;case"amsynth":e=i.a.createElement(pn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"instrument"});break;case"fmsynth":e=i.a.createElement(dn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"instrument"});break;case"monosynth":e=i.a.createElement(mn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"instrument"});break;case"metalsynth":e=i.a.createElement(un,{objId:this.props.objId,editorNum:this.props.editorNum,type:"instrument"});break;case"membranesynth":e=i.a.createElement(bn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"instrument"});break;case"plucksynth":e=i.a.createElement(fn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"instrument"});break;case"noisesynth":e=i.a.createElement(hn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"instrument"});break;case"duosynth":e=i.a.createElement(gn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"instrument"});break;case"tinysynth":e=i.a.createElement(yn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"instrument"});break;case"oscillator":e=i.a.createElement(vn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"source"});break;case"amoscillator":e=i.a.createElement(jn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"source"});break;case"fmoscillator":e=i.a.createElement(wn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"source"});break;case"fatoscillator":e=i.a.createElement(kn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"source"});break;case"pwmoscillator":e=i.a.createElement(Nn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"source"});break;case"pulseoscillator":e=i.a.createElement(En,{objId:this.props.objId,editorNum:this.props.editorNum,type:"source"});break;case"noise":e=i.a.createElement(Tn,{objId:this.props.objId,editorNum:this.props.editorNum,type:"source"});break;case null:e=null;break;default:e=null}return e}}]),t}(n.Component)),On=function(e){var t;return t=e.objId?"player"===e.objId.split("_")[0]||"sample"===e.objId.split("_")[0]?i.a.createElement(po,{store:e.store,file:e.file,tracks:e.tracks,objId:e.objId,selectedTrack:e.store.ui.selectedTrack,winWidth:e.store.ui.windowWidth,selectedToolbar:e.store.ui.selectedToolbar,selectedGroup:e.store.ui.selectedGroup,editorNum:e.editorNum}):"record"===e.objId.split("_")[0]?i.a.createElement(bo,{store:e.store,objId:e.objId,editorNum:e.editorNum}):i.a.createElement(Sn,{objId:e.objId,editorNum:e.editorNum}):i.a.createElement("div",{style:{width:"100%",height:"100%",display:"table"}},i.a.createElement("div",{className:"labelCenter"},"No Object Selected")),i.a.createElement("div",{id:"divToolEditor"+e.editorNum,className:"divToolRowPanelContainer"},t)},xn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).toolRowHeight="200px",o.applyResizable=function(){var e=Object(Ut.a)(Object(Ut.a)(o)),t=document.getElementsByClassName("divToolRowHandleBG");k()("#divToolRow").resizable({edges:{top:"#divToolRowHandle",left:!1,bottom:!1,right:!1},inertia:!0,allowFrom:"#divToolRowHandle",onend:function(e){t[0].style.backgroundColor="#19937a",t[1].style.backgroundColor="#19937a"}}).on("down",function(e){"divToolRowHandle"===e.target.id&&(t[0].style.backgroundColor="gray",t[1].style.backgroundColor="gray")}).on("up",function(e){t[0].style.backgroundColor="#19937a",t[1].style.backgroundColor="#19937a"}).on("resizemove",function(o){o.rect&&(o.rect.height<Vt.ui.getWindowSizes.height-140&&(o.target.style.height=o.rect.height+"px"),t[0].style.backgroundColor="gray",t[1].style.backgroundColor="gray"),o.target.style.height&&(e.toolRowHeight=o.target.style.height),"synth"===Vt.ui.selectedToolbar&&e.forceUpdate()})},o.UIZoomIn=function(){var e=o.props.store.ui.viewLength,t=u.Time(e)-u.Time("0:1:0");o.props.store.ui.setViewLength(u.Time(t).toBarsBeatsSixteenths())},o.UIZoomOut=function(){var e=o.props.store.ui.viewLength,t=u.Time(e)+u.Time("0:1:0");o.props.store.ui.setViewLength(u.Time(t).toBarsBeatsSixteenths())},o.toggleTool=function(e){var t=e.target.id.substr(7).toLowerCase();Vt.ui.selectedToolbar===t?Vt.ui.selectToolbar(void 0):Vt.ui.selectToolbar(t)},o.displayTool=function(e){e&&(e="btnTool"+e.charAt(0).toUpperCase()+e.slice(1)),o.activeTool=e;for(var t=document.getElementsByClassName("btnToolRowNav"),n=0;n<t.length;n++)t[n].id!==o.activeTool||t[n].classList.contains("btnToolRowNavSelected")?t[n].classList.remove("btnToolRowNavSelected"):t[n].classList.add("btnToolRowNavSelected");o.activeTool?document.getElementById("divToolRow").style.display="block":document.getElementById("divToolRow").style.display="none";for(var i=document.getElementsByClassName("divToolRowPanelContainer"),r=0;r<i.length;r++)o.activeTool&&o.activeTool.substr(3)===i[r].id.substr(3)?i[r].classList.remove("hidden"):i[r].classList.contains("hidden")||i[r].classList.add("hidden");"synth"===Vt.ui.selectedToolbar&&k()("#divToolRow").fire({type:"resizemove",target:document.getElementById("divToolRow")})},o.selectBrowserFile=function(e,t){"instrument"===t.type||"source"===t.type?"btnToolSynth"!==o.activeTool&&document.getElementById("btnToolSynth").click():"component"===t.type||"effect"===t.type?"btnToolEditor1"!==o.activeTool&&document.getElementById("btnToolEditor1").click():"sample"===t.type&&("...Record"===t.name?Vt.ui.selectObj("record_"+oe()):t.id?(o.selectedFile=t.id,Vt.ui.selectObj("player_"),o.forceUpdate()):t.url&&t.name&&(o.selectedFile=t.url+"/"+t.name,Vt.ui.selectObj("player_"),o.forceUpdate()),"btnToolEditor1"!==o.activeTool&&document.getElementById("btnToolEditor1").click())},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.applyResizable(),"home"!==this.props.selectedToolbar&&document.getElementById("btnToolHome").click(),window.addEventListener("wheel",function(t){var o=Vt.ui.windowHeight-80;(e.activeTool&&(o-=e.toolRowHeight.replace("px","")),t.pageY<o&&t.pageX<Vt.ui.windowWidth)&&(Math.sign(t.deltaY)>0?e.UIZoomIn():e.UIZoomOut())}),k()("#container").gesturable({onstart:function(e){},onmove:function(t){t.ds>0?e.UIZoomIn():e.UIZoomOut()},onend:function(e){}})}},{key:"componentDidUpdate",value:function(e){if(e.windowHeight!==this.props.windowHeight){var t=document.getElementById("divToolRow");if(t)t.style.height.replace("px","")>this.props.windowHeight-140&&(t.style.height=this.props.windowHeight-140+"px")}e.selectedToolbar!==this.props.selectedToolbar&&this.displayTool(this.props.selectedToolbar),"manager"===this.props.mode?document.getElementById("divZoom").style.display="none":document.getElementById("divZoom").style.display="block"}},{key:"render",value:function(){var e,t=this,o=["browser1","browser2"].map(function(e){return i.a.createElement(to,{selectedDir:t.props.store.ui.toolbar.browser[e].selectedDir,id:e,songKey:t.props.store.settings.key,songScale:t.props.store.settings.scale,songSwing:t.props.store.settings.swingSubdivision,modified:t.props.store.settings.modified,numSamples:t.props.store.numSamples,numRegions:t.props.store.numRegions,selectedGroup:t.props.store.ui.selectedGroup})});return e=this.props.store.ui.windowWidth>=480?i.a.createElement("div",{id:"divToolBrowse",className:"divToolRowPanelContainer"},i.a.createElement("div",{style:{width:"50%",height:"100%",float:"left",position:"relative"}},o[0]),i.a.createElement("div",{style:{width:"50%",height:"100%",float:"left",position:"relative"}},o[1])):i.a.createElement("div",{id:"divToolBrowse",className:"divToolRowPanelContainer"},o[0]),i.a.createElement("div",{id:"divToolRowContainer",style:{width:this.props.store.ui.windowWidth+"px"}},i.a.createElement(Cn,{store:this.props.store,windowWidth:this.props.store.ui.windowWidth,viewMode:this.props.store.ui.viewMode,selectedGroup:this.props.store.ui.selectedGroup,mixMode:this.props.store.ui.mixMode,editMode:this.props.store.ui.editMode,editViewMode:this.props.store.ui.views.edit.mode,managerMode:this.props.store.ui.views.manager.mode,multiNoteSelect:this.props.store.ui.views.edit.multiNoteSelect}),i.a.createElement("div",{id:"divZoom"},i.a.createElement("button",{id:"btnUIZoomOut",className:"btnUIZoom",onClick:this.UIZoomOut},i.a.createElement("i",{className:"material-icons i-36",style:{marginLeft:"-4px"}},"remove_circle")),i.a.createElement("button",{id:"btnUIZoomIn",className:"btnUIZoom",onClick:this.UIZoomIn},i.a.createElement("i",{className:"material-icons i-36",style:{marginLeft:"-4px"}},"add_circle"))),i.a.createElement("div",{id:"divToolRowIconsBG"}),i.a.createElement("div",{id:"divToolRow"},i.a.createElement("div",{id:"divToolRowHandle",className:"divToolRowHandleBG"},i.a.createElement("div",{id:"divToolRowHandleThumb",className:"divToolRowHandleBG"},i.a.createElement("i",{className:"material-icons i-28",style:{marginLeft:"11px",marginTop:"4px",color:"#12121e",pointerEvents:"none"}},"swap_vert"))),i.a.createElement(oo,{store:this.props.store}),e,i.a.createElement(On,{store:this.props.store,editorNum:1,file:this.selectedFile,tracks:this.props.store.tracks,objId:this.props.store.ui.toolbar.editor1.selectedObj}),i.a.createElement(On,{store:this.props.store,editorNum:2,file:this.selectedFile,tracks:this.props.store.tracks,objId:this.props.store.ui.toolbar.editor2.selectedObj}),i.a.createElement(ro,{store:this.props.store,selectedTrack:this.props.store.ui.selectedTrack,height:this.toolRowHeight,scale:this.props.store.settings.scale,scaleKey:this.props.store.settings.key,chord:this.props.store.ui.selectedChord})),i.a.createElement("div",{id:"divToolRowNav"},i.a.createElement("button",{id:"btnToolHome",className:"btnToolRowNav",onClick:this.toggleTool},"Main"),i.a.createElement("button",{id:"btnToolBrowse",className:"btnToolRowNav",onClick:this.toggleTool},"Lib"),i.a.createElement("button",{id:"btnToolEditor1",className:"btnToolRowNav",onClick:this.toggleTool},"Edt1"),i.a.createElement("button",{id:"btnToolEditor2",className:"btnToolRowNav",onClick:this.toggleTool},"Edt2"),i.a.createElement("button",{id:"btnToolSynth",className:"btnToolRowNav",onClick:this.toggleTool},"Keys")))}}]),t}(n.Component)),Cn=function(e){var t=function(t,o){var n=void 0;o?"M"===e.selectedGroup?n="A":"A"===e.selectedGroup?n="B":"B"===e.selectedGroup?n="C":"C"===e.selectedGroup?n="D":"D"===e.selectedGroup&&(n="button"===Vt.ui.viewMode?"A":"M"):n=t.target.id?t.target.children[0].innerHTML:t.target.innerHTML,Vt.ui.selectGroup(n)},o="visible",n=1;("sequencer"===e.viewMode&&!e.mixMode||"edit"===e.viewMode&&"bar"===e.editViewMode&&!e.editMode)&&(n=.3);var r="block",a="";"edit"===e.viewMode&&(r="bar"===Vt.ui.views.edit.mode?"visible":"none",a=" editViewIconsBottom");var s,l="visible";if("button"===e.viewMode?l="hidden":"manager"===e.viewMode&&(a=" editViewIconsBottom",o="hidden",r="hidden"),"sequencer"===e.viewMode||"button"===e.viewMode)s=i.a.createElement("button",{id:"btnToggleGroup",className:"btnToolRowIconsLeft",onClick:function(e){return t(e,!0)},style:{visibility:r,top:"-6px"}},i.a.createElement("i",{className:"material-icons i-36"},e.selectedGroup)),e.windowWidth>550&&(s=["A","B","C","D","M"].map(function(o,n){if("M"===o&&"button"===Vt.ui.viewMode)return null;var a=.3;return e.selectedGroup===o&&(a=1),i.a.createElement("button",{key:n,id:"btnToggleGroup_"+o,className:"btnToolRowIconsLeft",onClick:t,style:{display:r,opacity:a,top:"-6px"}},i.a.createElement("i",{key:n,className:"material-icons i-36"},o))}));else if("edit"===e.viewMode&&"bar"===Vt.ui.views.edit.mode){var c=e.multiNoteSelect?1:.3;s=i.a.createElement("button",{id:"btnToggleMultNoteSelect",className:"btnToolRowIconsLeft",onClick:function(e){Vt.ui.views.edit.toggleMultiNoteSelect()},style:{display:r,opacity:c,top:"-6px"}},i.a.createElement("i",{className:"material-icons i-36"},"music_note"))}return i.a.createElement("div",{id:"divToggleMode",style:{visibility:o}},s,i.a.createElement("button",{id:"btnToggleMode",className:"btnToolRowIconsLeft"+a,onClick:function(){"edit"===e.viewMode||"button"===e.viewMode?Vt.ui.toggleEditMode():"sequencer"===e.viewMode&&"M"!==e.selectedGroup?Vt.ui.toggleMixMode():"manager"===e.viewMode&&("scene"===e.managerMode?Vt.ui.views.manager.setMode("track"):Vt.ui.views.manager.setMode("scene"))},style:{visibility:l,opacity:n}},i.a.createElement("i",{id:"iconEdit",className:"material-icons i-36"},"edit"!==e.viewMode?"button"===e.viewMode?e.editMode?"open_with":"volume_up":"manager"===e.viewMode?"scene"===e.managerMode?"T":"S":"equalizer":"graph"===e.editViewMode?e.editMode?"open_with":"arrow_right_alt":"bar"===e.editViewMode?"file_copy":void 0)))},Bn=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"divSideBarContainer"},this.props.content)}}]),t}(n.Component)),Mn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).setupLoopTile=function(){var e=Object(Ut.a)(Object(Ut.a)(o)),t=e.props,n=document.getElementById("divLoopTile"),i=u.Time(Vt.settings.loopStart)/t.songLength*o.props.windowWidth;n.setAttribute("data-x",i),n.style.webkitTransform=n.style.transform="translateX("+i+"px)",n.textContent=u.Time(Vt.getLoopLength).toBarsBeatsSixteenths(),n.style.width=Vt.getLoopLength/t.songLength*o.props.windowWidth+"px";var r=[{x:0}];t.scenes.forEach(function(e){var o=u.Time(e.start)/u.Time(t.songLength)*t.windowWidth;r.push({x:o})}),r.push({x:o.props.windowWidth});var a=0;k.a.isSet("#divLoopTile")||k()("#divLoopTile").draggable({modifiers:[k.a.modifiers.restrictRect({restriction:"parent",elementRect:{top:0,left:0,bottom:1,right:1}})]}).resizable({edges:{left:!0,right:!0,bottom:!1,top:!1},restrictEdges:{outer:"parent",endOnly:!0},restrictSize:{min:{width:0}},inertia:!1,snap:{targets:r,range:25}}).on("tap",function(e){k()("#canvasHeaderTimeline").fire(e)}).on("hold",function(e){u.Transport.loop=!u.Transport.loop,u.Transport.loop?(e.target.style.backgroundColor="rgba(25, 147, 122, 0.25)",n.textContent=u.Time(Vt.getLoopLength).toBarsBeatsSixteenths()):(e.target.style.backgroundColor="transparent",n.textContent="off")}).on("resizestart",function(e){var t=e.target,o=parseFloat(t.getAttribute("data-x"))||0;a=o+e.rect.width}).on("resizemove",function(o){var n,i,r=o.target,s=parseFloat(r.getAttribute("data-x"))||0,l=0;if(o.modifiers[0]){var c=o.modifiers[0].inRange,p=o.modifiers[0].target.x;if(o.pageX>=0&&o.pageX<=t.windowWidth){if(o.edges.left&&o.pageX<a){i=(s=c?p:o.pageX)/t.windowWidth*u.Time(t.songLength);var d=u.Time(i).quantize("8n");e.loopStart=u.Time(d).toBarsBeatsSixteenths(),u.Transport.loopStart=e.loopStart,r.style.width=a-s+"px",r.style.webkitTransform=r.style.transform="translateX("+s+"px)",r.setAttribute("data-x",s)}if(o.edges.right&&o.pageX>=s){n=c?p/t.windowWidth*t.songLength:o.pageX/t.windowWidth*t.songLength;var m=u.Time(n).quantize("8n");e.loopEnd=u.Time(m).toBarsBeatsSixteenths(),u.Transport.loopEnd=e.loopEnd,c?r.style.width=p-s+"px":(l=s+o.rect.width-o.pageX,r.style.width=o.rect.width-l+"px")}r.textContent=u.Time(u.Time(e.loopEnd)-u.Time(e.loopStart)).toBarsBeatsSixteenths()}}}).on("dragmove",function(o){i=parseFloat(o.target.getAttribute("data-x"))||0,i+=o.dx,o.target.style.webkitTransform=o.target.style.transform="translateX("+i+"px)",o.target.setAttribute("data-x",i);var n=i/t.windowWidth*u.Time(t.songLength),r=u.Time(n)+u.Time(Vt.getLoopLength),a=u.Time(n).quantize("8n"),s=u.Time(r).quantize("8n");e.loopStart=u.Time(a).toBarsBeatsSixteenths(),e.loopEnd=u.Time(s).toBarsBeatsSixteenths(),u.Transport.loopStart=e.loopStart,u.Transport.loopEnd=e.loopEnd}).on("resizeend",function(t){e.updateModel()}).on("dragend",function(t){e.updateModel()})},o.updateModel=function(){o.loopStart&&Vt.settings.setLoopStart(o.loopStart),o.loopEnd&&Vt.settings.setLoopEnd(o.loopEnd)},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.loopStart=Vt.settings.loopStart,this.loopEnd=Vt.settings.loopEnd,this.setupLoopTile(),Vt.settings.setLoopStart(Vt.settings.loopStart),Vt.settings.setLoopEnd(Vt.settings.loopEnd),u.Transport.loop=!0}},{key:"componentDidUpdate",value:function(e,t){k()("#divLoopTile").unset(),this.setupLoopTile()}},{key:"componentWillUnmount",value:function(){k()("#divLoopTile").unset()}},{key:"render",value:function(){return i.a.createElement("div",{id:"divLoopTile"})}}]),t}(n.Component)),In=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).canvasTap=function(e){var t=Object(Ut.a)(Object(Ut.a)(o));Vt.getScenesAsc.some(function(o,n){var i=u.Time(o.start)/t.props.songLength*Vt.ui.windowWidth,r=u.Time(o.end)/t.props.songLength*Vt.ui.windowWidth;return e>i&&e<r&&(Vt.ui.selectScene(o.id),!0)})},o.drawScenes=function(){var e=Object(Ut.a)(Object(Ut.a)(o));e.c=document.getElementById("canvasHeaderTimeline"),e.ctx=e.c.getContext("2d");var t=e.c,n=e.ctx;t.width=o.props.windowWidth,t.height=40,n.canvas.width=t.width,n.canvas.height=t.height,n.clearRect(0,0,t.width,t.height),n.strokeStyle="lightgray",n.lineWidth=2,n.beginPath(),o.props.scenes.forEach(function(o,i){var r=Math.floor(u.Time(o.start)/e.props.songLength*Vt.ui.windowWidth),a=Math.floor(u.Time(o.end)/e.props.songLength*Vt.ui.windowWidth),s=a-r;Vt.ui.selectedScene&&Vt.ui.selectedScene.id===o.id&&(n.fillStyle="white",n.fillRect(r,0,s,t.height)),n.moveTo(a,0),n.lineTo(a,t.height);var l=u.Time(Vt.getSceneLength(o.id)).toBarsBeatsSixteenths().split(":")[0],c=s/2-4;l.length>1&&(c=s/2-8),n.font="12px Verdana",n.fillStyle="black",n.fillText(l,r+c,24,s)}),n.stroke()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;k()("#canvasHeaderTimeline").on("tap",function(t){e.canvasTap(t.pageX)}),this.drawScenes()}},{key:"componentDidUpdate",value:function(e,t){this.drawScenes()}},{key:"componentWillUnmount",value:function(){k.a.isSet("#canvasHeaderTimeline")&&k()("#canvasHeaderTimeline").unset()}},{key:"render",value:function(){return i.a.createElement("canvas",{id:"canvasHeaderTimeline",style:{width:this.props.windowWidth+"px",height:"40px",backgroundColor:"gray"}})}}]),t}(n.Component)),Dn=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{id:"divHeader",className:"divHeader",style:{width:this.props.windowWidth+"px"}},i.a.createElement("div",{id:"divHeaderTimeline"},i.a.createElement(In,{store:this.props.store,songLength:this.props.songLength,windowWidth:this.props.windowWidth,selectedScene:this.props.store.ui.selectedScene,scenes:Vt.getScenesAsc}),i.a.createElement("div",{id:"hdrPlayhead",className:"progressLine",style:{height:"40px",top:0}}),i.a.createElement(Mn,{settings:this.props.store.ui.settings,windowWidth:this.props.windowWidth,songLength:this.props.songLength,scenes:this.props.store.getScenesAsc,bpm:this.props.store.settings.bpm})))}}]),t}(n.Component)),Pn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).applyTransformOffset=function(){if("edit"!==Vt.ui.viewMode||"edit"===Vt.ui.viewMode&&"bar"!==Vt.ui.views.edit.mode){var e=document.getElementById("gridContainer");if(e){var t=-1*e.getAttribute("data-x");document.getElementById("trackrowmix_"+o.props.track.id).style.transform="translateX("+t+"px)"}}},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.applyTransformOffset()}},{key:"componentDidUpdate",value:function(e){e.viewLength!==this.props.viewLength&&this.applyTransformOffset()}},{key:"render",value:function(){this.player||"audio"!==this.props.track.type||(this.player=Vt.instruments.getPlayerByTrack(this.props.track.id)),this.panvol||(this.panvol=this.props.track.getPanVol);var e=i.a.createElement(Un,{track:this.props.track});"edit"===this.props.store.ui.viewMode&&(e=i.a.createElement(Wn,{track:this.props.track,editViewMode:this.props.store.ui.views.edit.mode}));var t=i.a.createElement(Gn,{track:this.props.track,selection:this.props.selection});"master"===this.props.track.type&&(t=i.a.createElement(Vn,{track:this.props.track}));var o="";return("button"===this.props.store.ui.viewMode||"edit"===this.props.store.ui.viewMode&&"graph"===this.props.store.ui.views.edit.mode)&&(o=" mixrowTopGap"),i.a.createElement("div",{className:"track-rowmix"+o,id:"trackrowmix_"+this.props.track.id,style:{width:+this.props.store.ui.windowWidth}},i.a.createElement("div",{className:"track-rowmix-left"},e,i.a.createElement(Fn,{track:this.props.track,mute:this.props.track.mute}),i.a.createElement(Ln,{track:this.props.track,solo:this.props.track.solo}),t,i.a.createElement(An,{track:this.props.track,playbackRate:this.props.playbackRate,selection:this.props.selection})),i.a.createElement("div",{className:"track-rowmix-right"},i.a.createElement(Rn,{track:this.props.track}),i.a.createElement(zn,{track:this.props.track,selection:this.props.selection,panvol:this.panvol,player:this.player,playbackRate:this.props.playbackRate})))}}]),t}(n.Component)),An=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).toggleStyleSelect=function(){var e=document.getElementById(o.id);"Res"!==o.props.selection?e.classList.contains("btnSelected")||e.classList.add("btnSelected"):e.classList.contains("btnSelected")&&e.classList.remove("btnSelected")},o.toggleMixButton=function(e){e.preventDefault(),e.stopPropagation();var t=e.target.innerHTML;"Res"!==o.props.selection&&("Vol"===e.target.innerHTML?t="Pan":"Pan"===e.target.innerHTML?(t="Vol","audio"===o.props.track.type&&(t="Spd")):"Spd"===e.target.innerHTML&&(t="Vol")),e.target.innerHTML=t,o.props.track.mixRow.setMainSelection(t)},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.toggleStyleSelect()}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(e){var t=this;if(this.toggleStyleSelect(),e.playbackRate!==this.props.playbackRate){"Spd"!==this.props.selection&&"audio"===this.props.track.type&&this.props.track.mixRow.setMainSelection("Spd");var o=document.getElementById("btnMixLevel_"+this.props.track.id);o&&(o.innerHTML=this.props.playbackRate,clearTimeout(this.timeout),this.timeout=setTimeout(function(){(o=document.getElementById("btnMixLevel_"+t.props.track.id))&&(o.innerHTML=t.props.selection)},1500))}}},{key:"render",value:function(){return this.id="btnMixLevel_"+this.props.track.id,i.a.createElement("button",{id:this.id,className:"btn-mix",onClick:this.toggleMixButton},this.props.selection&&"Res"!==this.props.selection?this.props.selection:"Vol")}}]),t}(n.Component)),Ln=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).toggleSolo=function(e){e.preventDefault(),e.stopPropagation(),o.props.track.toggleSolo()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){this.id="btnMixSolo_"+this.props.track.id,this.props.solo?this.soloColor={backgroundColor:"#2671ea"}:this.soloColor=null;var e=!1;return"master"===this.props.track.type&&"M"===this.props.track.group&&(e=!0),i.a.createElement("button",{id:this.id,className:"btn-mix",style:this.soloColor,disabled:e,onClick:this.toggleSolo},"S")}}]),t}(n.Component)),zn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).arrayRes=["8n","8t","16n","16t","32n","32t","64n","64t"],o.changeSlider=function(e){e.preventDefault(),e.stopPropagation(),"Vol"===o.props.selection?o.props.panvol.setPropVal("volume",parseFloat(e.target.value),!0):"Pan"===o.props.selection?o.props.panvol.setPropVal("pan",parseFloat(e.target.value),!0):"Spd"===o.props.selection?o.props.player.setPropVal("playbackRate",parseFloat(e.target.value)):"Res"===o.props.selection&&o.props.track.setResolution(o.arrayRes[e.target.value]),"Res"!==o.props.selection&&(o.bPressed?o.setButtonText(e.target.value):o.setButtonText(o.props.selection))},o.onPressDown=function(e){e.stopPropagation(),"Res"!==o.props.selection&&(o.bPressed=!0,o.setButtonText(e.target.value))},o.onPressUp=function(e){e.stopPropagation(),"Res"!==o.props.selection&&(o.bPressed=!1,o.setButtonText(o.props.selection))},o.setButtonText=function(e){document.getElementById(o.btnId).innerHTML=e},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.playbackRate!==this.props.playbackRate&&!this.bPressed){var t=document.getElementById("mixSlider_"+this.props.track.id);t&&(t.value=this.props.playbackRate)}}},{key:"render",value:function(){this.btnId="btnMixLevel_"+this.props.track.id;var e,t=0;return"Vol"===this.props.selection?(t=this.props.panvol.volume,e=i.a.createElement("input",{id:"mixSlider_"+this.props.track.id,type:"range",min:"-40",max:"10",value:t,className:"trackMixSlider",step:"0.05",onChange:this.changeSlider,onInput:this.changeSlider,onMouseDown:this.onPressDown,onMouseUp:this.onPressUp,onTouchStart:this.onPressDown,onTouchEnd:this.onPressUp})):"Pan"===this.props.selection?(t=this.props.panvol.pan,e=i.a.createElement("input",{id:"mixSlider_"+this.props.track.id,type:"range",min:"-1",max:"1",value:t,className:"trackMixSlider",step:"0.01",onChange:this.changeSlider,onInput:this.changeSlider,onMouseDown:this.onPressDown,onMouseUp:this.onPressUp,onTouchStart:this.onPressDown,onTouchEnd:this.onPressUp})):"Spd"===this.props.selection?(t=this.props.player.playbackRate,e=i.a.createElement("input",{id:"mixSlider_"+this.props.track.id,type:"range",min:"0.01",max:"2",value:t,className:"trackMixSlider",step:"0.01",onChange:this.changeSlider,onInput:this.changeSlider,onMouseDown:this.onPressDown,onMouseUp:this.onPressUp,onTouchStart:this.onPressDown,onTouchEnd:this.onPressUp})):"Res"===this.props.selection&&(t=this.arrayRes.indexOf(this.props.track.resolution),e=i.a.createElement("input",{id:"mixSlider_"+this.props.track.id,type:"range",min:"0",max:"7",value:t,className:"trackMixSlider",step:"1",onChange:this.changeSlider,onInput:this.changeSlider,onMouseDown:this.onPressDown,onMouseUp:this.onPressUp,onTouchStart:this.onPressDown,onTouchEnd:this.onPressUp})),i.a.createElement("div",{style:{marginLeft:"10px",marginRight:"10px",height:"50%"}},e)}}]),t}(n.Component)),Rn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).addMeter=function(){if(o.idTrack=o.props.track.id,o.idSplit="mix_split_"+o.idTrack,ne.components.find(function(e){return e.id===o.idSplit})||ne.components.push({id:o.idSplit,track:o.props.track.id,obj:new u.Split}),o.idMeterL="mix_meter_L_"+o.idTrack,ne.components.find(function(e){return e.id===o.idMeterL})||ne.components.push({id:o.idMeterL,track:o.props.track.id,obj:new u.Meter}),o.idMeterR="mix_meter_R_"+o.idTrack,ne.components.find(function(e){return e.id===o.idMeterR})||ne.components.push({id:o.idMeterR,track:o.props.track.id,obj:new u.Meter}),o.split=ne.components.find(function(e){return e.id===o.idSplit}).obj,o.meterL=ne.components.find(function(e){return e.id===o.idMeterL}).obj,o.meterR=ne.components.find(function(e){return e.id===o.idMeterR}).obj,"master"===o.props.track.type){var e="panvol_"+o.props.track.group+"_out";"M"===o.props.track.group&&(e="panvol_master_out"),ne.components.find(function(t){return t.id===e}).obj.connect(o.split)}else ne.components.find(function(e){return e.id===o.props.track.getPanVol.id}).obj.connect(o.split);o.split.connect(o.meterL,0),o.split.connect(o.meterR,1)},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.addMeter()}},{key:"componentDidUpdate",value:function(e){e.track!==this.props.track&&this.addMeter()}},{key:"componentWillUnmount",value:function(){this.split.disconnect(this.meterL,0),this.split.disconnect(this.meterR,1),ne.delAudioObj(this.idMeterL,"component"),ne.delAudioObj(this.idMeterR,"component"),ne.delAudioObj(this.idSplit,"component")}},{key:"render",value:function(){return i.a.createElement("div",{style:{height:"50%"}},i.a.createElement("canvas",{id:"canvas-L-"+this.props.track.id,className:"canvasMeterL"}),i.a.createElement("canvas",{id:"canvas-R-"+this.props.track.id,className:"canvasMeterR"}))}}]),t}(n.Component)),Fn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).toggleMute=function(e){e.preventDefault(),e.stopPropagation(),o.props.track.toggleMute()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return this.id="btnMixMute_"+this.props.track.id,this.props.mute?this.muteColor={backgroundColor:"#2671ea"}:this.muteColor=null,i.a.createElement("button",{id:this.id,className:"btn-mix",style:this.muteColor,onClick:this.toggleMute},"M")}}]),t}(n.Component)),Vn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).toggleGroup=function(e){e.preventDefault(),e.stopPropagation(),Vt.ui.selectGroup(e.target.innerHTML)},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return this.id="btnMixToggleGroup_"+this.props.track.id,i.a.createElement("button",{id:this.id,className:"btn-mix",disabled:"M"===this.props.track.group,onClick:this.toggleGroup},this.props.track.group)}}]),t}(n.Component)),Gn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).toggleResolution=function(e){if(e.preventDefault(),e.stopPropagation(),"Res"!==o.props.selection)o.props.track.mixRow.setMainSelection("Res");else{var t=e.target;switch(t.innerHTML){case"8n":t.innerHTML="8t";break;case"8t":t.innerHTML="16n";break;case"16n":t.innerHTML="16t";break;case"16t":t.innerHTML="32n";break;case"32n":t.innerHTML="32t";break;case"32t":t.innerHTML="64n";break;case"64n":t.innerHTML="64t";break;case"64t":t.innerHTML="8n"}o.props.track.setResolution(t.innerHTML)}},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){this.id="btnMixToggleRes_"+this.props.track.id;var e=Vt.getPatternByTrackScene(this.props.track.id,Vt.ui.selectedScene.id).resolution,t="Res"===this.props.selection?" btnSelected":"";return i.a.createElement("button",{id:this.id,className:"btn-mix"+t,onClick:this.toggleResolution},e)}}]),t}(n.Component)),Un=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).toggleEditView=function(e){e.preventDefault(),e.stopPropagation(),Vt.ui.selectTrack(o.props.track.id),Vt.ui.toggleViewMode("edit")},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return this.id="btnMixEdit_"+this.props.track.id,i.a.createElement("button",{id:this.id,className:"btn-mix",onClick:this.toggleEditView},"Edt")}}]),t}(n.Component)),Wn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).toggleEditViewMode=function(e){e.preventDefault(),e.stopPropagation(),Vt.ui.views.edit.toggleMode()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){this.id="btnMixToggleEditViewMode_"+this.props.track.id,"master"===this.props.track.type?this.disabled=!0:this.disabled=!1;var e="Grph";return"graph"===this.props.editViewMode&&(e="Bars"),i.a.createElement("button",{id:this.id,className:"btn-mix",disabled:this.disabled,onClick:this.toggleEditViewMode},e)}}]),t}(n.Component)),Hn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).applyTransformOffset=function(){if("edit"!==o.props.store.ui.viewMode||"edit"===o.props.store.ui.viewMode&&"bar"!==o.props.store.ui.views.edit.mode){var e=document.getElementById("gridContainer");if(e){var t=-1*e.getAttribute("data-x");document.getElementById("trackrowmixedit_"+o.props.track.id).style.transform="translateX("+t+"px)"}}},o.backButton=function(e){o.props.store.ui.selectNote(void 0)},o.selectMixButton=function(e){e.preventDefault(),e.stopPropagation(),o.props.track.mixRow.setEditSelection(e.target.id.split("_")[1])},o.changeSlider=function(e){if(e.preventDefault(),e.stopPropagation(),"Vel"===o.props.selection)"audio"===o.props.track.type?o.props.note.setVelocity(W(parseFloat(e.target.value),0,1,-40,0)):o.props.note.setVelocity(parseFloat(e.target.value));else if("Prb"===o.props.selection)o.props.note.setProbability(parseFloat(e.target.value));else if("Dur"===o.props.selection)if("audio"===o.props.track.type)o.props.note.setDuration(parseFloat(e.target.value));else{var t=u.Time(o.props.note.getPattern.getLength)-u.Time(o.props.note.time),n=u.Time(t*parseFloat(e.target.value)).toBarsBeatsSixteenths(),i=o.props.note.offset*u.Time(o.props.note.getPattern.resolution);u.Time(n)-u.Time(i)>0&&o.props.note.setDuration(n)}else if("Dly"===o.props.selection){var r=o.props.note.offset*u.Time(o.props.note.getPattern.resolution);u.Time(o.props.note.duration)>u.Time(r)&&o.props.note.setOffset(parseFloat(e.target.value))}var a=document.getElementById("btnMixNote_"+o.props.selection);o.bPressed?a.innerHTML=Math.round(100*parseFloat(e.target.value)):a.innerHTML=o.props.selection},o.onPressDown=function(e){e.stopPropagation(),o.bPressed=!0,document.getElementById("btnMixNote_"+o.props.selection).innerHTML=Math.round(100*parseFloat(e.target.value))},o.onPressUp=function(e){e.stopPropagation(),o.bPressed=!1,document.getElementById("btnMixNote_"+o.props.selection).innerHTML=o.props.selection},o.getSlider=function(){var e=null;switch(o.props.selection){case"Vel":var t=o.props.note.velocity;"audio"===o.props.track.type&&(t=W(t,-40,0,0,1)),e=i.a.createElement("input",{type:"range",min:"0",max:"1",value:t,className:"trackMixSlider",step:"0.01",id:"velSlider"+o.props.trackId,onChange:o.changeSlider,onInput:o.changeSlider,onMouseDown:o.onPressDown,onMouseUp:o.onPressUp,onTouchStart:o.onPressDown,onTouchEnd:o.onPressUp});break;case"Prb":e=i.a.createElement("input",{type:"range",min:"0",max:"1",value:o.props.note.probability,className:"trackMixSlider",step:"0.01",id:"velSlider"+o.props.trackId,onChange:o.changeSlider,onInput:o.changeSlider,onMouseDown:o.onPressDown,onMouseUp:o.onPressUp,onTouchStart:o.onPressDown,onTouchEnd:o.onPressUp});break;case"Dur":if("audio"===o.props.track.type)e=i.a.createElement("input",{type:"range",min:"0.01",max:"1",value:o.props.note.duration,className:"trackMixSlider",step:"0.01",id:"velSlider"+o.props.trackId,onChange:o.changeSlider,onInput:o.changeSlider,onMouseDown:o.onPressDown,onMouseUp:o.onPressUp,onTouchStart:o.onPressDown,onTouchEnd:o.onPressUp});else{var n=u.Time(o.props.note.getPattern.getLength).toBarsBeatsSixteenths(),r=u.Time(n)-u.Time(o.props.note.time),a=(1/(u.Time(r)/u.Time("64n"))).toFixed(6),s=(u.Time(o.props.note.duration)/u.Time(r)).toFixed(6);e=i.a.createElement("input",{type:"range",min:a,value:s,max:"1.001",className:"trackMixSlider",step:a,id:"velSlider"+o.props.trackId,onChange:o.changeSlider,onInput:o.changeSlider,onMouseDown:o.onPressDown,onMouseUp:o.onPressUp,onTouchStart:o.onPressDown,onTouchEnd:o.onPressUp})}break;case"Dly":e=i.a.createElement("input",{type:"range",min:"0",max:"0.99",value:o.props.note.offset,className:"trackMixSlider",step:"0.01",id:"velSlider"+o.props.trackId,onChange:o.changeSlider,onInput:o.changeSlider,onMouseDown:o.onPressDown,onMouseUp:o.onPressUp,onTouchStart:o.onPressDown,onTouchEnd:o.onPressUp});break;case"Spd":e=i.a.createElement("input",{disabled:!0,type:"range",min:"0.01",max:"3",value:1,className:"trackMixSlider",step:"0.01",id:"velSlider"+o.props.trackId,onChange:o.changeSlider,onInput:o.changeSlider,onMouseDown:o.onPressDown,onMouseUp:o.onPressUp,onTouchStart:o.onPressDown,onTouchEnd:o.onPressUp});break;default:e=null}return e},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.applyTransformOffset()}},{key:"componentWillUnmount",value:function(){}},{key:"componentDidUpdate",value:function(e){e.viewLength!==this.props.viewLength&&this.applyTransformOffset()}},{key:"render",value:function(){var e="";return("button"===this.props.store.ui.viewMode||"edit"===this.props.store.ui.viewMode&&"graph"===this.props.store.ui.views.edit.mode)&&(e=" mixrowTopGap"),i.a.createElement("div",{className:"track-rowmix"+e,id:"trackrowmixedit_"+this.props.track.id,style:{width:+this.props.store.ui.windowWidth}},i.a.createElement("div",{id:"divMixRowBtnContainer",className:"track-rowmix-left"},i.a.createElement("button",{id:"btnMixBack",className:"btn-mix",onClick:this.backButton},"<"),i.a.createElement("button",{id:"btnMixNote_Dur",className:"Dur"===this.props.selection?"btn-mix btnSelected":"btn-mix",onClick:this.selectMixButton},"Dur"),i.a.createElement("button",{id:"btnMixNote_Vel",className:"Vel"===this.props.selection?"btn-mix btnSelected":"btn-mix",onClick:this.selectMixButton},"Vel"),i.a.createElement("button",{id:"btnMixNote_Dly",className:"Dly"===this.props.selection?"btn-mix btnSelected":"btn-mix",onClick:this.selectMixButton},"Dly"),i.a.createElement("button",{id:"btnMixNote_Prb",className:"Prb"===this.props.selection?"btn-mix btnSelected":"btn-mix",onClick:this.selectMixButton},"Prb")),i.a.createElement("div",{className:"track-rowmix-right"},i.a.createElement(Rn,{track:this.props.track}),i.a.createElement("div",{style:{marginLeft:"10px",marginRight:"10px"}},this.getSlider())))}}]),t}(n.Component)),qn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).canvasHeight=40,o.ensureBufferIsLoaded=function(e){return new Promise(function(t,o){!function o(){if(e.loaded)return t();setTimeout(o,5)}()})},o.initRenderWaveform=function(){o.init(!0)},o.init=function(e){o.c=document.getElementById("canvas"+o.id),o.c&&"master"!==o.props.track.type&&(o.ctx=o.c.getContext("2d"),"audio"===o.props.track.type?o.player&&o.player.buffer.loaded&&o.drawTrack(e):"instrument"===o.props.track.type&&o.drawTrack())},o.handleMouseUp=function(e){e.preventDefault(),e.changedTouches?e.changedTouches.length>0&&(o.mStopPos={x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}):o.mStopPos={x:e.clientX,y:e.clientY},o.mouseHold?o.mouseHold=!1:o.handleClick(null,!1)},o.handleMouseDown=function(e){e.touches?e.touches.length>0&&(o.mStartPos={x:e.touches[0].clientX,y:e.touches[0].clientY}):o.mStartPos={x:e.clientX,y:e.clientY}},o.handleClick=function(e,t){t&&e.preventDefault();var n,i=0;if(o.mStartPos&&o.mStopPos){var r,a;r=o.mStartPos.x-o.mStopPos.x,a=o.mStartPos.y-o.mStopPos.y,i=Math.sqrt(r*r+a*a);var s=document.getElementById("gridContainer").getAttribute("data-x");n=o.mStopPos.x-s}if(i<=60&&n){if("edit"===Vt.ui.viewMode&&"bar"===Vt.ui.views.edit.mode&&Vt.ui.editMode&&!Vt.ui.views.edit.multiNoteSelect)return void Vt.ui.views.edit.toggleBarSelect(o.props.bar);var l=n/o.props.windowWidth*u.Time(o.props.viewLength).toSeconds();if(o.props.selectedScene){var c,p=o.props.selectedScene,d=Vt.getPatternByTrackScene(o.props.track.id,p.id),m=0;if(o.props.bar?(c=(m=u.Time(o.props.bar-1+":0:0"))+u.Time("1:0:0"),l=n/o.props.windowWidth*u.Time(o.props.viewLength).toSeconds(),l+=m):c=u.Time(Vt.getSceneLength(p.id)),l>=m&&l<c){var b=u.Time(u.Time(l).quantize(d.resolution)).toBarsBeatsSixteenths();u.Time(b)>u.Time(l)&&(b=u.Time(b)<u.Time(d.resolution)?"0:0:0":u.Time(u.Time(b)-u.Time(d.resolution)).toBarsBeatsSixteenths());var f=b.replace(".667",".666"),h=d.getNote(f);h?h&&(Vt.ui.views.edit.multiNoteSelect?Vt.ui.views.edit.toggleNote(h.id):"audio"===d.track.type?h!==o.props.selectedNote?Vt.ui.selectNote(h):(Vt.ui.selectNote(void 0),h.getPattern.deleteNote(h)):"instrument"===d.track.type&&(o.props.selectedNote===h&&o.props.selectedNote.getNote[0]?(Vt.ui.selectNote(void 0),h.getPattern.deleteNote(h)):o.props.selectedNote!==h||o.props.selectedNote.getNote[0]?Vt.ui.selectNote(h):Vt.ui.selectNote(void 0))):("audio"!==d.track.type||Vt.ui.views.edit.multiNoteSelect?"instrument"===d.track.type&&(d.addNote(f,!1,[""],d.resolution),h=d.getNote(f)):(d.addNote(f,!1,void 0,1),h=d.getNote(f)),Vt.ui.views.edit.multiNoteSelect?h&&Vt.ui.views.edit.toggleNote(h.id):Vt.ui.selectNote(h))}}}},o.drawTrack=function(e){if(o.c.width=document.getElementById("gridContainer").style.width.replace("px",""),o.c.height=o.canvasHeight,o.ctx.clearRect(0,0,o.c.width,o.c.height),o.props.selectedScene){var t=o.props.selectedScene,n=Vt.getPatternByTrackScene(o.props.track.id,t.id);o.drawGridLines(o.ctx,n,t,o.props.viewLength),"audio"===o.props.track.type?o.drawAudioNotes(n,o.props.viewLength,e):"instrument"===o.props.track.type&&o.drawInstNotes(n,o.props.viewLength),"edit"===Vt.ui.viewMode&&"bar"===Vt.ui.views.edit.mode&&o.props.editMode&&(Vt.ui.views.edit.isBarSelected(o.props.bar)||Vt.ui.views.edit.isBarCopied(o.props.bar))&&o.highlightTrack(o.ctx,o.c.width,o.canvasHeight)}},o.highlightTrack=function(e,t,n){var i=Vt.getPatternByTrackScene(o.props.track.id,o.props.selectedScene.id);Vt.ui.views.edit.copiedPattern&&Vt.ui.views.edit.isBarCopied(o.props.bar)&&Vt.ui.views.edit.copiedPattern.id===i.id&&(e.fillStyle="#19937a",e.globalAlpha=.4,e.fillRect(0,0,t,n)),Vt.ui.views.edit.isBarSelected(o.props.bar)&&(e.fillStyle="white",e.globalAlpha=.4,e.fillRect(0,0,t,n))},o.drawInstNotes=function(e,t){var n=o.ctx,i=o.canvasHeight,r=o.props.windowWidth,a=u.Time(t).toBarsBeatsSixteenths(),s=parseInt(e.resolution.slice(0,-1),10);"t"===e.resolution.slice(-1)&&(s+=s/2),a=parseInt(a.split(":")[0]*s,10)+parseInt(a.split(":")[1]*(s/4),10);var l,c,p,d=r/a,m=e.getSortedNotesAsc.filter(function(e){return!e.mute});o.props.bar&&(l=o.props.bar-1+":0:0",c=o.props.bar+":0:0",m.filter(function(e){return u.Time(e.time)<u.Time(l)}).reverse().some(function(e){return u.Time(e.time)+u.Time(e.duration)>u.Time(l)&&(p=e,!0)}),m=m.filter(function(e){return u.Time(e.time)>=u.Time(l)&&u.Time(e.time)<u.Time(c)}),p&&m.unshift(p));m.forEach(function(e){if((e.note||Vt.ui.views.edit.multiNoteSelect)&&(""!==e.note[0]||o.props.selectedNote===e||Vt.ui.views.edit.selectedNotes.find(function(t){return t===e.id}))){var a;if(o.props.bar){var s=u.Time(e.time)-u.Time(l);a=s/u.Time(t)*r}else a=u.Time(e.time)/u.Time(t)*r;var c=u.Time(e.duration)/u.Time(t)*r,p=d*e.offset;n.fillStyle="#133e83",Vt.ui.editMode&&Vt.ui.views.edit.copiedNotes.find(function(t){return t.id.split("_")[2]===e.id.split("_")[1]})&&(n.fillStyle="#19937a"),o.props.selectedNote&&e.id===o.props.selectedNote.id&&(n.fillStyle="#065ae0"),Vt.ui.views.edit.multiNoteSelect&&Vt.ui.views.edit.selectedNotes.find(function(t){return t===e.id})&&(n.fillStyle="#065ae0"),n.globalAlpha=.8,n.fillRect(a+1+p,0,c-p-1,i),Vt.ui.selectedNote&&"Vel"===o.props.track.mixRow.editSelection&&(n.fillStyle="gray",o.props.selectedNote&&e.id===o.props.selectedNote.id&&(n.fillStyle="#19937a"),n.fillRect(a+1+p,40-e.velocity*i,c-p-1,e.velocity*i)),n.globalAlpha=1,n.fillStyle="#ffffff",n.fillRect(a+p,0,1,i),n.fillRect(a+c,0,1,i),n.font="12px Arial";var m=0;e.note.forEach(function(e){n.fillText(e,a+1+p,10*(m+1),c-2),m+=1})}})},o.drawAudioNotes=function(e,t,n){var i="canvasWaveform_"+o.id,r=o.id,a=o.player.buffer,s=a.duration/o.props.playbackRate,l=s/u.Time(t)*o.props.windowWidth,c=parseInt(e.resolution.slice(0,-1),10);"t"===e.resolution.slice(-1)&&(c+=c/2);var p=u.Time(t).toBarsBeatsSixteenths();p=parseInt(p.split(":")[0]*c,10)+parseInt(p.split(":")[1]*(c/4),10);var d=o.props.windowWidth/p;o.img||(o.img=new Image),!o.img.src||n||o.props.bar&&o.props.strSVG!==o.img.src?o.props.bar&&1!==o.props.bar?o.props.strSVG!==o.img.src&&(o.img.src=o.props.strSVG):K(a.toArray(0),"#"+i,l,o.canvasHeight).then(function(){var e=document.getElementById("canvasWaveform_"+r);if(e){var t=e.childNodes[0];t&&(o.img.src=t.toDataURL(),e.removeChild(t))}}):o.img.complete&&o.drawAudioNote(o.img,a,s,e,t,d,l),o.img.onload=function(){1===o.props.bar?o.props.setSVG(o.img.src):o.drawAudioNote(o.img,a,s,e,t,d,l)}},o.drawAudioNote=function(e,t,n,i,r,a,s){var l,c,p,d=o.ctx,m=o.canvasHeight,b=i.getSortedNotesAsc.filter(function(e){return!e.mute});o.props.bar&&(l=o.props.bar-1+":0:0",c=o.props.bar+":0:0",b.filter(function(e){return u.Time(e.time)<u.Time(l)}).reverse().some(function(e){return u.Time(e.time)+u.Time(o.player.buffer.duration)>u.Time(l)&&(p=e,!0)}),b=b.filter(function(e){return u.Time(e.time)>=u.Time(l)&&u.Time(e.time)<u.Time(c)}),p&&b.unshift(p));b.forEach(function(c){var p,f,h=u.Time(i.resolution)*c.offset;if(o.props.bar){var g=u.Time(c.time)-u.Time(l);p=g/u.Time(r)*o.props.windowWidth,f=(g+h)/u.Time(r)*o.props.windowWidth}else p=u.Time(c.time)/u.Time(r)*o.props.windowWidth,f=(u.Time(c.time)+h)/u.Time(r)*o.props.windowWidth;d.fillStyle="#133e83",Vt.ui.editMode&&Vt.ui.views.edit.copiedNotes.find(function(e){return e.id.split("_")[2]===c.id.split("_")[1]})&&(d.fillStyle="#19937a"),(o.props.selectedNote===c||Vt.ui.views.edit.multiNoteSelect&&Vt.ui.views.edit.selectedNotes.find(function(e){return e===c.id}))&&(d.fillStyle="#065ae0"),d.fillRect(p,0,a,m),d.fillStyle="#ffffff",d.fillRect(f,0,1,m);var _=0,y=0,v=t.duration*c.duration/o.props.playbackRate;if(b.some(function(e){if(u.Time(e.time)>u.Time(c.time)&&!e.mute){var t=u.Time(i.resolution)*e.offset;if(y=u.Time(e.time)-u.Time(c.time)-h+t,v>=y)return _=(n-y)/u.Time(r)*o.props.windowWidth,!0}return!1}),v>y&&0!==y){var j=y/n;d.drawImage(e,0,0,e.width*j,m,f,0,s-_,m)}else c.duration<1?(_=(n-v)/u.Time(r)*o.props.windowWidth,d.drawImage(e,0,0,e.width*c.duration,m,f,0,s-_,m)):d.drawImage(e,f,0,s,m);if((o.props.selectedNote===c||Vt.ui.views.edit.multiNoteSelect&&Vt.ui.views.edit.selectedNotes.find(function(e){return e===c.id})||Vt.ui.editMode&&Vt.ui.views.edit.copiedNotes.find(function(e){return e.id.split("_")[2]===c.id.split("_")[1]}))&&(d.fillStyle="#065ae0",Vt.ui.editMode&&Vt.ui.views.edit.copiedNotes.find(function(e){return e.id.split("_")[2]===c.id.split("_")[1]})&&(d.fillStyle="#19937a"),d.globalAlpha=.4,d.fillRect(p,0,a,m),d.globalAlpha=1),Vt.ui.selectedNote&&"Vel"===o.props.track.mixRow.editSelection){d.fillStyle="white",o.props.selectedNote&&c.id===o.props.selectedNote.id&&(d.fillStyle="#19937a");var w=W(c.velocity,-40,0,0,1);d.globalAlpha=.75,d.fillRect(p+1,40-w*m,a-1,w*m),d.globalAlpha=1}})},o.drawGridLines=function(e,t,n,i){var r=parseInt(t.resolution.slice(0,-1),10),a=t.resolution.slice(-1);"t"===a&&(r+=r/2);var s;s=o.props.bar?u.Time("1:0:0")/u.Time(i)*o.props.windowWidth:Vt.getSceneLength(n.id)/u.Time(i)*o.props.windowWidth,e.fillStyle="#12121e",e.fillRect(0,0,s-0,o.canvasHeight);var l=u.Time(i).toBarsBeatsSixteenths();l=parseInt(l.split(":")[0]*r,10)+parseInt(l.split(":")[1]*(r/4),10);var c,p=o.props.windowWidth/l;o.props.bar?c=1*r+":0:0":(c=u.Time(Vt.getSceneLength(n.id))*r,c=u.Time(c).toBarsBeatsSixteenths());var d=parseInt(c.split(":")[0],10)+parseInt(c.split(":")[1],10),m="n"===a?4:3;e.strokeStyle="#133e83",e.lineWidth=1.5,e.beginPath();for(var b=0;b<=d;b++)b%m!==0&&(e.moveTo(b*p+0,0),e.lineTo(b*p+0,o.canvasHeight));e.stroke(),e.lineWidth=3.5,e.beginPath();for(var f=0;f<=d;f+=m)e.moveTo(f*p+0,0),e.lineTo(f*p+0,o.canvasHeight);e.stroke()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;"master"!==this.props.track.type&&("audio"===this.props.track.type?(this.player=ne.instruments.find(function(t){return t.track===e.props.track.id}).obj,this.ensureBufferIsLoaded(this.player.buffer).then(function(){e.init(!0)})):"instrument"===this.props.track.type&&this.init()),document.getElementById("gridContainer").addEventListener("transitionend",this.initRenderWaveform)}},{key:"componentDidUpdate",value:function(e){var t=this;if("master"!==this.props.track.type){if("audio"===this.props.track.type&&(!this.props.bar||1===this.props.bar)&&e.region&&this.props.region&&(e.region.start!==this.props.region.start||e.region.end!==this.props.region.end))return void this.init(!0);if("sequencer"===Vt.ui.viewMode){if(e.selectedPatternRes!==this.props.selectedPatternRes)return void this.init();if(e.selectedPatternNotesLen!==this.props.selectedPatternNotesLen&&Vt.ui.recordMode)return void this.init();if(!Vt.ui.mixMode){if(e.playbackRate!==this.props.playbackRate)return clearTimeout(this.waveRedrawTimeout),this.waveRedrawTimeout=setTimeout(function(){t.init(!0)},1e3),void this.init();if(e.bpm!==this.props.bpm)return void this.init();if(e.songLength!==this.props.songLength)return void this.init();if(e.viewLength!==this.props.viewLength)return;if(e.selectedNote&&this.props.selectedNote&&Object(_.f)(e.selectedNote)&&e.selectedNote.id===this.props.selectedNote.id){if(e.selectedNoteDuration!==this.props.selectedNoteDuration||e.selectedNoteOffset!==this.props.selectedNoteOffset)return void this.init();if(e.selectedNoteValue!==this.props.selectedNoteValue&&e.selectedKey===this.props.selectedKey)return void this.init()}if(e.selectedNote!==this.props.selectedNote){if(!this.props.selectedNote)return this.bSelectedNote=!1,void this.init();if(this.props.selectedNote.getPattern.track.id===this.props.track.id)return this.bSelectedNote=!0,void this.init();if(this.bSelectedNote)return this.bSelectedNote=!1,void this.init()}if(e.selectedKey!==this.props.selectedKey&&this.props.selectedNote&&this.props.selectedNote.getPattern.track.id===this.props.track.id)return void this.init();if(e.selectedPattern!==this.props.selectedPattern){if(Object(_.f)(e.selectedPattern)&&e.selectedPattern.track.id===this.props.track.id)return void this.init();if(this.props.selectedPattern&&this.props.selectedPattern.track.id===this.props.track.id)return void this.init()}if(e.selectedScene!==this.props.selectedScene)return void this.init();if(e.selectedGroup!==this.props.selectedGroup)return void this.init()}}else"audio"===this.props.track.type&&e.playbackRate!==this.props.playbackRate&&(clearTimeout(this.waveRedrawTimeout),this.waveRedrawTimeout=setTimeout(function(){t.init(!0)},1e3)),this.init()}}},{key:"componentWillUnmount",value:function(){k()("#canvas"+this.id).unset(),document.getElementById("gridContainer").removeEventListener("transitionend",this.initRenderWaveform)}},{key:"render",value:function(){var e={display:"block"};("sequencer"===this.props.store.ui.viewMode&&this.props.mixMode||"master"===this.props.track.type)&&(e={display:"none"});var t=null;"edit"!==Vt.ui.viewMode&&"button"!==Vt.ui.viewMode||"master"===this.props.track.type?(this.props.mixMode||"master"===this.props.track.type)&&(t=i.a.createElement(Pn,{store:this.props.store,track:this.props.track,selection:this.props.track.mixRow.mainSelection,viewLength:this.props.viewLength,playbackRate:this.props.playbackRate})):"graph"!==Vt.ui.views.edit.mode&&"button"!==Vt.ui.viewMode||(t=this.props.selectedNote&&this.props.selectedNote.getPattern.track.id===this.props.track.id?i.a.createElement(Hn,{trackId:this.props.track.id,store:this.props.store,track:this.props.track,note:this.props.selectedNote,selection:this.props.track.mixRow.editSelection,viewLength:this.props.viewLength}):i.a.createElement(Pn,{store:this.props.store,track:this.props.track,selection:this.props.track.mixRow.mainSelection,viewLength:this.props.viewLength,playbackRate:this.props.playbackRate}));var o="";this.props.selectedTrack&&"sequencer"===this.props.store.ui.viewMode&&this.props.selectedTrack.id===this.props.track.id&&(o="trackSelected"),this.props.bar?this.id=this.props.track.id+"_"+this.props.bar:this.id=this.props.track.id;var n=null;this.props.bar&&(n=i.a.createElement("div",{className:"progressLine",id:"playhead_"+this.id,style:{display:"none"}}));var r=null;return this.props.bar&&(r=i.a.createElement("label",{className:"lblTrackBar"},this.props.bar)),i.a.createElement("div",{className:"track-row"},n,i.a.createElement("canvas",{id:"canvas"+this.id,className:"canvasTrack "+o,onTouchStart:this.handleMouseDown,onTouchEnd:this.handleMouseUp,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,style:e}),r,t,i.a.createElement("div",{id:"canvasWaveform_"+this.id,className:"divCanvasWaveformContainer"}))}}]),t}(n.Component)),Kn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).handleClick=function(e){var t=parseFloat(document.getElementById("gridContainer").getAttribute("data-x")).toFixed(3);isNaN(t)&&(t=0);var n=(e.pageX+-1*t)/o.props.windowWidth*u.Time(o.props.ui.viewLength);n+=.1,u.Transport.position=u.Time(o.props.selectedScene.start)+u.Time(n)},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.ui.viewLength,t=1;this.props.selectedScene&&("edit"===Vt.ui.viewMode&&"bar"===Vt.ui.views.edit.mode?e=u.Time("1:0:0"):(e=Vt.getSceneLength(this.props.selectedScene.id),t=parseInt(4*u.Time(this.props.selectedScene.start).toBarsBeatsSixteenths().split(":")[0],10),t+=1));var o=u.Time(e).toBarsBeatsSixteenths().split(":"),n=100/(o=parseInt(4*o[0],10)+parseInt(o[1],10));this.eleContainer||(this.eleContainer=document.getElementById("gridContainer"));var r,a=1,s=n;this.eleContainer&&(r=this.eleContainer.style.width.replace("px","")*(.01*n)),r<26&&r>=13?s=100/(o/(a=2)):r<13&&r>=6?s=100/(o/(a=4)):r<6&&(s=100/(o/(a=8)));for(var l=[],c=t;c<=t-1+o;c+=a){var p=-2;c>9&&(p=-5),l.push(i.a.createElement("label",{key:"keyGridTimeline"+c,className:"lblTimeline",style:{left:p+"px",width:s+"%"}},c))}return i.a.createElement("div",{id:"divGridTimeline",onClick:this.handleClick},l.map(function(e,t){return e}))}}]),t}(n.Component)),Xn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).keyDown=function(e){var t,n,i=e.key.toString().toLowerCase();if(["1","2","3","4","5","6","7","8","9","0","-","="].some(function(e,o){return t=o,e===i})?n="A":["q","w","e","r","t","y","u","i","o","p","[","]"].some(function(e,o){return t=o,e===i})?n="B":["a","s","d","f","g","h","j","k","l",";","'"].some(function(e,o){return t=o,e===i})?n="C":["z","x","c","v","b","n","m",",",".","/",",",".","/"].some(function(e,o){return t=o,e===i})?n="D":(t=null,n=null),!isNaN(t)&&n){var r=o.props.store.tracks.filter(function(e){return e.group===n&&"audio"===e.type}),a=r[t];if(r.forEach(function(e){var t=ne.instruments.find(function(t){return t.track===e.id});if(t){var o=t.obj;o&&o.stop()}}),a){var s=ne.instruments.find(function(e){return e.track===a.id});if(s){var l=s.obj;l&&l.start(u.context.currentTime),Vt.ui.selectTrack(a.id)}}}},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){H(),this.props.store.ui.calibrateSizes(),document.addEventListener("keydown",this.keyDown)}},{key:"componentWillUnmount",value:function(){k()(document.querySelector("body")).unset(),k()("#gridContainer").unset(),document.removeEventListener("keydown",this.keyDown)}},{key:"componentDidUpdate",value:function(e,t,o){e.numTracks===this.props.numTracks&&e.windowHeight===this.props.windowHeight||Vt.ui.calibrateSizes(!0)}},{key:"render",value:function(){var e,t=this;e="M"===this.props.selectedGroup?this.props.store.tracks.filter(function(e){return"master"===e.type}):this.props.store.getTracksByGroup(this.props.selectedGroup);var o=Vt.ui.getGridSizes;return i.a.createElement("div",{id:"gridParent",style:{width:o.parent.width,left:o.parent.left}},i.a.createElement("div",{className:"divBody",id:"gridContainer",style:{width:o.container.width,left:o.container.left}},i.a.createElement(Kn,{selectedScene:this.props.store.ui.selectedScene,ui:this.props.store.ui,windowWidth:this.props.store.ui.windowWidth}),i.a.createElement("div",{className:"progressLine",id:"playhead"}),e.map(function(e,o){return i.a.createElement(qn,{key:e.id,keyValue:e.id,store:t.props.store,sample:e.sample,region:e.returnRegion,patterns:t.props.store.getPatternsByTrack(e.id),scenes:t.props.store.getScenesAsc,rowIndex:o,mixMode:t.props.store.ui.mixMode,viewLength:t.props.store.ui.viewLength,songLength:t.props.store.getSongLength(),bpm:t.props.store.settings.bpm,selectedScene:t.props.store.ui.selectedScene,track:e,selectedGroup:t.props.selectedGroup,playbackRate:e.getPlaybackRate,selectedTrack:t.props.store.ui.selectedTrack,selectedNote:t.props.store.ui.selectedNote,selectedNoteValue:t.props.store.ui.getSelectedNoteValue,selectedNoteVelocity:t.props.store.ui.getSelectedNoteVelocity,selectedPattern:t.props.store.ui.selectedPattern,selectedPatternRes:t.props.store.ui.getSelectedPatternProp("resolution",e),selectedPatternNotesLen:t.props.store.ui.getSelectedPatternProp("notes",e),selectedKey:t.props.store.ui.selectedKey,windowWidth:t.props.store.ui.windowWidth})})))}}]),t}(n.Component)),Zn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).noteEdited=function(e){o.forceUpdate()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){if(H(),this.props.store.ui.calibrateSizes(),!Vt.ui.selectedTrack||Vt.ui.selectedTrack.group!==Vt.ui.selectedGroup){var e=Vt.getTracksByGroup(Vt.ui.selectedGroup).sort(function(e,t){return e.groupIndex-t.groupIndex});e.length>0&&Vt.ui.selectTrack(e[0].id)}}},{key:"componentWillUnmount",value:function(){k()(document.querySelector("body")).unset(),k()("#gridContainer").unset()}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){var e=this,t=null,o=this.props.selectedTrack;o&&o.group===this.props.store.ui.selectedGroup&&(t=i.a.createElement(qn,{key:o.id,keyValue:o.id,store:this.props.store,sample:o.sample,region:o.returnRegion,patterns:this.props.store.getPatternsByTrack(o.id),scenes:this.props.store.getScenesAsc,mixMode:this.props.store.ui.mixMode,viewLength:this.props.store.ui.viewLength,songLength:this.props.store.getSongLength(),bpm:this.props.store.settings.bpm,selectedScene:this.props.store.ui.selectedScene,track:o,selectedGroup:this.props.store.ui.selectedGroup,playbackRate:o.getPlaybackRate,selectedTrack:this.props.store.ui.selectedTrack,selectedNote:this.props.store.ui.selectedNote,selectedNoteValue:this.props.store.ui.getSelectedNoteValue,selectedNoteVelocity:this.props.store.ui.getSelectedNoteVelocity,selectedPattern:this.props.store.ui.selectedPattern,selectedPatternRes:this.props.store.ui.getSelectedPatternProp("resolution"),selectedPatternNotes:this.props.store.ui.getSelectedPatternProp("notes"),selectedKey:this.props.store.ui.selectedKey,windowWidth:this.props.store.ui.windowWidth,selectedNoteDuration:this.props.store.ui.getSelectedNoteDuration,selectedNoteOffset:this.props.store.ui.getSelectedNoteOffset}));var n=this.props.store.tracks.filter(function(t){return t.group===e.props.store.ui.selectedGroup&&"master"!==t.type}),r=Vt.ui.getGridSizes;return i.a.createElement("div",{id:"gridParent",style:{width:r.parent.width,left:r.parent.left}},i.a.createElement("div",{className:"divBody",id:"gridContainer",style:{width:r.container.width,left:r.container.left}},i.a.createElement(Kn,{selectedScene:this.props.store.ui.selectedScene,ui:this.props.store.ui,windowWidth:this.props.store.ui.windowWidth}),i.a.createElement("div",{className:"progressLine",id:"playhead"}),t),i.a.createElement("div",{id:"divGridButtonViewBG",style:{width:Vt.ui.windowWidth+"px"}},n.map(function(t,o){return"audio"===t.type?i.a.createElement(Qn,{key:t.id,keyValue:t.id,store:e.props.store,sample:t.sample,region:t.returnRegion,patterns:e.props.store.getPatternsByTrack(t.id),scenes:e.props.store.scenes,rowIndex:o,mixMode:e.props.store.ui.mixMode,viewLength:e.props.store.ui.viewLength,bpm:e.props.store.settings.bpm,editNote:e.noteEdited,selectedTrack:e.props.selectedTrack,editMode:e.props.editMode}):"instrument"===t.type?i.a.createElement(Yn,{key:t.id,keyValue:t.id,store:e.props.store,patterns:e.props.store.getPatternsByTrack(t.id),scenes:e.props.store.scenes,rowIndex:o,mixMode:e.props.store.ui.mixMode,viewLength:e.props.store.ui.viewLength,bpm:e.props.store.settings.bpm,editNote:e.noteEdited,selectedTrack:e.props.selectedTrack,editMode:e.props.editMode}):null})))}}]),t}(n.Component)),Yn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).objs=[],o.noteOn=function(e){ne.trackInstNoteOn(o.props.keyValue,["C3"])},o.noteOff=function(e){ne.trackInstNoteOff(o.props.keyValue,["C3"])},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.track=Vt.getTrack(this.props.keyValue),k()("#divGridButton_"+this.props.keyValue).draggable({onmove:function(e){var t=void 0===e.dx?0:e.dx,o=void 0===e.dy?0:e.dy,n=e.target,i=(parseFloat(n.getAttribute("data-x"))||0)+t,r=(parseFloat(n.getAttribute("data-y"))||0)+o;n.style.webkitTransform=n.style.transform="translate("+i+"px, "+r+"px)",n.setAttribute("data-x",i),n.setAttribute("data-y",r)},restrict:{restriction:"parent",elementRect:{top:0,left:0,bottom:1,right:1}}}).on("down",function(t){if(e.noteOn(t),"started"===u.Transport.state&&e.props.store.ui.recordMode){var o=Vt.getSceneByTime(u.Transport.position);if(o){var n=Vt.getPatternByTrackScene(e.props.keyValue,o.id);if(n){var i=u.Time(u.Transport.position).quantize(n.resolution);i=u.Time(i).toBarsBeatsSixteenths(),n.getNote(i)?n.getNote(i).toggle():n.addNote(i,!1),e.props.editNote()}}}e.props.store.ui.selectedTrack!==e.track&&e.props.store.ui.selectTrack(e.props.keyValue),Vt.ui.selectedPattern?Vt.ui.selectedPattern.track.id!==e.props.keyValue&&Vt.ui.selectPattern(Vt.getPatternByTrackScene(e.props.keyValue,Vt.ui.selectedScene.id).id):Vt.ui.selectPattern(Vt.getPatternByTrackScene(e.props.keyValue,Vt.ui.selectedScene.id).id),t.preventDefault()}).on("up",function(t){e.noteOff(t)}),k()("#divGridButton_"+this.props.keyValue).draggable(this.props.editMode)}},{key:"componentDidUpdate",value:function(e){e.editMode!==this.props.editMode&&k()("#divGridButton_"+this.props.keyValue).draggable(this.props.editMode)}},{key:"componentWillUnmount",value:function(){k()("#divGridButton_"+this.props.keyValue).unset()}},{key:"render",value:function(){var e="divGridButton";return this.props.selectedTrack&&this.props.selectedTrack.id===this.props.keyValue&&(e="divGridButtonSelected"),i.a.createElement("div",{id:"divGridButton_"+this.props.keyValue,className:e,onMouseLeave:this.noteOff,onTouchEnd:this.noteOff},i.a.createElement("canvas",{id:"canvasGridButton_"+this.props.keyValue,className:"canvasGridButtonInst"}),i.a.createElement("ul",{key:"ulGridButton_"+this.props.keyValue,className:"ulGridButton"},i.a.createElement("li",{key:"li_"+this.props.keyValue},i.a.createElement("b",null,i.a.createElement("label",{className:"lblGridButton"},this.props.keyValue))),Vt.instruments.getAllByTrack(this.props.keyValue).map(function(e){return i.a.createElement("li",{key:"li_"+e.id},i.a.createElement("label",{className:"lblGridButton"},E.find(function(t){return t.toLowerCase()===e.id.split("_")[0]})," "))}),Vt.sources.getAllByTrack(this.props.keyValue).map(function(e){return i.a.createElement("li",{key:"li_"+e.id},i.a.createElement("label",{className:"lblGridButton"},E.find(function(t){return t.toLowerCase()===e.id.split("_")[0]})," "))})))}}]),t}(n.Component)),Qn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).animationEnded=function(e){e.target.style.animation="none"},o.drawWave=function(){var e=document.getElementById("divGridButton_"+o.props.keyValue);o.ensureBufferIsLoaded(o.player.buffer).then(function(){k()("#divGridButton_"+o.props.keyValue).fire({type:"dragmove",target:e});var t=document.querySelector("#divGridButton_"+o.props.keyValue+" > canvas");t&&document.querySelector("#divGridButton_"+o.props.keyValue).removeChild(t),K(o.player.buffer.toArray(0),e,75,75)})},o.ensureBufferIsLoaded=function(e){return new Promise(function(t,o){!function o(){if(e.loaded)return t();setTimeout(o,30)}()})},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.track=Vt.getTrack(this.props.keyValue);var t=Vt.instruments.getPlayerByTrack(this.props.keyValue).id;this.player=ne.instruments.find(function(e){return e.id===t}).obj;var o=this.player;this.drawWave();var n=document.getElementById("divGridButton_"+this.props.keyValue);this.divProgress=n.querySelector(".divGridButtonProgress"),this.divProgress.addEventListener("animationend",this.animationEnded),k()("#divGridButton_"+this.props.keyValue).draggable({onmove:function(e){var t=void 0===e.dx?0:e.dx,o=void 0===e.dy?0:e.dy,n=e.target,i=(parseFloat(n.getAttribute("data-x"))||0)+t,r=(parseFloat(n.getAttribute("data-y"))||0)+o;n.style.webkitTransform=n.style.transform="translate("+i+"px, "+r+"px)",n.setAttribute("data-x",i),n.setAttribute("data-y",r)},restrict:{restriction:"parent",elementRect:{top:0,left:0,bottom:1,right:1}}}).on("down",function(t){if(o&&!e.props.editMode&&o.buffer.loaded&&(o.start(u.context.currentTime),n&&e.divProgress)){var i=(new Date).getTime(),r=0,a=(e.tStart-i)/1e3*-1,s=o.buffer.duration/o.playbackRate;a<s&&(r=a/s*100),e.tStart=(new Date).getTime(),"started"===o.state||r>80&&r<99?(e.divProgress.style.animation="none",window.requestAnimationFrame(function(t){window.requestAnimationFrame(function(t){e.divProgress.style.animation="progressWidth "+s+"s linear"})})):e.divProgress.style.animation="progressWidth "+s+"s linear"}if("started"===u.Transport.state&&e.props.store.ui.recordMode){var l=Vt.getSceneByTime(u.Transport.position);if(l){var c=Vt.getPatternByTrackScene(e.track.id,l.id);if(c){var p=u.Time(u.Transport.position).quantize(c.resolution);p=u.Time(p).toBarsBeatsSixteenths(),c.getNote(p)?c.getNote(p).toggle():c.addNote(p,!1),e.props.editNote()}}}e.props.store.ui.selectedTrack!==e.track&&e.props.store.ui.selectTrack(e.props.keyValue),Vt.ui.selectedPattern?Vt.ui.selectedPattern.track.id!==e.props.keyValue&&Vt.ui.selectPattern(Vt.getPatternByTrackScene(e.props.keyValue,Vt.ui.selectedScene.id).id):Vt.ui.selectPattern(Vt.getPatternByTrackScene(e.props.keyValue,Vt.ui.selectedScene.id).id),t.preventDefault()}),k()("#divGridButton_"+this.props.keyValue).draggable(this.props.editMode)}},{key:"componentDidUpdate",value:function(e){e.region&&this.props.region&&(e.region.start===this.props.region.start&&e.region.end===this.props.region.end||this.drawWave()),e.editMode!==this.props.editMode&&k()("#divGridButton_"+this.props.keyValue).draggable(this.props.editMode)}},{key:"componentWillUnmount",value:function(){k()("#divGridButton_"+this.props.keyValue).unset(),this.divProgress.removeEventListener("animationend",this.animationEnded)}},{key:"render",value:function(){var e="divGridButton";return this.props.selectedTrack&&this.props.selectedTrack.id===this.props.keyValue&&(e="divGridButtonSelected"),i.a.createElement("div",{id:"divGridButton_"+this.props.keyValue,className:e},i.a.createElement("div",{className:"divGridButtonProgress"}))}}]),t}(n.Component)),Jn=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).togglePasteButton=function(){document.getElementById("btnMixBar_Paste").disabled=!(o.props.numSelectedBars>0&&o.props.numCopiedBars>0)},o.toggleButtons=function(e){e.forEach(function(e){var t=document.getElementById("btnMixBar_"+e);"Rand"===e&&"audio"===o.props.track.type?t.disabled=!0:t.disabled=!(o.props.numSelectedBars>0)})},o.selectMixButton=function(e){switch(e.preventDefault(),e.target.id.split("_")[1]){case"All":o.props.store.ui.views.edit.selectAllBars();break;case"Copy":o.props.store.ui.views.edit.copySelectedBars();break;case"Paste":o.props.store.ui.views.edit.pasteCopiedBars();break;case"Del":o.props.store.ui.views.edit.deleteSelectedBarNotes();break;case"Rand":o.props.store.ui.views.edit.randomizeSelectedBarNotes()}},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.store.ui.selectPattern(this.props.store.getPatternByTrackScene(this.props.track.id,this.props.selectedScene.id).id),this.togglePasteButton(),this.toggleButtons(["Copy","Del","Rand"])}},{key:"componentDidUpdate",value:function(e){e.selectedScene.id!==this.props.selectedScene.id&&this.props.store.ui.selectPattern(this.props.store.getPatternByTrackScene(this.props.track.id,this.props.selectedScene.id).id),this.togglePasteButton(),this.toggleButtons(["Copy","Del","Rand"])}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"track-rowmix",id:"trackrowmixbars_"+this.props.track.id+"_"+this.props.bar,style:{width:+this.props.store.ui.windowWidth}},i.a.createElement("button",{id:"btnMixBar_All",className:"btn-mix-bars",onClick:this.selectMixButton},"All"),i.a.createElement("button",{id:"btnMixBar_Copy",className:"btn-mix-bars",onClick:this.selectMixButton},"Copy"),i.a.createElement("button",{id:"btnMixBar_Paste",className:"btn-mix-bars",onClick:this.selectMixButton},"Paste"),i.a.createElement("button",{id:"btnMixBar_Del",className:"btn-mix-bars",onClick:this.selectMixButton},"Clr"),i.a.createElement("button",{id:"btnMixBar_Rand",className:"btn-mix-bars",onClick:this.selectMixButton},"Rand"))}}]),t}(n.Component)),$n=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).togglePasteButton=function(){document.getElementById("btnMix_Paste").disabled=1!==o.props.numSelectedNotes},o.toggleButtons=function(e){e.forEach(function(e){var t=document.getElementById("btnMix_"+e);"Rand"===e&&"audio"===o.props.track.type?t.disabled=!0:"Copy"===e?t.disabled=!(o.props.numSelectedNotes>0):"Paste"===e&&(t.disabled=!(o.props.numSelectedNotes>0&&o.props.store.ui.views.edit.copiedNotes.length>0))})},o.selectMixButton=function(e){switch(e.preventDefault(),e.target.id.split("_")[1]){case"All":o.props.store.ui.views.edit.selectAllNotes();break;case"Copy":o.props.store.ui.views.edit.copySelectedNotes();break;case"Paste":o.props.store.ui.views.edit.pasteCopiedNote();break;case"Del":o.props.store.ui.views.edit.clearSelectedNotes();break;case"Rand":o.props.store.ui.views.edit.randomizeSelectedNotes(),o.props.update()}},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.props.store.ui.selectPattern(this.props.store.getPatternByTrackScene(this.props.track.id,this.props.selectedScene.id).id),this.togglePasteButton(),this.toggleButtons(["Copy","Paste","Del","Rand"])}},{key:"componentDidUpdate",value:function(e){e.selectedScene.id!==this.props.selectedScene.id&&this.props.store.ui.selectPattern(this.props.store.getPatternByTrackScene(this.props.track.id,this.props.selectedScene.id).id),this.togglePasteButton(),this.toggleButtons(["Copy","Paste","Del","Rand"])}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"track-rowmix",id:"trackrowmixbars_"+this.props.track.id+"_"+this.props.bar,style:{width:+this.props.store.ui.windowWidth}},i.a.createElement("button",{id:"btnMix_All",className:"btn-mix-bars",onClick:this.selectMixButton},"All"),i.a.createElement("button",{id:"btnMix_Copy",className:"btn-mix-bars",onClick:this.selectMixButton},"Copy"),i.a.createElement("button",{id:"btnMix_Paste",className:"btn-mix-bars",onClick:this.selectMixButton},"Paste"),i.a.createElement("button",{id:"btnMix_Del",className:"btn-mix-bars",onClick:this.selectMixButton},"Clr"),i.a.createElement("button",{id:"btnMix_Rand",className:"btn-mix-bars",onClick:this.selectMixButton},"Rand"))}}]),t}(n.Component)),ei=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e;return e="graph"===this.props.editViewMode?i.a.createElement(oi,{store:this.props.store,track:this.props.track,edit:this.props.edit,windowHeight:this.props.windowHeight,windowWidth:this.props.windowWidth}):i.a.createElement(ti,{store:this.props.store,track:this.props.track,selectedNote:this.props.store.ui.selectedNote,viewLength:this.props.store.ui.viewLength,sceneLength:Vt.getSceneLength(this.props.store.ui.selectedScene.id),editMode:this.props.edit}),i.a.createElement("div",null,e)}}]),t}(n.Component)),ti=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).setSVG=function(e){o.strSVG=e,o.forceUpdate()},o.updateAfterNoteRandomize=function(){o.forceUpdate()},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){H(),Vt.ui.calibrateSizes(!0,!0)}},{key:"componentDidUpdate",value:function(e){e.sceneLength!==this.props.sceneLength&&Vt.ui.calibrateSizes(!0)}},{key:"componentWillUnmount",value:function(){Vt.ui.views.edit.multiNoteSelect&&Vt.ui.views.edit.toggleMultiNoteSelect(),k()(document.querySelector("body")).unset(),k()("#gridContainer").unset()}},{key:"render",value:function(){var e;"edit"===Vt.ui.viewMode&&"bar"===Vt.ui.views.edit.mode&&this.props.editMode?e=Vt.ui.views.edit.multiNoteSelect?i.a.createElement($n,{store:this.props.store,track:this.props.track,selectedScene:Vt.ui.selectedScene,numSelectedNotes:Vt.ui.views.edit.getNumSelectedNotes,update:this.updateAfterNoteRandomize}):i.a.createElement(Jn,{store:this.props.store,track:this.props.track,selectedScene:Vt.ui.selectedScene,numSelectedBars:Vt.ui.views.edit.getNumSelectedBars,numCopiedBars:Vt.ui.views.edit.getNumCopiedBars}):!this.props.selectedNote||Vt.ui.views.edit.multiNoteSelect||Vt.ui.editMode?e=i.a.createElement(Pn,{store:this.props.store,track:this.props.track,selection:this.props.track.mixRow.mainSelection,viewLength:this.props.viewLength}):this.props.selectedNote.getPattern.track.id===this.props.track.id&&(e=i.a.createElement(Hn,{trackId:this.props.track.id,store:this.props.store,track:this.props.track,note:this.props.selectedNote,selection:this.props.track.mixRow.editSelection,viewLength:this.props.viewLength}));var t=0,o=[];Vt.ui.selectedScene&&(t=u.Time(Vt.getSceneLength(this.props.store.ui.selectedScene.id)).toBarsBeatsSixteenths().split(":")[0]);for(var n=this.props.track,r=1;r<=t;r++)o.push(i.a.createElement(qn,{key:n.id+"_"+r,keyValue:n.id,store:this.props.store,sample:n.sample,region:n.returnRegion,patterns:this.props.store.getPatternsByTrack(n.id),scenes:this.props.store.getScenesAsc,mixMode:this.props.store.ui.mixMode,editMode:this.props.store.ui.editMode,viewLength:this.props.store.ui.viewLength,songLength:this.props.store.getSongLength(),bpm:this.props.store.settings.bpm,selectedScene:this.props.store.ui.selectedScene,track:n,selectedGroup:this.props.store.ui.selectedGroup,playbackRate:n.getPlaybackRate,selectedTrack:this.props.store.ui.selectedTrack,selectedNote:this.props.store.ui.selectedNote,selectedNoteValue:this.props.store.ui.getSelectedNoteValue,selectedNoteVelocity:this.props.store.ui.getSelectedNoteVelocity,selectedPattern:this.props.store.ui.selectedPattern,selectedPatternRes:this.props.store.ui.getSelectedPatternProp("resolution"),selectedPatternNotes:this.props.store.ui.getSelectedPatternProp("notes"),selectedKey:this.props.store.ui.selectedKey,windowWidth:this.props.store.ui.windowWidth,bar:r,selectedNoteDuration:this.props.store.ui.getSelectedNoteDuration,selectedNoteOffset:this.props.store.ui.getSelectedNoteOffset,strSVG:this.strSVG,setSVG:this.setSVG,selectedBars:this.props.store.ui.views.edit.selectedBars,numSelectedBars:this.props.store.ui.views.edit.getNumSelectedBars,numCopiedBars:this.props.store.ui.views.edit.getNumCopiedBars,numSelectedNotes:this.props.store.ui.views.edit.selectedNotes.length,numCopiedNotes:this.props.store.ui.views.edit.copiedNotes.length}));var a=Vt.ui.getGridSizes;return i.a.createElement("div",{style:{top:"40px",position:"relative"}},e,i.a.createElement("div",{id:"gridParent",style:{width:a.parent.width,left:a.parent.left}},i.a.createElement("div",{className:"divBody",id:"gridContainer",style:{width:a.container.width,left:a.container.left}},i.a.createElement(Kn,{selectedScene:this.props.store.ui.selectedScene,ui:this.props.store.ui,windowWidth:this.props.store.ui.windowWidth}),o.map(function(e){return e}))))}}]),t}(n.Component)),oi=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).objSize={width:.07*o.props.windowWidth,height:.1*(o.props.windowHeight-150-80)},o.toggleDeleteButtons=function(){if(o.props.edit)for(var e=document.getElementsByClassName("btnEditViewDelete"),t=0;t<e.length;t++)e[t].style.display="none";else for(var n=document.getElementsByClassName("btnEditViewDelete"),i=0;i<n.length;i++)n[i].style.display="block"},o.mouseUp=function(e){if(!o.props.edit&&o.drawingLine&&o.mousePosX&&o.mousePosY){var t=document.elementFromPoint(o.mousePosX,o.mousePosY);t&&t.id&&o.activateObj(t.id,"up")}o.drawingLine=!1,document.getElementById("canvasLineBG")&&document.getElementById("canvasLineBG").remove(),Vt.getObjsByTrackObj(o.props.track).forEach(function(e){var t=document.getElementById(e.id);t&&(t.classList.contains("divEditViewObjEnabled")&&t.classList.remove("divEditViewObjEnabled"),t.classList.contains("divEditViewObjHover")&&t.classList.remove("divEditViewObjHover"))})},o.mouseDown=function(e){o.mousePosX=e.pageX,o.mousePosY=e.pageY},o.touchStart=function(e){o.mousePosX=e.touches[0].pageX,o.mousePosY=e.touches[0].pageY},o.mouseMove=function(e){if(o.drawingLine&&(o.mousePosX=e.pageX,o.mousePosY=e.pageY,o.drawConnection(),o.hoverObj)){var t=document.elementFromPoint(o.mousePosX,o.mousePosY);t&&o.activateObj(t.id,"over")}},o.touchMove=function(e){e.preventDefault(),o.drawingLine&&(o.mousePosX=e.touches[0].pageX,o.mousePosY=e.touches[0].pageY,o.drawConnection())},o.activateObj=function(e,t){if((e=(e=e.replace("canvas_","")).replace("label_",""))&&"down"===t)o.drawingLine=!0,o.activeObj=e,Vt.getObjsByTrackObj(o.props.track).filter(function(t){return"mix"!==t.id.split("_")[0]&&t.id!==e}).forEach(function(t){var n=Vt.getObjTypeByIdTrack(e,o.props.track.id);(("effect"===n||"component"===n)&&"tinysynth"!==t.id.split("_")[0]&&"lfo"!==t.id.split("_")[0]||"lfo"===e.split("_")[0]&&"lfo"===t.id.split("_")[0])&&(Vt.getConnectionsByObjId(o.activeObj).find(function(e){return e.src===o.activeObj&&e.dest===t.id})&&"lfo"!==e.split("_")[0]||document.getElementById(t.id).classList.add("divEditViewObjEnabled"))});else if(e!==o.activeObj&&"up"===t&&Vt.getObjsByTrackObj(o.props.track).find(function(t){return t.id===e})){var n=Vt.getObjTypeByIdTrack(o.activeObj,o.props.track.id),i=Vt.getObjTypeByIdTrack(e,o.props.track.id);if(("effect"===i||"component"===i)&&"tinysynth"!==e.split("_")[0]&&"lfo"!==e.split("_")[0]||"lfo"===o.activeObj.split("_")[0]&&("effect"===i||"component"===i||"instrument"===i||"source"===i))if("lfo"===o.activeObj.split("_")[0])o.objDest=Vt.getObjsByTrackObj(o.props.track).find(function(t){return t.id===e}),o.randId=oe(),o.forceUpdate();else if(!Vt.getConnectionsByObjId(o.activeObj).find(function(t){return t.src===o.activeObj&&t.dest===e})){var r="connection_"+oe();Vt.addConnection(r,o.props.track.id,o.activeObj,e,n,i)}}else if("over"===t&&e!==o.hoverObj&&e!==o.activeObj&&o.drawingLine){var a=document.getElementById(e);if(a){var s=Vt.getObjTypeByIdTrack(e,o.props.track.id);if(("effect"!==s&&"component"!==s||"tinysynth"===e.split("_")[0]||"lfo"===e.split("_")[0]||Vt.getConnectionsByObjId(o.activeObj).find(function(t){return t.src===o.activeObj&&t.dest===e}))&&("lfo"!==o.activeObj.split("_")[0]||"effect"!==s&&"component"!==s&&"instrument"!==s&&"source"!==s)){var l=document.getElementById(o.hoverObj);l&&l.classList.contains("divEditViewObjHover")&&l.classList.remove("divEditViewObjHover"),o.hoverObj=void 0}else{var c=document.getElementById(o.hoverObj);c&&c.classList.contains("divEditViewObjHover")&&c.classList.remove("divEditViewObjHover"),a.classList.contains("divEditViewObjHover")||document.getElementById(e).classList.add("divEditViewObjHover"),o.hoverObj=e}}}},o.drawConnection=function(e){var t,n,i,r,a,s,l,c,p,d,m,u,b,f,h;if(e?(t=document.getElementById(e.src),n=document.getElementById(e.dest),i=document.getElementById(e.id),(h=document.getElementById("delete_"+e.id))||((h=document.createElement("button")).setAttribute("id","delete_"+e.id),h.setAttribute("class","btnEditViewDelete"),h.innerHTML="lfo"===e.src.split("_")[0]?"i":"X",h.onclick=o.btnDeleteConnection,document.getElementById("divEditViewBG").appendChild(h)),a=o.objSize.width/2,s=o.objSize.height/2,l=parseFloat(t.getAttribute("data-x"))||0,c=parseFloat(n.getAttribute("data-x"))||0,p=parseFloat(t.getAttribute("data-y"))||0,d=parseFloat(n.getAttribute("data-y"))||0):(t=document.getElementById(o.activeObj),(i=document.getElementById("canvasLineBG"))||((i=document.createElement("canvas")).setAttribute("id","canvasLineBG"),i.setAttribute("style","position:absolute; top:30%; left:45%; z-index:2;"),document.getElementById("divEditViewBG").appendChild(i)),a=0,s=0,l=(parseFloat(t.getAttribute("data-x"))||0)+o.objSize.width/2,p=(parseFloat(t.getAttribute("data-y"))||0)+o.objSize.height/2,c=o.mousePosX-.45*Vt.ui.windowWidth,d=o.mousePosY-.3*(Vt.ui.windowHeight-150-80)-150),l=Math.round(l),c=Math.round(c),p=Math.round(p),d=Math.round(d),l>c?(i.style.width=l-c+"px",p>d?(i.style.height=p-d+"px",i.style.webkitTransform=i.style.transform="translate("+(c+a)+"px, "+(d+s)+"px)",b=parseInt(i.style.height.replace("px",""),10),f=0):p<=d&&(i.style.height=d-p+"px",i.style.webkitTransform=i.style.transform="translate("+(c+a)+"px, "+(p+s)+"px)",b=0,f=parseInt(i.style.height.replace("px",""),10)),m=parseInt(i.style.width.replace("px",""),10),u=0):l<c&&(i.style.width=c-l+"px",p>d?(i.style.height=p-d+"px",i.style.webkitTransform=i.style.transform="translate("+(l+a)+"px, "+(d+s)+"px)",b=parseInt(i.style.height.replace("px",""),10),f=0):p<=d&&(i.style.height=d-p+"px",i.style.webkitTransform=i.style.transform="translate("+(l+a)+"px, "+(p+s)+"px)",b=0,f=parseInt(i.style.height.replace("px",""),10)),m=0,u=parseInt(i.style.width.replace("px",""),10)),l===c||p===d?(i.style.backgroundColor="white",p===d&&(i.style.height="1px"),l===c&&(i.style.width="1px")):"white"===i.style.backgroundColor&&(i.style.backgroundColor="transparent"),e&&!o.props.edit){var g=i.style.transform.replace("translate(","");(g=(g=(g=(g=(g=g.replace(")","")).trim()).replace("px","")).replace("px","")).split(","))[0]&&(g[0]=g[0].replace("px","")),g[1]&&(g[1]=g[1].replace("px",""));var _=i.style.width.replace("px","")/2-13,y=i.style.height.replace("px","")/2-13;h.style.webkitTransform=h.style.transform="translate("+(parseInt(g[0],10)+_)+"px, "+(parseInt(g[1],10)+y)+"px)"}if(i&&!isNaN(m)&&!isNaN(b)&&!isNaN(u)&&!isNaN(f)){(r=i.getContext("2d")).canvas.width=i.style.width.replace("px",""),r.canvas.height=i.style.height.replace("px",""),r.clearRect(0,0,i.width,i.height);var v=r.createLinearGradient(m,b,u,f);v.addColorStop(0,"white"),v.addColorStop(1,"#202020"),r.strokeStyle=v,r.lineWidth=1.5,r.beginPath(),r.moveTo(m,b),r.lineTo(u,f),r.stroke()}},o.btnDeleteConnection=function(e){var t=e.target.id.replace("delete_",""),n=Vt.getConnection(t);n&&(n.signal?(o.activeObj=n.src,o.objDest=Vt.getObjsByTrackObj(o.props.track).find(function(e){return e.id===n.dest}),o.randId=oe(),o.forceUpdate()):Vt.delConnection(t))},o.refreshConnections=function(){Vt.getConnectionsByTrack(o.props.track.id).filter(function(e){return"master"!==e.src&&"master"!==e.dest&&"mix"!==e.src.split("_")[0]&&"mix"!==e.dest.split("_")[0]&&"panvol_master"!==e.dest}).forEach(function(e){o.drawConnection(e)})},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){H(),this.drawingLine=!1,document.addEventListener("mouseup",this.mouseUp),document.addEventListener("touchend",this.mouseUp),document.addEventListener("mousedown",this.mouseDown),document.addEventListener("touchstart",this.touchStart),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("touchmove",this.touchMove),Vt.ui.editMode||Vt.ui.toggleEditMode(),this.objSize.width=.07*this.props.windowWidth,this.objSize.height=.1*(this.props.windowHeight-150-80),this.refreshConnections(),this.toggleDeleteButtons()}},{key:"componentDidUpdate",value:function(e){e.windowHeight===this.props.windowHeight&&e.windowWidth===this.props.windowWidth||(this.objSize.width=.07*this.props.windowWidth,this.objSize.height=.1*(this.props.windowHeight-150-80),document.querySelectorAll("#divEditViewBG > div").forEach(function(e){k()("#"+e.id).fire({type:"dragmove",target:e})})),this.refreshConnections(),this.toggleDeleteButtons()}},{key:"componentWillUnmount",value:function(){k()(document.querySelector("body")).unset(),k()("#gridContainer").unset(),document.removeEventListener("mouseup",this.mouseUp),document.removeEventListener("touchend",this.mouseUp),document.removeEventListener("mousemove",this.mouseMove),document.removeEventListener("touchmove",this.touchMove),document.removeEventListener("mousedown",this.mouseDown),document.removeEventListener("touchstart",this.touchStart)}},{key:"render",value:function(){var e,t,o=this,n=null;if(this.props.track){var r=this.props.track;n=i.a.createElement(qn,{key:r.id,keyValue:r.id,store:this.props.store,sample:r.sample,region:r.returnRegion,patterns:this.props.store.getPatternsByTrack(r.id),scenes:this.props.store.getScenesAsc,mixMode:this.props.store.ui.mixMode,viewLength:this.props.store.ui.viewLength,songLength:this.props.store.getSongLength(),bpm:this.props.store.settings.bpm,selectedScene:this.props.store.ui.selectedScene,track:r,selectedGroup:this.props.store.ui.selectedGroup,playbackRate:r.getPlaybackRate,selectedTrack:this.props.store.ui.selectedTrack,selectedNote:this.props.store.ui.selectedNote,selectedNoteValue:this.props.store.ui.getSelectedNoteValue,selectedNoteVelocity:this.props.store.ui.getSelectedNoteVelocity,selectedPattern:this.props.store.ui.selectedPattern,selectedPatternRes:this.props.store.ui.getSelectedPatternProp("resolution"),selectedPatternNotes:this.props.store.ui.getSelectedPatternProp("notes"),selectedKey:this.props.store.ui.selectedKey,windowWidth:this.props.store.ui.windowWidth,selectedNoteDuration:this.props.store.ui.getSelectedNoteDuration,selectedNoteOffset:this.props.store.ui.getSelectedNoteOffset})}"master"!==this.props.track.type&&(e=i.a.createElement(Kn,{selectedScene:this.props.store.ui.selectedScene,ui:this.props.store.ui,windowWidth:this.props.store.ui.windowWidth}),t=i.a.createElement("div",{className:"progressLine",id:"playhead"}));var a=this.props.edit?"":"cursorCrosshair",s="master"===this.props.track.type?" divEditViewBGMasterTop":"",l=Vt.ui.getGridSizes;return i.a.createElement("div",{id:"gridParent",style:{width:l.parent.width,left:l.parent.left}},i.a.createElement("div",{className:"divBody",id:"gridContainer",style:{width:l.container.width,left:l.container.left}},e,t,n),i.a.createElement("div",{id:"divEditViewBG",className:a+s,style:{width:Vt.ui.windowWidth+"px"}},Vt.instruments.getAllByTrack(this.props.track.id).filter(function(e){return"mix"!==e.id.split("_")[0]&&"tinysynth"!==e.id.split("_")[0]}).map(function(e,t){return i.a.createElement(ii,{key:e.id,index:t,obj:e,edit:o.props.edit,active:o.activateObj,drawConnection:o.drawConnection,selectedObj:o.props.store.ui.selectedObj})}),Vt.components.getAllByTrack(this.props.track.id).filter(function(e){return"mix"!==e.id.split("_")[0]}).map(function(e,t){return i.a.createElement(ii,{key:e.id,index:t,obj:e,edit:o.props.edit,active:o.activateObj,drawConnection:o.drawConnection,selectedObj:o.props.store.ui.selectedObj})}),Vt.effects.getAllByTrack(this.props.track.id).filter(function(e){return"mix"!==e.id.split("_")[0]}).map(function(e,t){return i.a.createElement(ii,{key:e.id,index:t,obj:e,edit:o.props.edit,active:o.activateObj,drawConnection:o.drawConnection,selectedObj:o.props.store.ui.selectedObj})}),Vt.sources.getAllByTrack(this.props.track.id).filter(function(e){return"mix"!==e.id.split("_")[0]}).map(function(e,t){return i.a.createElement(ii,{key:e.id,index:t,obj:e,edit:o.props.edit,active:o.activateObj,drawConnection:o.drawConnection,selectedObj:o.props.store.ui.selectedObj})}),Vt.getConnectionsByTrack(this.props.track.id).filter(function(e){return"master"!==e.src&&"master"!==e.dest&&"mix"!==e.src.split("_")[0]&&"mix"!==e.dest.split("_")[0]&&"panvol_master"!==e.dest}).map(function(e,t){return i.a.createElement(ni,{key:e.id,index:t,connection:e})}),i.a.createElement(ri,{randId:this.randId,objDest:this.objDest,objSrcId:this.activeObj})))}}]),t}(n.Component)),ni=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.connId=this.props.connection.id}},{key:"componentWillUnmount",value:function(){document.getElementById("delete_"+this.connId).remove()}},{key:"render",value:function(){return i.a.createElement("canvas",{id:this.props.connection.id,style:{position:"absolute",top:"30%",left:"45%",zIndex:2}})}}]),t}(n.Component)),ii=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).applyObjCoords=function(){var e=document.getElementById(o.props.obj.id),t=o.props.obj.ui.x,n=o.props.obj.ui.y,i=0,r=0;n<=0?r=e.offsetTop*(-1*n)/100-e.offsetTop:n>0&&(r=n*(document.getElementById("divEditViewBG").offsetHeight-e.offsetTop-e.offsetHeight)/100),t<0?i=t*(Vt.ui.windowWidth/2)/100+e.offsetWidth/2:t>=0&&(i=t*(Vt.ui.windowWidth/2)/100),e.style.webkitTransform=e.style.transform="translate("+i+"px, "+r+"px)",e.setAttribute("data-x",i),e.setAttribute("data-y",r)},o.setInteract=function(){var e=Object(Ut.a)(Object(Ut.a)(o));k()("#"+o.props.obj.id).draggable({onmove:e.dragObj,onend:e.dragEnd,restrict:{restriction:"parent",elementRect:{top:0,left:0,bottom:1,right:1}}}).on("down",function(t){e.props.edit?(Vt.ui.selectObj(e.props.obj.id),t.preventDefault()):(Vt.ui.selectObj(e.props.obj.id),"panvol"===e.props.obj.id.split("_")[0]?["master","A","B","C","D"].some(function(t){return e.props.obj.id==="panvol_"+t&&(e.props.active(e.props.obj.id,"down"),!0)}):e.props.active(e.props.obj.id,"down"))}).on("move",function(t){e.props.edit||e.props.active(t.target.id,"over")}),k()("#"+o.props.obj.id).styleCursor(o.props.edit)},o.dragObj=function(e){var t=Object(Ut.a)(Object(Ut.a)(o)),n=e.target;o.x=(parseFloat(n.getAttribute("data-x"))||0)+e.dx,o.y=(parseFloat(n.getAttribute("data-y"))||0)+e.dy,isNaN(o.x)||isNaN(o.y)?o.applyObjCoords():o.props.edit&&(n.style.webkitTransform=n.style.transform="translate("+o.x+"px, "+o.y+"px)",n.setAttribute("data-x",o.x),n.setAttribute("data-y",o.y),Vt.getConnectionsByObjId(t.props.obj.id).filter(function(e){return"master"!==e.src&&"master"!==e.dest&&"mix"!==e.src.split("_")[0]&&"mix"!==e.dest.split("_")[0]&&"panvol_master"!==e.dest}).forEach(function(e){t.props.drawConnection(e)}))},o.dragEnd=function(e){if(o.props.edit){var t=e.target,n=0,i=0;o.y<0?i=(t.offsetTop-Math.round(-1*o.y))/t.offsetTop*-100:o.y>=0&&(i=Math.round(o.y)/(document.getElementById("divEditViewBG").offsetHeight-t.offsetTop-t.offsetHeight)*100),o.x<0?n=(Math.round(o.x)-t.offsetWidth/2)/(Vt.ui.windowWidth/2)*100:o.x>=0&&(n=Math.round(o.x)/(Vt.ui.windowWidth/2)*100),o.props.obj.ui.setCoords(n,i)}},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.setInteract(),this.applyObjCoords()}},{key:"componentWillUnmount",value:function(){k.a.isSet("#"+this.props.obj.id)&&k()("#"+this.props.obj.id).unset()}},{key:"componentDidUpdate",value:function(e,t,o){e.edit!==this.props.edit&&k()("#"+this.props.obj.id).styleCursor(this.props.edit)}},{key:"render",value:function(){var e="divEditViewObj";this.props.selectedObj===this.props.obj.id&&(e="divEditViewObjSelected"),this.props.edit||(e+=" cursorCrosshair");var t=this.props.obj.id.split("_")[0];return Vt.ui.selectedTrack&&"master"===Vt.ui.selectedTrack.type&&"panvol"===t&&(t=this.props.obj.id.split("_")[1],this.props.obj.id.split("_")[2]&&(t="out")),i.a.createElement("div",{id:this.props.obj.id,className:e},i.a.createElement("canvas",{id:"canvas_"+this.props.obj.id,className:"canvasEditViewObj"}),i.a.createElement("label",{id:"label_"+this.props.obj.id,className:"labelEditViewObj"},t))}}]),t}(n.Component)),ri=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).rowClick=function(e){var t=e.target.parentNode,n=t.children[1].innerText,i=Vt.getConnectionsByObjId(o.props.objDest.id).find(function(e){return e.dest===o.props.objDest.id&&e.signal===n});if(i)Vt.delConnection(i.id),t.children[0].innerHTML="";else{var r=Vt.getObjTypeByIdTrack(o.props.objDest.id,Vt.ui.selectedTrack.id);Vt.addConnection("connection_"+oe(),Vt.ui.selectedTrack.id,o.props.objSrcId,o.props.objDest.id,"component",r,n),t.children[0].innerHTML='<i class="material-icons" style="pointer-events:none">check_circle</i>'}},o.setTableRow=function(e,t){var n=e.insertRow(0);n.onclick=o.rowClick;var i=n.insertCell(0);i.style.width="20%",Vt.getConnectionsByObjId(o.props.objDest.id).find(function(e){return e.dest===o.props.objDest.id&&e.signal===t})?i.innerHTML='<i class="material-icons" style="pointer-events:none">check_circle</i>':i.innerHTML="";var r=n.insertCell(1);r.innerHTML=t,r.style.width="80%"},o.toggleWindow=function(){var e=document.getElementById("modal_LFO");e.style.display&&"none"!==e.style.display?e.style.display="none":e.style.display="block"},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;document.getElementById("modal_LFO_close").onclick=function(){return e.toggleWindow()}}},{key:"componentDidUpdate",value:function(e){var t=this;if("lfo"===this.props.objSrcId.split("_")[0]&&e.randId!==this.props.randId){this.toggleWindow();for(var o=document.getElementById("tableConnections");o.hasChildNodes();)o.removeChild(o.firstChild);var n=Vt.getObjTypeByIdTrack(this.props.objDest.id,Vt.ui.selectedTrack.id),i=this.props.objDest.id.split("_")[0],r=ne[n+"s"].find(function(e){return e.id===t.props.objDest.id}).obj;Object.keys(this.props.objDest).filter(function(e){return"id"!==e&&"track"!==e&&"ui"!==e&&"volume"!==e}).forEach(function(e){var a=r[e];"instrument"===n&&"player"!==i&&"noisesynth"!==i&&"plucksynth"!==i&&"membranesynth"!==i&&"metalsynth"!==i&&"tinysynth"!==i&&(a=r.voices[0][Object.keys(r.get(e))[0]]),a&&("Signal"!==a.toString()&&"Multiply"!==a.toString()&&"AudioParam"!==a.constructor.name||t.setTableRow(o,e))})}}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this.props.objDest?this.props.objDest.id.split("_")[0]:"";return e&&(e=E.find(function(t){return t.toLowerCase()===e.toLowerCase()})),i.a.createElement("div",{id:"modal_LFO",className:"modal",style:{position:"absolute"}},i.a.createElement("div",{id:"modal_LFO_content",className:"modal-content",style:{width:"300px"}},i.a.createElement("div",{style:{width:"100%"}},i.a.createElement("label",{className:"modal-title"},e),i.a.createElement("span",{id:"modal_LFO_close",className:"modalClose"},"\xd7")),i.a.createElement("table",{id:"tableConnections"},i.a.createElement("thead",null),i.a.createElement("tbody",null))))}}]),t}(n.Component)),ai=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).selectMixButton=function(e){e.preventDefault();var t=Vt.ui.selectedScene;switch(e.target.id.split("_")[1]){case"New":if(o.props.copySceneMode)Vt.duplicateScene(o.props.selectedScene.id);else{var n=Vt.getSongLength(),i=u.Time(n)+u.Time("1:0:0");Vt.addScene("scene_"+oe(),u.Time(n).toBarsBeatsSixteenths(),u.Time(i).toBarsBeatsSixteenths())}break;case"Dup":Vt.ui.views.manager.toggleCopySceneMode();break;case"LenAdd":if(o.props.copySceneMode){if(Vt.getSceneLength(t.id)<=u.Time("32:0:0")){Vt.shiftSceneTimes(t.end,u.Time(Vt.getSceneLength(o.props.selectedScene.id)),"add");var r=u.Time(Vt.getSceneLength(o.props.selectedScene.id)).toBarsBeatsSixteenths().split(":")[0]/2;["A","B","C","D"].forEach(function(e){Vt.getPatternsBySceneGroup(o.props.selectedScene.id,e).forEach(function(e){for(var t=1;t<=r;t++){var o=r+t;e.pasteNotesToBar(e.getNotesByBar(t),o)}})})}}else Vt.getSceneLength(t.id)<u.Time("64:0:0")&&Vt.shiftSceneTimes(t.end,u.Time("1:0:0"),"add");break;case"LenSub":Vt.getSceneLength(t.id)>u.Time("1:0:0")&&Vt.shiftSceneTimes(t.end,u.Time("1:0:0"),"sub");break;case"Up":"0:0:0"!==t.start&&Vt.swapScenes(Vt.getPrevScene(t.id).id,t.id);break;case"Down":t.end!==u.Time(Vt.getSongLength()).toBarsBeatsSixteenths()&&Vt.swapScenes(t.id,Vt.getSceneByTime(t.end).id);break;case"Del":Vt.delScene(t.id)}},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"track-rowmix",id:"trackrowmixmanagerscene",style:{width:+this.props.store.ui.windowWidth}},i.a.createElement("button",{id:"btnMixBar_Dup",className:"btn-mix-scene "+(this.props.copySceneMode?" itemSelected":""),onClick:this.selectMixButton},i.a.createElement("i",{className:"material-icons i-btn-mix-scene"},"file_copy")),i.a.createElement("button",{id:"btnMixBar_New",className:"btn-mix-scene",onClick:this.selectMixButton},i.a.createElement("i",{className:"material-icons i-btn-mix-scene"},"fiber_new")),i.a.createElement("button",{id:"btnMixBar_LenAdd",className:"btn-mix-scene",onClick:this.selectMixButton},i.a.createElement("i",{className:"material-icons i-btn-mix-scene"},"add")),i.a.createElement("button",{id:"btnMixBar_LenSub",className:"btn-mix-scene",onClick:this.selectMixButton,disabled:!!this.props.copySceneMode},i.a.createElement("i",{className:"material-icons i-btn-mix-scene"},"remove")),i.a.createElement("button",{id:"btnMixBar_Up",className:"btn-mix-scene",onClick:this.selectMixButton,disabled:!!this.props.copySceneMode},i.a.createElement("i",{className:"material-icons i-btn-mix-scene"},"arrow_back")),i.a.createElement("button",{id:"btnMixBar_Down",className:"btn-mix-scene",onClick:this.selectMixButton,disabled:!!this.props.copySceneMode},i.a.createElement("i",{className:"material-icons i-btn-mix-scene"},"arrow_forward")),i.a.createElement("button",{id:"btnMixBar_Del",className:"btn-mix-scene",onClick:this.selectMixButton,disabled:!!this.props.copySceneMode},i.a.createElement("i",{className:"material-icons i-btn-mix-scene red"},"delete")))}}]),t}(n.Component)),si=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).selectMixButton=function(e){e.preventDefault();var t=o.props.selectedTrack;if(t)switch(e.target.id.split("_")[1]){case"Dup":Vt.duplicateTrack(t.id);break;case"Group":t.toggleGroup();break;case"Up":t.moveTrackUp();break;case"Down":t.moveTrackDown();break;case"Clear":t.delNotes();break;case"Del":Vt.delTrack(t.id)}},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){return i.a.createElement("div",{className:"track-rowmix",id:"trackrowmixmanagertrack",style:{width:+this.props.store.ui.windowWidth}},i.a.createElement("button",{id:"btnMixBar_Dup",className:"btn-mix-track",onClick:this.selectMixButton},i.a.createElement("i",{className:"material-icons i-btn-mix-scene"},"file_copy")),i.a.createElement("button",{id:"btnMixBar_Group",className:"btn-mix-track",onClick:this.selectMixButton},this.props.selectedTrack?this.props.selectedTrack.group:"N/A"),i.a.createElement("button",{id:"btnMixBar_Up",className:"btn-mix-track",onClick:this.selectMixButton},i.a.createElement("i",{className:"material-icons i-btn-mix-scene"},"arrow_upward")),i.a.createElement("button",{id:"btnMixBar_Down",className:"btn-mix-track",onClick:this.selectMixButton},i.a.createElement("i",{className:"material-icons i-btn-mix-scene"},"arrow_downward")),i.a.createElement("button",{id:"btnMixBar_Clear",className:"btn-mix-track",onClick:this.selectMixButton},"Clr"),i.a.createElement("button",{id:"btnMixBar_Del",className:"btn-mix-track",onClick:this.selectMixButton},i.a.createElement("i",{className:"material-icons i-btn-mix-scene red"},"delete")))}}]),t}(n.Component)),li=Object(m.a)(function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e;return"scene"===this.props.managerMode?e=i.a.createElement(pi,{store:this.props.store,selectedScene:this.props.store.ui.selectedScene,windowHeight:this.props.store.ui.windowHeight}):"track"===this.props.managerMode&&(e=Vt.getNumTracks>0?i.a.createElement(ci,{store:this.props.store,selectedTrack:this.props.store.ui.selectedTrack,windowHeight:this.props.store.ui.windowHeight}):i.a.createElement("label",{className:"labelCenter"},"No Tracks")),i.a.createElement("div",{style:{width:"100%",height:Vt.ui.windowHeight-80+"px",display:"table",backgroundColor:"rgba(0,0,0,0.9)"}},e)}}]),t}(n.Component)),ci=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).rowClick=function(e){if(e.target.parentNode&&e.target.parentNode.cells){var t=e.target.parentNode.cells[1].innerHTML;if(t){var o=Vt.getTrack(t);o&&Vt.ui.selectTrack(o.id)}}},o.muteTrack=function(e){var t=Vt.getTrack(e);t.mute?(t.toggleMute(!1),o.setTrackMuteButton(t.id,!1)):(t.toggleMute(!0),o.setTrackMuteButton(t.id,!0))},o.setTrackMuteButton=function(e,t){var o=document.getElementById("table_row_"+e+"_btn_mute");t?o.classList.contains("bgColorOn")||o.classList.add("bgColorOn"):o.classList.contains("bgColorOn")&&o.classList.remove("bgColorOn")},o.editTrack=function(e){Vt.ui.selectTrack(e),Vt.ui.toggleViewMode("edit")},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;["A","B","C","D"].forEach(function(t){Vt.getTracksByGroup(t).forEach(function(t){e.setTrackMuteButton(t.id,t.mute)})})}},{key:"componentDidUpdate",value:function(e){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.selectedTrack?this.props.selectedTrack.id:void 0;return i.a.createElement("div",{id:"divManager"},i.a.createElement(si,{store:this.props.store,selectedTrack:this.props.selectedTrack}),i.a.createElement("div",{id:"divManagerTable",style:{height:this.props.windowHeight-160+"px",overflowY:"scroll"}},i.a.createElement("table",{id:"tableManager"},i.a.createElement("thead",null,i.a.createElement("tr",null,["edit","track","type","grp","notes","mute"].map(function(e){return i.a.createElement("th",{key:"table_track_col_"+e},e)}))),i.a.createElement("tbody",null,["A","B","C","D"].map(function(o){return Vt.getTracksByGroup(o).map(function(o){return i.a.createElement("tr",{key:"table_row_"+o.id,onClick:e.rowClick,style:{backgroundColor:t===o.id?"blue":"transparent"}},i.a.createElement("td",null,i.a.createElement("button",{id:"table_row_"+o.id+"_btn_edit",className:"managerTableColButton",onClick:function(){return e.editTrack(o.id)}},"Edt")),i.a.createElement("td",null,o.id),i.a.createElement("td",null,o.type.substr(0,5)),i.a.createElement("td",null,o.group),i.a.createElement("td",null,Vt.getNotesByTrack(o.id).length),i.a.createElement("td",null,i.a.createElement("button",{id:"table_row_"+o.id+"_btn_mute",className:"managerTableColButton",onClick:function(){return e.muteTrack(o.id)}},"M")))})}))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null)))}}]),t}(n.Component)),pi=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).rowClick=function(e){if(e.target.parentNode&&e.target.parentNode.cells){var t=e.target.parentNode.cells[0].innerHTML;if(t){var o=Vt.getScene(t);o&&Vt.ui.selectScene(o.id)}}},o.muteSceneGroup=function(e,t){var n=Vt.getScene(e);n.isGroupMuted(t)?(n.setGroupMute(t,!1),o.setGroupMuteButton(n.id,t,!1)):(n.setGroupMute(t,!0),o.setGroupMuteButton(n.id,t,!0))},o.setGroupMuteButton=function(e,t,o){var n=document.getElementById("table_row_"+e+"_btn_"+t);o?n.classList.contains("bgColorOn")||n.classList.add("bgColorOn"):n.classList.contains("bgColorOn")&&n.classList.remove("bgColorOn")},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;Vt.getScenesAsc.forEach(function(t){["A","B","C","D"].forEach(function(o){e.setGroupMuteButton(t.id,o,t.isGroupMuted(o))})})}},{key:"componentDidUpdate",value:function(e){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"divManager"},i.a.createElement(ai,{store:this.props.store,selectedScene:this.props.selectedScene,copySceneMode:Vt.ui.views.manager.copySceneMode}),i.a.createElement("div",{id:"divManagerTable",style:{height:this.props.windowHeight-160+"px",overflowY:"scroll"}},i.a.createElement("table",{id:"tableManager"},i.a.createElement("thead",null,i.a.createElement("tr",null,["scene","Len","A","B","C","D"].map(function(e){return i.a.createElement("th",{key:"table_scene_col_"+e},e)}))),i.a.createElement("tbody",null,Vt.getScenesAsc.map(function(t){return i.a.createElement("tr",{key:"table_row_"+t.id,onClick:e.rowClick,style:{backgroundColor:e.props.selectedScene.id===t.id?"blue":"transparent"}},i.a.createElement("td",null,t.id),i.a.createElement("td",null,u.Time(Vt.getSceneLength(t.id)).toBarsBeatsSixteenths().split(":")[0]),["A","B","C","D"].map(function(o){return i.a.createElement("td",{key:"table_row_"+t.id+"_btn_"+o},i.a.createElement("button",{id:"table_row_"+t.id+"_btn_"+o,className:"managerTableColButton",onClick:function(){return e.muteSceneGroup(t.id,o)}},"M"))}))}))),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("br",null)))}}]),t}(n.Component)),di=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).objMeterCanvas=[],o.objButtonCanvas=[],o.objEditCanvas=[],o.initPlayhead=function(){o.playhead=document.getElementById("playhead"),o.playhead&&("sequencer"===o.props.viewMode&&"M"===o.props.store.ui.selectedGroup?o.playhead.style.display="none":"sequencer"===o.props.viewMode&&o.props.store.ui.mixMode?o.playhead.style.display="none":o.playhead.style.display="block"),o.hdrPlayhead=document.getElementById("hdrPlayhead")},o.resetObjArray=function(e){e&&(e.forEach(function(e){e.waveform&&(e.waveform.dispose(),e.waveform=null)}),e=[])},o.initEditObjs=function(){o.resetObjArray(o.objEditCanvas),ne.instruments.filter(function(e){return e.track===o.props.selectedTrack.id}).forEach(function(e){"mix"!==e.id.split("_")[0]&&o.addObjEditCanvas(e)}),ne.components.filter(function(e){return e.track===o.props.selectedTrack.id}).forEach(function(e){"mix"!==e.id.split("_")[0]&&o.addObjEditCanvas(e)}),ne.effects.filter(function(e){return e.track===o.props.selectedTrack.id}).forEach(function(e){"mix"!==e.id.split("_")[0]&&o.addObjEditCanvas(e)}),ne.sources.filter(function(e){return e.track===o.props.selectedTrack.id}).forEach(function(e){"mix"!==e.id.split("_")[0]&&o.addObjEditCanvas(e)})},o.addObjEditCanvas=function(e){var t=document.getElementById("canvas_"+e.id),n=t.getContext("2d");n.canvas.width=t.width,n.canvas.height=t.height;var i=n.createLinearGradient(0,0,n.canvas.width,n.canvas.height);i.addColorStop(0,"#ddd"),i.addColorStop(1,"#000");var r=new u.Waveform(1024);e.obj.connect(r),o.objEditCanvas.push({id:e.id,obj:e.obj,waveform:r,gradient:i,ctx:n,width:n.canvas.width,height:n.canvas.height})},o.initAddButtonObjs=function(){o.resetObjArray(o.objButtonCanvas),Vt.getTracksByGroup(Vt.ui.selectedGroup).filter(function(e){return"instrument"===e.type}).forEach(function(e){var t=ne.components.find(function(t){return t.id===e.getPanVol.id});if(t){var n=document.getElementById("canvasGridButton_"+e.id),i=n.getContext("2d");i.canvas.width=n.width,i.canvas.height=n.height;var r=i.createLinearGradient(0,0,i.canvas.width,i.canvas.height);r.addColorStop(0,"#ddd"),r.addColorStop(1,"#ddd");var a=new u.Waveform(1024);t.obj.connect(a),o.objButtonCanvas.push({id:t.id,obj:t.obj,waveform:a,gradient:r,ctx:i,width:i.canvas.width,height:i.canvas.height})}})},o.initMeters=function(){o.objMeterCanvas=[],o.props.tracks.forEach(function(e){if(o.props.selectedTrack===e||"sequencer"===o.props.store.ui.viewMode){var t=document.getElementById("canvas-L-"+e.id),n=document.getElementById("canvas-R-"+e.id);if(t&&n){var i=ne.components.find(function(t){return t.id==="mix_meter_L_"+e.id}),r=ne.components.find(function(t){return t.id==="mix_meter_R_"+e.id});if(i&&r&&i.obj&&r.obj){var a=t.getContext("2d"),s=n.getContext("2d"),l=t.width,c=t.height,p=a.createLinearGradient(0,0,l,0);p.addColorStop(0,"#BFFF02"),p.addColorStop(.8,"#02FF24"),p.addColorStop(1,"#FF0202");var d=s.createLinearGradient(0,0,l,0);d.addColorStop(0,"#BFFF02"),d.addColorStop(.8,"#02FF24"),d.addColorStop(1,"#FF0202"),o.objMeterCanvas.push({track:e.id,type:e.type,meterL:i,meterR:r,ctxL:a,ctxR:s,width:l,height:c,gradientL:p,gradientR:d})}}}})},o.draw=function(){o.drawPlayhead(),(o.props.mixMode||"edit"===Vt.ui.viewMode||"button"===Vt.ui.viewMode)&&o.objMeterCanvas&&o.drawTrackMixMeters(),"edit"===Vt.ui.viewMode&&"graph"===o.props.editViewMode&&o.drawEditViewObjs(),"button"===Vt.ui.viewMode&&o.drawButtonViewObjs(),requestAnimationFrame(o.draw)},o.drawButtonViewObjs=function(){o.objButtonCanvas||o.initAddButtonObjs(),o.objButtonCanvas.forEach(function(e){if(e.waveform){var t=e.waveform.getValue();e.ctx.clearRect(0,0,e.width,e.height),e.ctx.beginPath(),e.ctx.lineJoin="round",e.ctx.lineWidth=6,e.ctx.strokeStyle=e.gradient,e.ctx.moveTo(0,t[0]/255*e.height);for(var o=1,n=t.length;o<n;o++){var i=(t[o]+1)/2,r=e.width*(o/n),a=i*e.height;e.ctx.lineTo(r,a)}e.ctx.stroke()}})},o.drawEditViewObjs=function(){o.objEditCanvas||o.initEditObjs(),o.objEditCanvas.forEach(function(e){if(e.waveform){var t=e.waveform.getValue();e.ctx.clearRect(0,0,e.width,e.height),e.ctx.beginPath(),e.ctx.lineJoin="round",e.ctx.lineWidth=6,e.ctx.strokeStyle=e.gradient,e.ctx.moveTo(0,t[0]/255*e.height);for(var o=1,n=t.length;o<n;o++){var i=(t[o]+1)/2,r=e.width*(o/n),a=i*e.height;e.ctx.lineTo(r,a)}e.ctx.stroke()}})},o.drawTrackMixMeters=function(){o.objMeterCanvas.forEach(function(e){if(e.meterL.obj&&e.meterR.obj)if(e.meterL.obj._analyser&&e.meterR.obj._analyser){var t=e.meterL.obj.getValue(),n=e.meterR.obj.getValue();t=u.dbToGain(t),n=u.dbToGain(n),e.ctxL.clearRect(0,0,e.width,e.height),e.ctxL.fillStyle=e.gradientL,e.ctxL.fillRect(0,0,e.width,e.height),e.ctxL.fillStyle="#0c0b1b",e.ctxL.fillRect(e.width*t,0,e.width,e.height),e.ctxR.clearRect(0,0,e.width,e.height),e.ctxR.fillStyle=e.gradientR,e.ctxR.fillRect(0,0,e.width,e.height),e.ctxR.fillStyle="#0c0b1b",e.ctxR.fillRect(e.width*n,0,e.width,e.height)}else o.initMeters()})},o.drawPlayhead=function(){if("edit"===o.props.viewMode&&"bar"===o.props.editViewMode)if("started"===u.Transport.state){var e=u.Time(u.Transport.position)-u.Time(Vt.ui.selectedScene.start),t=parseInt(u.Time(e).toBarsBeatsSixteenths().split(":")[0],10)+1;o.playhead||(o.playhead=document.getElementById("playhead_"+o.props.selectedTrack.id+"_"+t)),o.playhead&&(parseInt(o.playhead.id.split("_")[2],10)!==t&&(o.playhead.style.display="none",o.playhead=document.getElementById("playhead_"+o.props.selectedTrack.id+"_"+t),o.playhead&&(o.playhead.style.display="block")),o.playhead&&(o.pos=(e-u.Time(t-1+":0:0"))/u.Time(Vt.ui.viewLength)*Vt.ui.windowWidth,o.playhead.style.tansform=o.playhead.style.webkitTransform="translateX("+o.pos+"px)"))}else o.playhead&&"none"!==o.playhead.display&&(o.playhead.style.display="none",o.playhead.style.transform="translateX(0px)",o.playhead=void 0);else if(("sequencer"===o.props.viewMode&&!o.props.store.ui.mixMode||"button"===o.props.viewMode||"edit"===o.props.viewMode)&&o.playhead)if("started"===u.Transport.state){if(Vt.ui.selectedScene){var n=u.Time(u.Transport.position)-u.Time(Vt.ui.selectedScene.start);o.pos=n/u.Time(Vt.ui.viewLength)*Vt.ui.windowWidth,o.playhead.style.tansform=o.playhead.style.webkitTransform="translateX("+o.pos+"px)"}}else o.playhead.style.transform="translateX(0px)";o.hdrPlayhead&&("started"===u.Transport.state?(o.hdrPos=u.Time(u.Transport.position)/Vt.getSongLength()*o.props.store.ui.windowWidth,o.hdrPlayhead.style.tansform=o.hdrPlayhead.style.webkitTransform="translateX("+o.hdrPos+"px)"):o.hdrPlayhead.style.transform="translateX(0px)")},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.reqVal=requestAnimationFrame(this.draw),this.initPlayhead()}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.reqVal)}},{key:"componentDidUpdate",value:function(e){this.initPlayhead(),(!e.mixMode&&this.props.mixMode||e.viewMode!==this.props.viewMode||e.selectedTrack!==this.props.selectedTrack||e.numTracks!==this.props.numTracks||!this.props.editMode&&e.editMode&&"bar"===this.props.editViewMode||"edit"===this.props.viewMode&&"graph"===this.props.editViewMode&&"graph"!==e.editViewMode)&&this.initMeters(),"edit"===this.props.viewMode&&"graph"===this.props.editViewMode&&(e.objs.length===this.props.objs.length&&"edit"===e.viewMode&&"bar"!==e.editViewMode&&e.selectedTrack===this.props.selectedTrack||this.initEditObjs()),("button"===this.props.viewMode&&"button"!==e.viewMode||this.props.numTracks!==e.numTracks&&"button"===this.props.viewMode)&&this.initAddButtonObjs(),"edit"!==e.viewMode||"graph"!==e.editViewMode||"edit"===this.props.viewMode&&"graph"===this.props.editViewMode||this.resetObjArray(this.objEditCanvas),"button"===e.viewMode&&"button"!==this.props.viewMode&&this.resetObjArray(this.objButtonCanvas)}},{key:"render",value:function(){return null}}]),t}(n.Component)),mi=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).endAnimation=function(e){e.target.style.animation="none",e.target.style.display="none",e.target.classList.remove("drop-active")},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;k()("#divDropZone").dropzone({accept:".itemSelected",ondropactivate:function(e){document.querySelector(".itemSelected").classList.contains("itemDragging")&&(e.target.style.display="block")},ondragenter:function(e){e.relatedTarget.classList.contains("itemDragging")&&e.target.classList.add("drop-active")},ondragleave:function(e){e.target.classList.remove("drop-active")},ondrop:function(e){var t=e.relatedTarget.id.split("_")[1];document.getElementById("btnBrowseLoad_"+t).click()},ondropdeactivate:function(t){e.endAnimation(t)}})}},{key:"componentWillUnmount",value:function(){k()("#divDropZone").unset()}},{key:"render",value:function(){return i.a.createElement("div",{id:"divDropZone",style:{width:Vt.ui.windowWidth+"px"}})}}]),t}(n.Component)),ui=Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).selectedSongTitle="",o.selectedSongId="",o.bConfirm=!1,o.rowClick=function(e){o.selectedSongId=e.target.parentNode.id;for(var t=e.target.parentNode.parentNode.children,n=0;n<t.length;n++)t[n].id===o.selectedSongId?(t[n].style.backgroundColor="rgb(19, 62, 131)",o.selectedSongTitle=t[n].children[0].textContent,o.toggleIconOpacity(!0),o.enableBtnLoad()):t[n].style.backgroundColor="transparent"},o.formatDate=function(e){var t=e.getMonth(),o=e.getDate(),n=e.getFullYear().toString().substr(2,2);return o+" "+["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t]+" "+n},o.toggleIconOpacity=function(e){var t=document.getElementById("iconDeleteSong");t&&(t.style.opacity=e?1:.4)},o.toggleWindow=function(){var e=document.getElementById("myModal");e.style.display&&"none"!==e.style.display?(e.style.display="none",document.getElementById("divToolRowNav").style.zIndex=2,document.getElementById("divFooter").style.zIndex=3):(e.style.display="block",document.getElementById("divToolRowNav").style.zIndex=1,document.getElementById("divFooter").style.zIndex=1)},o.enableBtnLoad=function(){var e=document.getElementById("modalBtnLoad");e&&(e.disabled=!1,e.onclick=function(){return o.btnClickLoad()})},o.btnClickLoad=function(e){o.selectedSongId&&(Vt.ui.toolbar.browser.setAction(void 0),sessionStorage.setItem("load_songId",o.selectedSongId),window.location.reload())},o.btnClickSave=function(e){Vt.setSongId("song_"+oe()),Vt.settings.setSongTitle(document.getElementById("inputSong").value),Vt.settings.setModified(Date.now()),Vt.DBSaveStore(!0),o.forceUpdate()},o.btnClickDelete=function(e){o.selectedSongId&&(o.bConfirm=!0,o.forceUpdate())},o.btnConfirmDelete=function(e){e&&Vt.DBDeleteSongById(o.selectedSongId),o.bConfirm=!1,o.resetSelectedSong(),o.forceUpdate(),o.toggleWindow()},o.resetSelectedSong=function(){o.selectedSongId="",o.selectedSongTitle=""},o.inputText=function(e){e.target.value?document.getElementById("modalBtnSave").disabled=!1:document.getElementById("modalBtnSave").disabled=!0},o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.toggleIconOpacity(!1),document.getElementById("modalClose").onclick=function(){e.bConfirm=!1,e.resetSelectedSong(),e.toggleWindow()}}},{key:"componentDidUpdate",value:function(e){var t=this;this.toggleIconOpacity(!1),this.props.action&&!this.bConfirm&&(document.getElementById("inputSong").value=Vt.settings.title,Vt.DBGetAllSongs().then(function(e){for(var o=document.getElementById("tableSongs");o.hasChildNodes();)o.removeChild(o.firstChild);e.length>0&&e.sort(function(e,t){return t.modified-e.modified}).forEach(function(e){var n=o.insertRow(0);n.id=e.id,n.onclick=t.rowClick;var i=n.insertCell(0);i.style.width="80%",i.innerHTML=e.title,n.insertCell(1).innerHTML=t.formatDate(new Date(e.modified))})}),this.toggleWindow())}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"myModal",className:"modal"},i.a.createElement("div",{id:"modalContent",className:"modal-content"},i.a.createElement("div",{style:{width:"100%"}},this.bConfirm?null:i.a.createElement("i",{id:"iconDeleteSong",className:"material-icons i-28 colorRed",style:{left:"4px",top:"4px",position:"relative",opacity:.4},onClick:this.btnClickDelete},"delete"),i.a.createElement("span",{id:"modalClose",className:"modalClose"},"\xd7"),this.bConfirm?null:i.a.createElement("input",{id:"inputSong",type:"text",placeholder:"song name",onInput:this.inputText})),i.a.createElement("br",null),this.bConfirm?i.a.createElement(bi,{confirm:function(){return e.btnConfirmDelete(!0)},cancel:function(){return e.btnConfirmDelete(!1)},title:this.selectedSongTitle}):i.a.createElement("div",null,i.a.createElement("div",{id:"modalSongList"},i.a.createElement("table",{id:"tableSongs"})),i.a.createElement(fi,{action:this.props.action,btnClickLoad:this.btnClickLoad,btnClickSave:this.btnClickSave}))))}}]),t}(n.Component)),bi=function(e){return i.a.createElement("div",{style:{top:"10%",position:"relative"}},i.a.createElement("div",{style:{textAlign:"center",height:"40px"}},i.a.createElement("label",null,"Delete song ",e.title,"?")),i.a.createElement("button",{onClick:e.confirm,style:{float:"left",width:"50%",height:"40px"}},"Yes"),i.a.createElement("button",{onClick:e.cancel,style:{float:"right",width:"50%",height:"40px"}},"No"))},fi=function(e){return i.a.createElement("div",null,e.action&&"Load"===e.action.substr(0,4)?i.a.createElement("button",{disabled:!0,id:"modalBtnLoad",style:{bottom:0,width:"100%",height:"40px",position:"absolute"}},"LOAD"):e.action&&"undefined"!==e.action.split("_")[0]?i.a.createElement("button",{id:"modalBtnSave",onClick:e.btnClickSave,style:{bottom:0,width:"100%",height:"40px",position:"absolute"}},"SAVE"):i.a.createElement("button",{style:{bottom:0,width:"100%",height:"40px",position:"absolute"}},"Waiting"))},hi=(o(853),o(855),Object(m.a)(function(e){function t(){var e,o;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=Object(c.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).bFirstLoad=!0,o}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){u.start(),ne.initMetronome(),console.log(u.context.sampleRate),document.getElementById("imgBGLogo").classList.add("logoFade");var e=sessionStorage.getItem("load_songId");e?(Vt.DBLoadStore(e),sessionStorage.removeItem("load_songId")):this.props.store.tracks.find(function(e){return"track_master"===e.id})||Vt.addMasterTracks()}},{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){this.bFirstLoad&&(this.bFirstLoad=!1,$());var e,t=null;return"sequencer"===this.props.store.ui.viewMode?t=i.a.createElement(Xn,{store:this.props.store,mixMode:this.props.store.ui.mixMode,selectedGroup:this.props.store.ui.selectedGroup,numTracks:Vt.getTracksByGroup(this.props.store.ui.selectedGroup).length,windowHeight:this.props.store.ui.windowHeight}):"button"===this.props.store.ui.viewMode?t=i.a.createElement(Zn,{store:this.props.store,selectedTrack:this.props.store.ui.selectedTrack,editMode:this.props.store.ui.editMode}):"edit"===this.props.store.ui.viewMode&&this.props.store.ui.selectedTrack?t=i.a.createElement(ei,{store:this.props.store,track:this.props.store.ui.selectedTrack,edit:this.props.store.ui.editMode,windowHeight:this.props.store.ui.windowHeight,windowWidth:this.props.store.ui.windowWidth,editViewMode:this.props.store.ui.views.edit.mode}):"manager"===this.props.store.ui.viewMode&&(t=i.a.createElement(li,{store:this.props.store,managerMode:this.props.store.ui.views.manager.mode})),this.props.store.ui.showSideBar&&(e=i.a.createElement(Bn,{content:i.a.createElement(to,{id:"browser3",selectedDir:this.props.store.ui.toolbar.browser.browser3.selectedDir,songKey:this.props.store.settings.key,songScale:this.props.store.settings.scale,songSwing:this.props.store.settings.swingSubdivision,modified:this.props.store.settings.modified,numSamples:this.props.store.numSamples,numRegions:this.props.store.numRegions,selectedGroup:this.props.store.ui.selectedGroup})})),i.a.createElement("div",{id:"container",style:{width:Vt.ui.windowWidth+"px"}},i.a.createElement(Dn,{store:this.props.store,songLength:this.props.store.getSongLength(),windowWidth:this.props.store.ui.windowWidth}),t,e,i.a.createElement(xn,{store:this.props.store,mode:this.props.store.ui.viewMode,selectedToolbar:this.props.store.ui.selectedToolbar,windowHeight:this.props.store.ui.windowHeight}),i.a.createElement(Gt,{store:this.props.store,viewMode:this.props.store.ui.viewMode,bpm:this.props.store.settings.bpm,settings:this.props.store.ui.settings}),i.a.createElement(di,{store:this.props.store,mixMode:this.props.store.ui.mixMode,tracks:this.props.store.tracks,numTracks:this.props.store.getTracksByGroup(this.props.store.ui.selectedGroup).length,viewMode:this.props.store.ui.viewMode,selectedTrack:this.props.store.ui.selectedTrack,objs:this.props.store.getObjsByTrackObj(this.props.store.ui.selectedTrack),editViewMode:this.props.store.ui.views.edit.mode,editMode:this.props.store.ui.editMode}),i.a.createElement(mi,{store:this.props.store}),i.a.createElement(ui,{action:this.props.store.ui.toolbar.browser.action}),i.a.createElement("img",{src:"logobg.png",id:"imgBGLogo",alt:"propa.app",draggable:"false"}))}}]),t}(n.Component))),gi=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return i.a.createElement(hi,{store:Vt})}}]),t}(n.Component),_i=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function yi(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}a.a.render(i.a.createElement(gi,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");_i?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):yi(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):yi(e)})}}()}},[[756,2,1]]]);
//# sourceMappingURL=main.01a92466.chunk.js.map